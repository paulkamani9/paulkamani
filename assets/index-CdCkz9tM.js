function u8(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Jo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XM={exports:{}},xv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD;function c8(){if(jD)return xv;jD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var u in r)u!=="key"&&(a[u]=r[u])}else a=r;return r=a.ref,{$$typeof:t,type:i,key:o,ref:r!==void 0?r:null,props:a}}return xv.Fragment=e,xv.jsx=n,xv.jsxs=n,xv}var kD;function f8(){return kD||(kD=1,XM.exports=c8()),XM.exports}var P=f8(),WM={exports:{}},an={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD;function h8(){if(GD)return an;GD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function T(Y,re,he){this.props=Y,this.context=re,this.refs=A,this.updater=he||b}T.prototype.isReactComponent={},T.prototype.setState=function(Y,re){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,re,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=T.prototype;function R(Y,re,he){this.props=Y,this.context=re,this.refs=A,this.updater=he||b}var D=R.prototype=new M;D.constructor=R,_(D,T.prototype),D.isPureReactComponent=!0;var N=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function V(Y,re,he,Pe,je,ot){return he=ot.ref,{$$typeof:t,type:Y,key:re,ref:he!==void 0?he:null,props:ot}}function F(Y,re){return V(Y.type,re,void 0,void 0,void 0,Y.props)}function B(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function z(Y){var re={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(he){return re[he]})}var G=/\/+/g;function ee(Y,re){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):re.toString(36)}function ie(){}function pe(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(ie,ie):(Y.status="pending",Y.then(function(re){Y.status==="pending"&&(Y.status="fulfilled",Y.value=re)},function(re){Y.status==="pending"&&(Y.status="rejected",Y.reason=re)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function ue(Y,re,he,Pe,je){var ot=typeof Y;(ot==="undefined"||ot==="boolean")&&(Y=null);var ve=!1;if(Y===null)ve=!0;else switch(ot){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(Y.$$typeof){case t:case e:ve=!0;break;case m:return ve=Y._init,ue(ve(Y._payload),re,he,Pe,je)}}if(ve)return je=je(Y),ve=Pe===""?"."+ee(Y,0):Pe,N(je)?(he="",ve!=null&&(he=ve.replace(G,"$&/")+"/"),ue(je,re,he,"",function(Oe){return Oe})):je!=null&&(B(je)&&(je=F(je,he+(je.key==null||Y&&Y.key===je.key?"":(""+je.key).replace(G,"$&/")+"/")+ve)),re.push(je)),1;ve=0;var ze=Pe===""?".":Pe+":";if(N(Y))for(var Ye=0;Ye<Y.length;Ye++)Pe=Y[Ye],ot=ze+ee(Pe,Ye),ve+=ue(Pe,re,he,ot,je);else if(Ye=y(Y),typeof Ye=="function")for(Y=Ye.call(Y),Ye=0;!(Pe=Y.next()).done;)Pe=Pe.value,ot=ze+ee(Pe,Ye++),ve+=ue(Pe,re,he,ot,je);else if(ot==="object"){if(typeof Y.then=="function")return ue(pe(Y),re,he,Pe,je);throw re=String(Y),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ve}function X(Y,re,he){if(Y==null)return Y;var Pe=[],je=0;return ue(Y,Pe,"","",function(ot){return re.call(he,ot,je++)}),Pe}function Q(Y){if(Y._status===-1){var re=Y._result;re=re(),re.then(function(he){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=he)},function(he){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=he)}),Y._status===-1&&(Y._status=0,Y._result=re)}if(Y._status===1)return Y._result.default;throw Y._result}var $=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function me(){}return an.Children={map:X,forEach:function(Y,re,he){X(Y,function(){re.apply(this,arguments)},he)},count:function(Y){var re=0;return X(Y,function(){re++}),re},toArray:function(Y){return X(Y,function(re){return re})||[]},only:function(Y){if(!B(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},an.Component=T,an.Fragment=n,an.Profiler=r,an.PureComponent=R,an.StrictMode=i,an.Suspense=f,an.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,an.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return U.H.useMemoCache(Y)}},an.cache=function(Y){return function(){return Y.apply(null,arguments)}},an.cloneElement=function(Y,re,he){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var Pe=_({},Y.props),je=Y.key,ot=void 0;if(re!=null)for(ve in re.ref!==void 0&&(ot=void 0),re.key!==void 0&&(je=""+re.key),re)!L.call(re,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&re.ref===void 0||(Pe[ve]=re[ve]);var ve=arguments.length-2;if(ve===1)Pe.children=he;else if(1<ve){for(var ze=Array(ve),Ye=0;Ye<ve;Ye++)ze[Ye]=arguments[Ye+2];Pe.children=ze}return V(Y.type,je,void 0,void 0,ot,Pe)},an.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},an.createElement=function(Y,re,he){var Pe,je={},ot=null;if(re!=null)for(Pe in re.key!==void 0&&(ot=""+re.key),re)L.call(re,Pe)&&Pe!=="key"&&Pe!=="__self"&&Pe!=="__source"&&(je[Pe]=re[Pe]);var ve=arguments.length-2;if(ve===1)je.children=he;else if(1<ve){for(var ze=Array(ve),Ye=0;Ye<ve;Ye++)ze[Ye]=arguments[Ye+2];je.children=ze}if(Y&&Y.defaultProps)for(Pe in ve=Y.defaultProps,ve)je[Pe]===void 0&&(je[Pe]=ve[Pe]);return V(Y,ot,void 0,void 0,null,je)},an.createRef=function(){return{current:null}},an.forwardRef=function(Y){return{$$typeof:u,render:Y}},an.isValidElement=B,an.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:Q}},an.memo=function(Y,re){return{$$typeof:d,type:Y,compare:re===void 0?null:re}},an.startTransition=function(Y){var re=U.T,he={};U.T=he;try{var Pe=Y(),je=U.S;je!==null&&je(he,Pe),typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"&&Pe.then(me,$)}catch(ot){$(ot)}finally{U.T=re}},an.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},an.use=function(Y){return U.H.use(Y)},an.useActionState=function(Y,re,he){return U.H.useActionState(Y,re,he)},an.useCallback=function(Y,re){return U.H.useCallback(Y,re)},an.useContext=function(Y){return U.H.useContext(Y)},an.useDebugValue=function(){},an.useDeferredValue=function(Y,re){return U.H.useDeferredValue(Y,re)},an.useEffect=function(Y,re,he){var Pe=U.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Pe.useEffect(Y,re)},an.useId=function(){return U.H.useId()},an.useImperativeHandle=function(Y,re,he){return U.H.useImperativeHandle(Y,re,he)},an.useInsertionEffect=function(Y,re){return U.H.useInsertionEffect(Y,re)},an.useLayoutEffect=function(Y,re){return U.H.useLayoutEffect(Y,re)},an.useMemo=function(Y,re){return U.H.useMemo(Y,re)},an.useOptimistic=function(Y,re){return U.H.useOptimistic(Y,re)},an.useReducer=function(Y,re,he){return U.H.useReducer(Y,re,he)},an.useRef=function(Y){return U.H.useRef(Y)},an.useState=function(Y){return U.H.useState(Y)},an.useSyncExternalStore=function(Y,re,he){return U.H.useSyncExternalStore(Y,re,he)},an.useTransition=function(){return U.H.useTransition()},an.version="19.1.1",an}var qD;function bd(){return qD||(qD=1,WM.exports=h8()),WM.exports}var H=bd();const wI=Jo(H),d8=u8({__proto__:null,default:wI},[H]);var YM={exports:{}},bv={},KM={exports:{}},ZM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function p8(){return XD||(XD=1,(function(t){function e(X,Q){var $=X.length;X.push(Q);e:for(;0<$;){var me=$-1>>>1,Y=X[me];if(0<r(Y,Q))X[me]=Q,X[$]=Y,$=me;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Q=X[0],$=X.pop();if($!==Q){X[0]=$;e:for(var me=0,Y=X.length,re=Y>>>1;me<re;){var he=2*(me+1)-1,Pe=X[he],je=he+1,ot=X[je];if(0>r(Pe,$))je<Y&&0>r(ot,Pe)?(X[me]=ot,X[je]=$,me=je):(X[me]=Pe,X[he]=$,me=he);else if(je<Y&&0>r(ot,$))X[me]=ot,X[je]=$,me=je;else break e}}return Q}function r(X,Q){var $=X.sortIndex-Q.sortIndex;return $!==0?$:X.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],d=[],m=1,g=null,y=3,b=!1,_=!1,A=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function N(X){for(var Q=n(d);Q!==null;){if(Q.callback===null)i(d);else if(Q.startTime<=X)i(d),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=n(d)}}function U(X){if(A=!1,N(X),!_)if(n(f)!==null)_=!0,L||(L=!0,ee());else{var Q=n(d);Q!==null&&ue(U,Q.startTime-X)}}var L=!1,V=-1,F=5,B=-1;function z(){return T?!0:!(t.unstable_now()-B<F)}function G(){if(T=!1,L){var X=t.unstable_now();B=X;var Q=!0;try{e:{_=!1,A&&(A=!1,R(V),V=-1),b=!0;var $=y;try{t:{for(N(X),g=n(f);g!==null&&!(g.expirationTime>X&&z());){var me=g.callback;if(typeof me=="function"){g.callback=null,y=g.priorityLevel;var Y=me(g.expirationTime<=X);if(X=t.unstable_now(),typeof Y=="function"){g.callback=Y,N(X),Q=!0;break t}g===n(f)&&i(f),N(X)}else i(f);g=n(f)}if(g!==null)Q=!0;else{var re=n(d);re!==null&&ue(U,re.startTime-X),Q=!1}}break e}finally{g=null,y=$,b=!1}Q=void 0}}finally{Q?ee():L=!1}}}var ee;if(typeof D=="function")ee=function(){D(G)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,pe=ie.port2;ie.port1.onmessage=G,ee=function(){pe.postMessage(null)}}else ee=function(){M(G,0)};function ue(X,Q){V=M(function(){X(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var $=y;y=Q;try{return X()}finally{y=$}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var $=y;y=X;try{return Q()}finally{y=$}},t.unstable_scheduleCallback=function(X,Q,$){var me=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?me+$:me):$=me,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,X={id:m++,callback:Q,priorityLevel:X,startTime:$,expirationTime:Y,sortIndex:-1},$>me?(X.sortIndex=$,e(d,X),n(f)===null&&X===n(d)&&(A?(R(V),V=-1):A=!0,ue(U,$-me))):(X.sortIndex=Y,e(f,X),_||b||(_=!0,L||(L=!0,ee()))),X},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(X){var Q=y;return function(){var $=y;y=Q;try{return X.apply(this,arguments)}finally{y=$}}}})(ZM)),ZM}var WD;function m8(){return WD||(WD=1,KM.exports=p8()),KM.exports}var QM={exports:{}},Jr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD;function g8(){if(YD)return Jr;YD=1;var t=bd();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:f,containerInfo:d,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Jr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Jr.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(f,d,null,m)},Jr.flushSync=function(f){var d=o.T,m=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=d,i.p=m,i.d.f()}},Jr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Jr.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Jr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,g=u(m,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Jr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Jr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=u(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Jr.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Jr.requestFormReset=function(f){i.d.r(f)},Jr.unstable_batchedUpdates=function(f,d){return f(d)},Jr.useFormState=function(f,d,m){return o.H.useFormState(f,d,m)},Jr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Jr.version="19.1.1",Jr}var KD;function v8(){if(KD)return QM.exports;KD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),QM.exports=g8(),QM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD;function y8(){if(ZD)return bv;ZD=1;var t=m8(),e=bd(),n=v8();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)l+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,p=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(p=l.return),s=l.return;while(s)}return l.tag===3?p:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(i(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(i(188));return l!==s?null:s}for(var p=s,v=l;;){var S=p.return;if(S===null)break;var w=S.alternate;if(w===null){if(v=S.return,v!==null){p=v;continue}break}if(S.child===w.child){for(w=S.child;w;){if(w===p)return u(S),s;if(w===v)return u(S),l;w=w.sibling}throw Error(i(188))}if(p.return!==v.return)p=S,v=w;else{for(var I=!1,k=S.child;k;){if(k===p){I=!0,p=S,v=w;break}if(k===v){I=!0,v=S,p=w;break}k=k.sibling}if(!I){for(k=w.child;k;){if(k===p){I=!0,p=w,v=S;break}if(k===v){I=!0,v=w,p=S;break}k=k.sibling}if(!I)throw Error(i(189))}}if(p.alternate!==v)throw Error(i(190))}if(p.tag!==3)throw Error(i(188));return p.stateNode.current===p?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ie?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case U:return"Suspense";case L:return"SuspenseList";case B:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case D:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case N:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return l=s.displayName||null,l!==null?l:pe(s.type)||"Memo";case F:l=s._payload,s=s._init;try{return pe(s(l))}catch{}}return null}var ue=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},me=[],Y=-1;function re(s){return{current:s}}function he(s){0>Y||(s.current=me[Y],me[Y]=null,Y--)}function Pe(s,l){Y++,me[Y]=s.current,s.current=l}var je=re(null),ot=re(null),ve=re(null),ze=re(null);function Ye(s,l){switch(Pe(ve,l),Pe(ot,s),Pe(je,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?gD(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=gD(l),s=vD(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}he(je),Pe(je,s)}function Oe(){he(je),he(ot),he(ve)}function Xe(s){s.memoizedState!==null&&Pe(ze,s);var l=je.current,p=vD(l,s.type);l!==p&&(Pe(ot,s),Pe(je,p))}function lt(s){ot.current===s&&(he(je),he(ot)),ze.current===s&&(he(ze),pv._currentValue=$)}var Le=Object.prototype.hasOwnProperty,J=t.unstable_scheduleCallback,De=t.unstable_cancelCallback,Ue=t.unstable_shouldYield,Ne=t.unstable_requestPaint,we=t.unstable_now,tt=t.unstable_getCurrentPriorityLevel,We=t.unstable_ImmediatePriority,Qe=t.unstable_UserBlockingPriority,Nt=t.unstable_NormalPriority,Vt=t.unstable_LowPriority,K=t.unstable_IdlePriority,j=t.log,ge=t.unstable_setDisableYieldValue,Ce=null,Ve=null;function Re(s){if(typeof j=="function"&&ge(s),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(Ce,s)}catch{}}var ct=Math.clz32?Math.clz32:xt,nt=Math.log,yt=Math.LN2;function xt(s){return s>>>=0,s===0?32:31-(nt(s)/yt|0)|0}var qe=256,at=4194304;function At(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function bt(s,l,p){var v=s.pendingLanes;if(v===0)return 0;var S=0,w=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var k=v&134217727;return k!==0?(v=k&~w,v!==0?S=At(v):(I&=k,I!==0?S=At(I):p||(p=k&~s,p!==0&&(S=At(p))))):(k=v&~w,k!==0?S=At(k):I!==0?S=At(I):p||(p=v&~s,p!==0&&(S=At(p)))),S===0?0:l!==0&&l!==S&&(l&w)===0&&(w=S&-S,p=l&-l,w>=p||w===32&&(p&4194048)!==0)?l:S}function st(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Ht(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oe(){var s=qe;return qe<<=1,(qe&4194048)===0&&(qe=256),s}function Je(){var s=at;return at<<=1,(at&62914560)===0&&(at=4194304),s}function it(s){for(var l=[],p=0;31>p;p++)l.push(s);return l}function mt(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ke(s,l,p,v,S,w){var I=s.pendingLanes;s.pendingLanes=p,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=p,s.entangledLanes&=p,s.errorRecoveryDisabledLanes&=p,s.shellSuspendCounter=0;var k=s.entanglements,te=s.expirationTimes,be=s.hiddenUpdates;for(p=I&~p;0<p;){var Be=31-ct(p),ke=1<<Be;k[Be]=0,te[Be]=-1;var Se=be[Be];if(Se!==null)for(be[Be]=null,Be=0;Be<Se.length;Be++){var Me=Se[Be];Me!==null&&(Me.lane&=-536870913)}p&=~ke}v!==0&&Fe(s,v,0),w!==0&&S===0&&s.tag!==0&&(s.suspendedLanes|=w&~(I&~l))}function Fe(s,l,p){s.pendingLanes|=l,s.suspendedLanes&=~l;var v=31-ct(l);s.entangledLanes|=l,s.entanglements[v]=s.entanglements[v]|1073741824|p&4194090}function _t(s,l){var p=s.entangledLanes|=l;for(s=s.entanglements;p;){var v=31-ct(p),S=1<<v;S&l|s[v]&l&&(s[v]|=l),p&=~S}}function Lt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function pn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function cn(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:ID(s.type))}function Ua(s,l){var p=Q.p;try{return Q.p=s,l()}finally{Q.p=p}}var Si=Math.random().toString(36).slice(2),Mi="__reactFiber$"+Si,ti="__reactProps$"+Si,La="__reactContainer$"+Si,la="__reactEvents$"+Si,Of="__reactListeners$"+Si,ua="__reactHandles$"+Si,ca="__reactResources$"+Si,fa="__reactMarker$"+Si;function jn(s){delete s[Mi],delete s[ti],delete s[la],delete s[Of],delete s[ua]}function cs(s){var l=s[Mi];if(l)return l;for(var p=s.parentNode;p;){if(l=p[La]||p[Mi]){if(p=l.alternate,l.child!==null||p!==null&&p.child!==null)for(s=_D(s);s!==null;){if(p=s[Mi])return p;s=_D(s)}return l}s=p,p=s.parentNode}return null}function Ps(s){if(s=s[Mi]||s[La]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function el(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function ho(s){var l=s[ca];return l||(l=s[ca]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ei(s){s[fa]=!0}var ic=new Set,rc={};function q(s,l){le(s,l),le(s+"Capture",l)}function le(s,l){for(rc[s]=l,s=0;s<l.length;s++)ic.add(l[s])}var xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ee={},fe={};function Ze(s){return Le.call(fe,s)?!0:Le.call(Ee,s)?!1:xe.test(s)?fe[s]=!0:(Ee[s]=!0,!1)}function rt(s,l,p){if(Ze(l))if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+p)}}function gt(s,l,p){if(p===null)s.removeAttribute(l);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+p)}}function ut(s,l,p,v){if(v===null)s.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(p);return}s.setAttributeNS(l,p,""+v)}}var Ct,Pt;function Tt(s){if(Ct===void 0)try{throw Error()}catch(p){var l=p.stack.trim().match(/\n( *(at )?)/);Ct=l&&l[1]||"",Pt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+s+Pt}var Jt=!1;function gn(s,l){if(!s||Jt)return"";Jt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(Me){var Se=Me}Reflect.construct(s,[],ke)}else{try{ke.call()}catch(Me){Se=Me}s.call(ke.prototype)}}else{try{throw Error()}catch(Me){Se=Me}(ke=s())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(Me){if(Me&&Se&&typeof Me.stack=="string")return[Me.stack,Se.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=v.DetermineComponentFrameRoot(),I=w[0],k=w[1];if(I&&k){var te=I.split(`
`),be=k.split(`
`);for(S=v=0;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;for(;S<be.length&&!be[S].includes("DetermineComponentFrameRoot");)S++;if(v===te.length||S===be.length)for(v=te.length-1,S=be.length-1;1<=v&&0<=S&&te[v]!==be[S];)S--;for(;1<=v&&0<=S;v--,S--)if(te[v]!==be[S]){if(v!==1||S!==1)do if(v--,S--,0>S||te[v]!==be[S]){var Be=`
`+te[v].replace(" at new "," at ");return s.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",s.displayName)),Be}while(1<=v&&0<=S);break}}}finally{Jt=!1,Error.prepareStackTrace=p}return(p=s?s.displayName||s.name:"")?Tt(p):""}function Kn(s){switch(s.tag){case 26:case 27:case 5:return Tt(s.type);case 16:return Tt("Lazy");case 13:return Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return gn(s.type,!1);case 11:return gn(s.type.render,!1);case 1:return gn(s.type,!0);case 31:return Tt("Activity");default:return""}}function Nn(s){try{var l="";do l+=Kn(s),s=s.return;while(s);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function Kt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Rt(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Zn(s){var l=Rt(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var S=p.get,w=p.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return S.call(this)},set:function(I){v=""+I,w.call(this,I)}}),Object.defineProperty(s,l,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(I){v=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function on(s){s._valueTracker||(s._valueTracker=Zn(s))}function Qi(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var p=l.getValue(),v="";return s&&(v=Rt(s)?s.checked?"true":"false":s.value),s=v,s!==p?(l.setValue(s),!0):!1}function Ia(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ji=/[\n"\\]/g;function Oi(s){return s.replace(Ji,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Pn(s,l,p,v,S,w,I,k){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Kt(l)):s.value!==""+Kt(l)&&(s.value=""+Kt(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?$i(s,I,Kt(l)):p!=null?$i(s,I,Kt(p)):v!=null&&s.removeAttribute("value"),S==null&&w!=null&&(s.defaultChecked=!!w),S!=null&&(s.checked=S&&typeof S!="function"&&typeof S!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Kt(k):s.removeAttribute("name")}function mr(s,l,p,v,S,w,I,k){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),l!=null||p!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;p=p!=null?""+Kt(p):"",l=l!=null?""+Kt(l):p,k||l===s.value||(s.value=l),s.defaultValue=l}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=k?s.checked:!!v,s.defaultChecked=!!v,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function $i(s,l,p){l==="number"&&Ia(s.ownerDocument)===s||s.defaultValue===""+p||(s.defaultValue=""+p)}function ii(s,l,p,v){if(s=s.options,l){l={};for(var S=0;S<p.length;S++)l["$"+p[S]]=!0;for(p=0;p<s.length;p++)S=l.hasOwnProperty("$"+s[p].value),s[p].selected!==S&&(s[p].selected=S),S&&v&&(s[p].defaultSelected=!0)}else{for(p=""+Kt(p),l=null,S=0;S<s.length;S++){if(s[S].value===p){s[S].selected=!0,v&&(s[S].defaultSelected=!0);return}l!==null||s[S].disabled||(l=s[S])}l!==null&&(l.selected=!0)}}function er(s,l,p){if(l!=null&&(l=""+Kt(l),l!==s.value&&(s.value=l),p==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=p!=null?""+Kt(p):""}function tu(s,l,p,v){if(l==null){if(v!=null){if(p!=null)throw Error(i(92));if(ue(v)){if(1<v.length)throw Error(i(93));v=v[0]}p=v}p==null&&(p=""),l=p}p=Kt(l),s.defaultValue=p,v=s.textContent,v===p&&v!==""&&v!==null&&(s.value=v)}function Pi(s,l){if(l){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=l;return}}s.textContent=l}var My=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pf(s,l,p){var v=l.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":v?s.setProperty(l,p):typeof p!="number"||p===0||My.has(l)?l==="float"?s.cssFloat=p:s[l]=(""+p).trim():s[l]=p+"px"}function Uf(s,l,p){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var S in l)v=l[S],l.hasOwnProperty(S)&&p[S]!==v&&Pf(s,S,v)}else for(var w in l)l.hasOwnProperty(w)&&Pf(s,w,l[w])}function wd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lf(s){return Ey.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Cd=null;function Rd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var tl=null,nu=null;function og(s){var l=Ps(s);if(l&&(s=l.stateNode)){var p=s[ti]||null;e:switch(s=l.stateNode,l.type){case"input":if(Pn(s,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),l=p.name,p.type==="radio"&&l!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Oi(""+l)+'"][type="radio"]'),l=0;l<p.length;l++){var v=p[l];if(v!==s&&v.form===s.form){var S=v[ti]||null;if(!S)throw Error(i(90));Pn(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(l=0;l<p.length;l++)v=p[l],v.form===s.form&&Qi(v)}break e;case"textarea":er(s,p.value,p.defaultValue);break e;case"select":l=p.value,l!=null&&ii(s,!!p.multiple,l,!1)}}}var If=!1;function lg(s,l,p){if(If)return s(l,p);If=!0;try{var v=s(l);return v}finally{if(If=!1,(tl!==null||nu!==null)&&(Ks(),tl&&(l=tl,s=nu,nu=tl=null,og(l),s)))for(l=0;l<s.length;l++)og(s[l])}}function ac(s,l){var p=s.stateNode;if(p===null)return null;var v=p[ti]||null;if(v===null)return null;p=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(i(231,l,typeof p));return p}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bf=!1;if(Us)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){Bf=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{Bf=!1}var po=null,ug=null,Dd=null;function cg(){if(Dd)return Dd;var s,l=ug,p=l.length,v,S="value"in po?po.value:po.textContent,w=S.length;for(s=0;s<p&&l[s]===S[s];s++);var I=p-s;for(v=1;v<=I&&l[p-v]===S[w-v];v++);return Dd=S.slice(s,1<v?1-v:void 0)}function nl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function oc(){return!0}function zf(){return!1}function Tr(s){function l(p,v,S,w,I){this._reactName=p,this._targetInst=S,this.type=v,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(p=s[k],this[k]=p?p(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?oc:zf,this.isPropagationStopped=zf,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),l}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=Tr(il),uc=m({},il,{view:0,detail:0}),Ty=Tr(uc),mo,cc,fc,hc=m({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fc&&(fc&&s.type==="mousemove"?(mo=s.screenX-fc.screenX,cc=s.screenY-fc.screenY):cc=mo=0,fc=s),mo)},movementY:function(s){return"movementY"in s?s.movementY:cc}}),fg=Tr(hc),Ay=m({},hc,{dataTransfer:0}),cM=Tr(Ay),tr=m({},uc,{relatedTarget:0}),Nd=Tr(tr),wy=m({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),Cy=Tr(wy),Ry=m({},il,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Dy=Tr(Ry),Vf=m({},il,{data:0}),Od=Tr(Vf),Ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Py[s])?!!l[s]:!1}function Hf(){return hg}var Uy=m({},uc,{key:function(s){if(s.key){var l=Ny[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=nl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Oy[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hf,charCode:function(s){return s.type==="keypress"?nl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?nl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dg=Tr(Uy),pg=m({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=Tr(pg),Ly=m({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hf}),mg=Tr(Ly),Iy=m({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),go=Tr(Iy),gg=m({},hc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),fM=Tr(gg),By=m({},il,{newState:0,oldState:0}),rl=Tr(By),vo=[9,13,27,32],Ff=Us&&"CompositionEvent"in window,iu=null;Us&&"documentMode"in document&&(iu=document.documentMode);var jf=Us&&"TextEvent"in window&&!iu,kf=Us&&(!Ff||iu&&8<iu&&11>=iu),al=" ",nr=!1;function Gf(s,l){switch(s){case"keyup":return vo.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var sl=!1;function qf(s,l){switch(s){case"compositionend":return vg(l);case"keypress":return l.which!==32?null:(nr=!0,al);case"textInput":return s=l.data,s===al&&nr?null:s;default:return null}}function yg(s,l){if(sl)return s==="compositionend"||!Ff&&Gf(s,l)?(s=cg(),Dd=ug=po=null,sl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return kf&&l.locale!=="ko"?null:l.data;default:return null}}var Ud={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!Ud[s.type]:l==="textarea"}function Gr(s,l,p,v){tl?nu?nu.push(v):nu=[v]:tl=v,l=Ix(l,"onChange"),0<l.length&&(p=new lc("onChange","change",null,p,v),s.push({event:p,listeners:l}))}var dc=null,ru=null;function zy(s){fD(s,0)}function Xf(s){var l=el(s);if(Qi(l))return s}function Ld(s,l){if(s==="change")return l}var Id=!1;if(Us){var Bd;if(Us){var pc="oninput"in document;if(!pc){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),pc=typeof mc.oninput=="function"}Bd=pc}else Bd=!1;Id=Bd&&(!document.documentMode||9<document.documentMode)}function ni(){dc&&(dc.detachEvent("onpropertychange",Vy),ru=dc=null)}function Vy(s){if(s.propertyName==="value"&&Xf(ru)){var l=[];Gr(l,ru,s,Rd(s)),lg(zy,l)}}function hM(s,l,p){s==="focusin"?(ni(),dc=l,ru=p,dc.attachEvent("onpropertychange",Vy)):s==="focusout"&&ni()}function Hy(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Xf(ru)}function Wf(s,l){if(s==="click")return Xf(l)}function ol(s,l){if(s==="input"||s==="change")return Xf(l)}function Fy(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var qr=typeof Object.is=="function"?Object.is:Fy;function fs(s,l){if(qr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var p=Object.keys(s),v=Object.keys(l);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var S=p[v];if(!Le.call(l,S)||!qr(s[S],l[S]))return!1}return!0}function Xr(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bg(s,l){var p=Xr(s);s=0;for(var v;p;){if(p.nodeType===3){if(v=s+p.textContent.length,s<=l&&v>=l)return{node:p,offset:l-s};s=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Xr(p)}}function _g(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?_g(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function Sg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Ia(s.document);l instanceof s.HTMLIFrameElement;){try{var p=typeof l.contentWindow.location.href=="string"}catch{p=!1}if(p)s=l.contentWindow;else break;l=Ia(s.document)}return l}function Yf(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Mg=Us&&"documentMode"in document&&11>=document.documentMode,yo=null,zd=null,Kf=null,Vd=!1;function Eg(s,l,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Vd||yo==null||yo!==Ia(v)||(v=yo,"selectionStart"in v&&Yf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Kf&&fs(Kf,v)||(Kf=v,v=Ix(zd,"onSelect"),0<v.length&&(l=new lc("onSelect","select",null,l,p),s.push({event:l,listeners:v}),l.target=yo)))}function ir(s,l){var p={};return p[s.toLowerCase()]=l.toLowerCase(),p["Webkit"+s]="webkit"+l,p["Moz"+s]="moz"+l,p}var ll={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},Hd={},jy={};Us&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function xo(s){if(Hd[s])return Hd[s];if(!ll[s])return s;var l=ll[s],p;for(p in l)if(l.hasOwnProperty(p)&&p in jy)return Hd[s]=l[p];return s}var Ar=xo("animationend"),Tg=xo("animationiteration"),Wr=xo("animationstart"),ky=xo("transitionrun"),bo=xo("transitionstart"),gc=xo("transitioncancel"),_o=xo("transitionend"),Fd=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function ji(s,l){Fd.set(s,l),q(l,[s])}var Ag=new WeakMap;function rr(s,l){if(typeof s=="object"&&s!==null){var p=Ag.get(s);return p!==void 0?p:(l={value:s,source:l,stack:Nn(l)},Ag.set(s,l),l)}return{value:s,source:l,stack:Nn(l)}}var gr=[],Ba=0,jd=0;function Qf(){for(var s=Ba,l=jd=Ba=0;l<s;){var p=gr[l];gr[l++]=null;var v=gr[l];gr[l++]=null;var S=gr[l];gr[l++]=null;var w=gr[l];if(gr[l++]=null,v!==null&&S!==null){var I=v.pending;I===null?S.next=S:(S.next=I.next,I.next=S),v.pending=S}w!==0&&wg(p,S,w)}}function ul(s,l,p,v){gr[Ba++]=s,gr[Ba++]=l,gr[Ba++]=p,gr[Ba++]=v,jd|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function kd(s,l,p,v){return ul(s,l,p,v),vc(s)}function So(s,l){return ul(s,null,null,l),vc(s)}function wg(s,l,p){s.lanes|=p;var v=s.alternate;v!==null&&(v.lanes|=p);for(var S=!1,w=s.return;w!==null;)w.childLanes|=p,v=w.alternate,v!==null&&(v.childLanes|=p),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(S=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,S&&l!==null&&(S=31-ct(p),s=w.hiddenUpdates,v=s[S],v===null?s[S]=[l]:v.push(l),l.lane=p|536870912),w):null}function vc(s){if(50<Ys)throw Ys=0,Su=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var cl={};function Cg(s,l,p,v){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(s,l,p,v){return new Cg(s,l,p,v)}function Jf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pi(s,l){var p=s.alternate;return p===null?(p=Yr(s.tag,l,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=l,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&65011712,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,l=s.dependencies,p.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p.refCleanup=s.refCleanup,p}function Rg(s,l){s.flags&=65011714;var p=s.alternate;return p===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=p.childLanes,s.lanes=p.lanes,s.child=p.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=p.memoizedProps,s.memoizedState=p.memoizedState,s.updateQueue=p.updateQueue,s.type=p.type,l=p.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function ki(s,l,p,v,S,w){var I=0;if(v=s,typeof s=="function")Jf(s)&&(I=1);else if(typeof s=="string")I=Z6(s,p,je.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case B:return s=Yr(31,p,l,S),s.elementType=B,s.lanes=w,s;case _:return fl(p.children,S,w,l);case A:I=8,S|=24;break;case T:return s=Yr(12,p,l,S|2),s.elementType=T,s.lanes=w,s;case U:return s=Yr(13,p,l,S),s.elementType=U,s.lanes=w,s;case L:return s=Yr(19,p,l,S),s.elementType=L,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:case D:I=10;break e;case R:I=9;break e;case N:I=11;break e;case V:I=14;break e;case F:I=16,v=null;break e}I=29,p=Error(i(130,s===null?"null":typeof s,"")),v=null}return l=Yr(I,p,l,S),l.elementType=s,l.type=v,l.lanes=w,l}function fl(s,l,p,v){return s=Yr(7,s,v,l),s.lanes=p,s}function $f(s,l,p){return s=Yr(6,s,null,l),s.lanes=p,s}function Gd(s,l,p){return l=Yr(4,s.children!==null?s.children:[],s.key,l),l.lanes=p,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var yc=[],Kr=0,eh=null,xc=0,ar=[],ha=0,hl=null,Ls=1,Is="";function Mo(s,l){yc[Kr++]=xc,yc[Kr++]=eh,eh=s,xc=l}function qd(s,l,p){ar[ha++]=Ls,ar[ha++]=Is,ar[ha++]=hl,hl=s;var v=Ls;s=Is;var S=32-ct(v)-1;v&=~(1<<S),p+=1;var w=32-ct(l)+S;if(30<w){var I=S-S%5;w=(v&(1<<I)-1).toString(32),v>>=I,S-=I,Ls=1<<32-ct(l)+S|p<<S|v,Is=w+s}else Ls=1<<w|p<<S|v,Is=s}function Dg(s){s.return!==null&&(Mo(s,1),qd(s,1,0))}function Ng(s){for(;s===eh;)eh=yc[--Kr],yc[Kr]=null,xc=yc[--Kr],yc[Kr]=null;for(;s===hl;)hl=ar[--ha],ar[ha]=null,Is=ar[--ha],ar[ha]=null,Ls=ar[--ha],ar[ha]=null}var wr=null,ri=null,bn=!1,za=null,da=!1,Xd=Error(i(519));function dl(s){var l=Error(i(418,""));throw au(rr(l,s)),Xd}function Gy(s){var l=s.stateNode,p=s.type,v=s.memoizedProps;switch(l[Mi]=s,l[ti]=v,p){case"dialog":dn("cancel",l),dn("close",l);break;case"iframe":case"object":case"embed":dn("load",l);break;case"video":case"audio":for(p=0;p<lv.length;p++)dn(lv[p],l);break;case"source":dn("error",l);break;case"img":case"image":case"link":dn("error",l),dn("load",l);break;case"details":dn("toggle",l);break;case"input":dn("invalid",l),mr(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),on(l);break;case"select":dn("invalid",l);break;case"textarea":dn("invalid",l),tu(l,v.value,v.defaultValue,v.children),on(l)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||l.textContent===""+p||v.suppressHydrationWarning===!0||mD(l.textContent,p)?(v.popover!=null&&(dn("beforetoggle",l),dn("toggle",l)),v.onScroll!=null&&dn("scroll",l),v.onScrollEnd!=null&&dn("scrollend",l),v.onClick!=null&&(l.onclick=Bx),l=!0):l=!1,l||dl(s)}function Og(s){for(wr=s.return;wr;)switch(wr.tag){case 5:case 13:da=!1;return;case 27:case 3:da=!0;return;default:wr=wr.return}}function hs(s){if(s!==wr)return!1;if(!bn)return Og(s),bn=!0,!1;var l=s.tag,p;if((p=l!==3&&l!==27)&&((p=l===5)&&(p=s.type,p=!(p!=="form"&&p!=="button")||OM(s.type,s.memoizedProps)),p=!p),p&&ri&&dl(s),Og(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(p=s.data,p==="/$"){if(l===0){ri=Bo(s.nextSibling);break e}l--}else p!=="$"&&p!=="$!"&&p!=="$?"||l++;s=s.nextSibling}ri=null}}else l===27?(l=ri,Gc(s.type)?(s=IM,IM=null,ri=s):ri=l):ri=wr?Bo(s.stateNode.nextSibling):null;return!0}function bc(){ri=wr=null,bn=!1}function Tn(){var s=za;return s!==null&&(It===null?It=s:It.push.apply(It,s),za=null),s}function au(s){za===null?za=[s]:za.push(s)}var Pg=re(null),pl=null,Eo=null;function ml(s,l,p){Pe(Pg,l._currentValue),l._currentValue=p}function To(s){s._currentValue=Pg.current,he(Pg)}function Ug(s,l,p){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===p)break;s=s.return}}function th(s,l,p,v){var S=s.child;for(S!==null&&(S.return=s);S!==null;){var w=S.dependencies;if(w!==null){var I=S.child;w=w.firstContext;e:for(;w!==null;){var k=w;w=S;for(var te=0;te<l.length;te++)if(k.context===l[te]){w.lanes|=p,k=w.alternate,k!==null&&(k.lanes|=p),Ug(w.return,p,s),v||(I=null);break e}w=k.next}}else if(S.tag===18){if(I=S.return,I===null)throw Error(i(341));I.lanes|=p,w=I.alternate,w!==null&&(w.lanes|=p),Ug(I,p,s),I=null}else I=S.child;if(I!==null)I.return=S;else for(I=S;I!==null;){if(I===s){I=null;break}if(S=I.sibling,S!==null){S.return=I.return,I=S;break}I=I.return}S=I}}function Va(s,l,p,v){s=null;for(var S=l,w=!1;S!==null;){if(!w){if((S.flags&524288)!==0)w=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var I=S.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var k=S.type;qr(S.pendingProps.value,I.value)||(s!==null?s.push(k):s=[k])}}else if(S===ze.current){if(I=S.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(s!==null?s.push(pv):s=[pv])}S=S.return}s!==null&&th(l,s,p,v),l.flags|=262144}function nh(s){for(s=s.firstContext;s!==null;){if(!qr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Bs(s){pl=s,Eo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function oi(s){return Wd(pl,s)}function ih(s,l){return pl===null&&Bs(s),Wd(s,l)}function Wd(s,l){var p=l._currentValue;if(l={context:l,memoizedValue:p,next:null},Eo===null){if(s===null)throw Error(i(308));Eo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Eo=Eo.next=l;return p}var Lg=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(p,v){s.push(v)}};this.abort=function(){l.aborted=!0,s.forEach(function(p){return p()})}},dM=t.unstable_scheduleCallback,qy=t.unstable_NormalPriority,Ti={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new Lg,data:new Map,refCount:0}}function _c(s){s.refCount--,s.refCount===0&&dM(qy,function(){s.controller.abort()})}var Sc=null,rh=0,Zt=0,Mc=null;function pa(s,l){if(Sc===null){var p=Sc=[];rh=0,Zt=MM(),Mc={status:"pending",value:void 0,then:function(v){p.push(v)}}}return rh++,l.then(Kd,Kd),l}function Kd(){if(--rh===0&&Sc!==null){Mc!==null&&(Mc.status="fulfilled");var s=Sc;Sc=null,Zt=0,Mc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function pM(s,l){var p=[],v={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return s.then(function(){v.status="fulfilled",v.value=l;for(var S=0;S<p.length;S++)(0,p[S])(l)},function(S){for(v.status="rejected",v.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),v}var ah=X.S;X.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&pa(s,l),ah!==null&&ah(s,l)};var Ha=re(null);function gl(){var s=Ha.current;return s!==null?s:Wt.pooledCache}function sh(s,l){l===null?Pe(Ha,Ha.current):Pe(Ha,l.pool)}function Zd(){var s=gl();return s===null?null:{parent:Ti._currentValue,pool:s}}var oh=Error(i(460)),Ig=Error(i(474)),ds=Error(i(542)),lh={then:function(){}};function Qd(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ec(){}function Jd(s,l,p){switch(p=s[p],p===void 0?s.push(l):p!==l&&(l.then(Ec,Ec),l=p),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Xy(s),s;default:if(typeof l.status=="string")l.then(Ec,Ec);else{if(s=Wt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(v){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=v}},function(v){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Xy(s),s}throw Fa=l,oh}}var Fa=null;function Bg(){if(Fa===null)throw Error(i(459));var s=Fa;return Fa=null,s}function Xy(s){if(s===oh||s===ds)throw Error(i(483))}var Ao=!1;function zg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ft(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function zs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wo(s,l,p){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(An&2)!==0){var S=v.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),v.pending=l,l=vc(s),wg(s,null,p),l}return ul(s,v,l,p),vc(s)}function su(s,l,p){if(l=l.updateQueue,l!==null&&(l=l.shared,(p&4194048)!==0)){var v=l.lanes;v&=s.pendingLanes,p|=v,l.lanes=p,_t(s,p)}}function Tc(s,l){var p=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var S=null,w=null;if(p=p.firstBaseUpdate,p!==null){do{var I={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};w===null?S=w=I:w=w.next=I,p=p.next}while(p!==null);w===null?S=w=l:w=w.next=l}else S=w=l;p={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:w,shared:v.shared,callbacks:v.callbacks},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=l:s.next=l,p.lastBaseUpdate=l}var Vg=!1;function uh(){if(Vg){var s=Mc;if(s!==null)throw s}}function Ac(s,l,p,v){Vg=!1;var S=s.updateQueue;Ao=!1;var w=S.firstBaseUpdate,I=S.lastBaseUpdate,k=S.shared.pending;if(k!==null){S.shared.pending=null;var te=k,be=te.next;te.next=null,I===null?w=be:I.next=be,I=te;var Be=s.alternate;Be!==null&&(Be=Be.updateQueue,k=Be.lastBaseUpdate,k!==I&&(k===null?Be.firstBaseUpdate=be:k.next=be,Be.lastBaseUpdate=te))}if(w!==null){var ke=S.baseState;I=0,Be=be=te=null,k=w;do{var Se=k.lane&-536870913,Me=Se!==k.lane;if(Me?(Ot&Se)===Se:(v&Se)===Se){Se!==0&&Se===Zt&&(Vg=!0),Be!==null&&(Be=Be.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var qt=s,Bt=k;Se=l;var Wn=p;switch(Bt.tag){case 1:if(qt=Bt.payload,typeof qt=="function"){ke=qt.call(Wn,ke,Se);break e}ke=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Bt.payload,Se=typeof qt=="function"?qt.call(Wn,ke,Se):qt,Se==null)break e;ke=m({},ke,Se);break e;case 2:Ao=!0}}Se=k.callback,Se!==null&&(s.flags|=64,Me&&(s.flags|=8192),Me=S.callbacks,Me===null?S.callbacks=[Se]:Me.push(Se))}else Me={lane:Se,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Be===null?(be=Be=Me,te=ke):Be=Be.next=Me,I|=Se;if(k=k.next,k===null){if(k=S.shared.pending,k===null)break;Me=k,k=Me.next,Me.next=null,S.lastBaseUpdate=Me,S.shared.pending=null}}while(!0);Be===null&&(te=ke),S.baseState=te,S.firstBaseUpdate=be,S.lastBaseUpdate=Be,w===null&&(S.shared.lanes=0),_s|=I,s.lanes=I,s.memoizedState=ke}}function wc(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function Wy(s,l){var p=s.callbacks;if(p!==null)for(s.callbacks=null,s=0;s<p.length;s++)wc(p[s],l)}var Cc=re(null),$d=re(0);function Yy(s,l){s=Wa,Pe($d,s),Pe(Cc,l),Wa=s|l.baseLanes}function Hg(){Pe($d,Wa),Pe(Cc,Cc.current)}function ch(){Wa=$d.current,he(Cc),he($d)}var Co=0,Qt=null,On=null,Ai=null,ep=!1,vl=!1,Cr=!1,Ui=0,ja=0,sr=null,Ky=0;function mi(){throw Error(i(321))}function vr(s,l){if(l===null)return!1;for(var p=0;p<l.length&&p<s.length;p++)if(!qr(s[p],l[p]))return!1;return!0}function Ro(s,l,p,v,S,w){return Co=w,Qt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,X.H=s===null||s.memoizedState===null?up:nv,Cr=!1,w=p(v,S),Cr=!1,vl&&(w=Qy(l,p,v,S)),Zy(s),w}function Zy(s){X.H=dh;var l=On!==null&&On.next!==null;if(Co=0,Ai=On=Qt=null,ep=!1,ja=0,sr=null,l)throw Error(i(300));s===null||Gi||(s=s.dependencies,s!==null&&nh(s)&&(Gi=!0))}function Qy(s,l,p,v){Qt=s;var S=0;do{if(vl&&(sr=null),ja=0,vl=!1,25<=S)throw Error(i(301));if(S+=1,Ai=On=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}X.H=Mx,w=l(p,v)}while(vl);return w}function mM(){var s=X.H,l=s.useState()[0];return l=typeof l.then=="function"?ps(l):l,s=s.useState()[0],(On!==null?On.memoizedState:null)!==s&&(Qt.flags|=1024),l}function Fg(){var s=Ui!==0;return Ui=0,s}function tp(s,l,p){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~p}function jg(s){if(ep){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ep=!1}Co=0,Ai=On=Qt=null,vl=!1,ja=Ui=0,sr=null}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ai===null?Qt.memoizedState=Ai=s:Ai=Ai.next=s,Ai}function wi(){if(On===null){var s=Qt.alternate;s=s!==null?s.memoizedState:null}else s=On.next;var l=Ai===null?Qt.memoizedState:Ai.next;if(l!==null)Ai=l,On=s;else{if(s===null)throw Qt.alternate===null?Error(i(467)):Error(i(310));On=s,s={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Ai===null?Qt.memoizedState=Ai=s:Ai=Ai.next=s}return Ai}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ps(s){var l=ja;return ja+=1,sr===null&&(sr=[]),s=Jd(sr,s,l),l=Qt,(Ai===null?l.memoizedState:Ai.next)===null&&(l=l.alternate,X.H=l===null||l.memoizedState===null?up:nv),s}function np(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ps(s);if(s.$$typeof===D)return oi(s)}throw Error(i(438,String(s)))}function kg(s){var l=null,p=Qt.updateQueue;if(p!==null&&(l=p.memoCache),l==null){var v=Qt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),p===null&&(p=yl(),Qt.updateQueue=p),p.memoCache=l,p=l.data[l.index],p===void 0)for(p=l.data[l.index]=Array(s),v=0;v<s;v++)p[v]=z;return l.index++,p}function Do(s,l){return typeof l=="function"?l(s):l}function xl(s){var l=wi();return Gg(l,On,s)}function Gg(s,l,p){var v=s.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=p;var S=s.baseQueue,w=v.pending;if(w!==null){if(S!==null){var I=S.next;S.next=w.next,w.next=I}l.baseQueue=S=w,v.pending=null}if(w=s.baseState,S===null)s.memoizedState=w;else{l=S.next;var k=I=null,te=null,be=l,Be=!1;do{var ke=be.lane&-536870913;if(ke!==be.lane?(Ot&ke)===ke:(Co&ke)===ke){var Se=be.revertLane;if(Se===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),ke===Zt&&(Be=!0);else if((Co&Se)===Se){be=be.next,Se===Zt&&(Be=!0);continue}else ke={lane:0,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},te===null?(k=te=ke,I=w):te=te.next=ke,Qt.lanes|=Se,_s|=Se;ke=be.action,Cr&&p(w,ke),w=be.hasEagerState?be.eagerState:p(w,ke)}else Se={lane:ke,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},te===null?(k=te=Se,I=w):te=te.next=Se,Qt.lanes|=ke,_s|=ke;be=be.next}while(be!==null&&be!==l);if(te===null?I=w:te.next=k,!qr(w,s.memoizedState)&&(Gi=!0,Be&&(p=Mc,p!==null)))throw p;s.memoizedState=w,s.baseState=I,s.baseQueue=te,v.lastRenderedState=w}return S===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function qg(s){var l=wi(),p=l.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=s;var v=p.dispatch,S=p.pending,w=l.memoizedState;if(S!==null){p.pending=null;var I=S=S.next;do w=s(w,I.action),I=I.next;while(I!==S);qr(w,l.memoizedState)||(Gi=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),p.lastRenderedState=w}return[w,v]}function Jy(s,l,p){var v=Qt,S=wi(),w=bn;if(w){if(p===void 0)throw Error(i(407));p=p()}else p=l();var I=!qr((On||S).memoizedState,p);I&&(S.memoizedState=p,Gi=!0),S=S.queue;var k=ex.bind(null,v,S,s);if(Nc(2048,8,k,[s]),S.getSnapshot!==l||I||Ai!==null&&Ai.memoizedState.tag&1){if(v.flags|=2048,Dc(9,fh(),$y.bind(null,v,S,p,l),null),Wt===null)throw Error(i(349));w||(Co&124)!==0||Rc(v,l,p)}return p}function Rc(s,l,p){s.flags|=16384,s={getSnapshot:l,value:p},l=Qt.updateQueue,l===null?(l=yl(),Qt.updateQueue=l,l.stores=[s]):(p=l.stores,p===null?l.stores=[s]:p.push(s))}function $y(s,l,p,v){l.value=p,l.getSnapshot=v,tx(l)&&nx(s)}function ex(s,l,p){return p(function(){tx(l)&&nx(s)})}function tx(s){var l=s.getSnapshot;s=s.value;try{var p=l();return!qr(s,p)}catch{return!0}}function nx(s){var l=So(s,2);l!==null&&Or(l,s,2)}function Xg(s){var l=Rr();if(typeof s=="function"){var p=s;if(s=p(),Cr){Re(!0);try{p()}finally{Re(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:s},l}function ix(s,l,p,v){return s.baseState=p,Gg(s,On,typeof v=="function"?v:Do)}function gM(s,l,p,v,S){if(lp(s))throw Error(i(485));if(s=l.action,s!==null){var w={payload:S,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};X.T!==null?p(!0):w.isTransition=!1,v(w),p=l.pending,p===null?(w.next=l.pending=w,rx(l,w)):(w.next=p.next,l.pending=p.next=w)}}function rx(s,l){var p=l.action,v=l.payload,S=s.state;if(l.isTransition){var w=X.T,I={};X.T=I;try{var k=p(S,v),te=X.S;te!==null&&te(I,k),ax(s,l,k)}catch(be){Wg(s,l,be)}finally{X.T=w}}else try{w=p(S,v),ax(s,l,w)}catch(be){Wg(s,l,be)}}function ax(s,l,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){sx(s,l,v)},function(v){return Wg(s,l,v)}):sx(s,l,p)}function sx(s,l,p){l.status="fulfilled",l.value=p,ox(l),s.state=p,l=s.pending,l!==null&&(p=l.next,p===l?s.pending=null:(p=p.next,l.next=p,rx(s,p)))}function Wg(s,l,p){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=p,ox(l),l=l.next;while(l!==v)}s.action=null}function ox(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Yg(s,l){return l}function lx(s,l){if(bn){var p=Wt.formState;if(p!==null){e:{var v=Qt;if(bn){if(ri){t:{for(var S=ri,w=da;S.nodeType!==8;){if(!w){S=null;break t}if(S=Bo(S.nextSibling),S===null){S=null;break t}}w=S.data,S=w==="F!"||w==="F"?S:null}if(S){ri=Bo(S.nextSibling),v=S.data==="F!";break e}}dl(v)}v=!1}v&&(l=p[0])}}return p=Rr(),p.memoizedState=p.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:l},p.queue=v,p=_x.bind(null,Qt,v),v.dispatch=p,v=Xg(!1),w=op.bind(null,Qt,!1,v.queue),v=Rr(),S={state:l,dispatch:null,action:s,pending:null},v.queue=S,p=gM.bind(null,Qt,S,w,p),S.dispatch=p,v.memoizedState=s,[l,p,!1]}function ux(s){var l=wi();return cx(l,On,s)}function cx(s,l,p){if(l=Gg(s,l,Yg)[0],s=xl(Do)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=ps(l)}catch(I){throw I===oh?ds:I}else v=l;l=wi();var S=l.queue,w=S.dispatch;return p!==l.memoizedState&&(Qt.flags|=2048,Dc(9,fh(),vM.bind(null,S,p),null)),[v,w,s]}function vM(s,l){s.action=l}function fx(s){var l=wi(),p=On;if(p!==null)return cx(l,p,s);wi(),l=l.memoizedState,p=wi();var v=p.queue.dispatch;return p.memoizedState=s,[l,v,!1]}function Dc(s,l,p,v){return s={tag:s,create:p,deps:v,inst:l,next:null},l=Qt.updateQueue,l===null&&(l=yl(),Qt.updateQueue=l),p=l.lastEffect,p===null?l.lastEffect=s.next=s:(v=p.next,p.next=s,s.next=v,l.lastEffect=s),s}function fh(){return{destroy:void 0,resource:void 0}}function Kg(){return wi().memoizedState}function ip(s,l,p,v){var S=Rr();v=v===void 0?null:v,Qt.flags|=s,S.memoizedState=Dc(1|l,fh(),p,v)}function Nc(s,l,p,v){var S=wi();v=v===void 0?null:v;var w=S.memoizedState.inst;On!==null&&v!==null&&vr(v,On.memoizedState.deps)?S.memoizedState=Dc(l,w,p,v):(Qt.flags|=s,S.memoizedState=Dc(1|l,w,p,v))}function Zg(s,l){ip(8390656,8,s,l)}function Qg(s,l){Nc(2048,8,s,l)}function rp(s,l){return Nc(4,2,s,l)}function ap(s,l){return Nc(4,4,s,l)}function hx(s,l){if(typeof l=="function"){s=s();var p=l(s);return function(){typeof p=="function"?p():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function dx(s,l,p){p=p!=null?p.concat([s]):null,Nc(4,4,hx.bind(null,l,s),p)}function Jg(){}function px(s,l){var p=wi();l=l===void 0?null:l;var v=p.memoizedState;return l!==null&&vr(l,v[1])?v[0]:(p.memoizedState=[s,l],s)}function $g(s,l){var p=wi();l=l===void 0?null:l;var v=p.memoizedState;if(l!==null&&vr(l,v[1]))return v[0];if(v=s(),Cr){Re(!0);try{s()}finally{Re(!1)}}return p.memoizedState=[v,l],v}function sp(s,l,p){return p===void 0||(Co&1073741824)!==0?s.memoizedState=l:(s.memoizedState=p,s=bp(),Qt.lanes|=s,_s|=s,p)}function mx(s,l,p,v){return qr(p,l)?p:Cc.current!==null?(s=sp(s,p,v),qr(s,l)||(Gi=!0),s):(Co&42)===0?(Gi=!0,s.memoizedState=p):(s=bp(),Qt.lanes|=s,_s|=s,l)}function gx(s,l,p,v,S){var w=Q.p;Q.p=w!==0&&8>w?w:8;var I=X.T,k={};X.T=k,op(s,!1,l,p);try{var te=S(),be=X.S;if(be!==null&&be(k,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Be=pM(te,v);hh(s,l,Be,ci(s))}else hh(s,l,v,ci(s))}catch(ke){hh(s,l,{then:function(){},status:"rejected",reason:ke},ci())}finally{Q.p=w,X.T=I}}function yM(){}function ev(s,l,p,v){if(s.tag!==5)throw Error(i(476));var S=vx(s).queue;gx(s,S,l,$,p===null?yM:function(){return yx(s),p(v)})}function vx(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:$},next:null};var p={};return l.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:p},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function yx(s){var l=vx(s).next.queue;hh(s,l,{},ci())}function tv(){return oi(pv)}function xx(){return wi().memoizedState}function bx(){return wi().memoizedState}function xM(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var p=ci();s=zs(p);var v=wo(l,s,p);v!==null&&(Or(v,l,p),su(v,l,p)),l={cache:Yd()},s.payload=l;return}l=l.return}}function bM(s,l,p){var v=ci();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},lp(s)?Sx(l,p):(p=kd(s,l,p,v),p!==null&&(Or(p,s,v),ma(p,l,v)))}function _x(s,l,p){var v=ci();hh(s,l,p,v)}function hh(s,l,p,v){var S={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(lp(s))Sx(l,S);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var I=l.lastRenderedState,k=w(I,p);if(S.hasEagerState=!0,S.eagerState=k,qr(k,I))return ul(s,l,S,0),Wt===null&&Qf(),!1}catch{}finally{}if(p=kd(s,l,S,v),p!==null)return Or(p,s,v),ma(p,l,v),!0}return!1}function op(s,l,p,v){if(v={lane:2,revertLane:MM(),action:v,hasEagerState:!1,eagerState:null,next:null},lp(s)){if(l)throw Error(i(479))}else l=kd(s,p,v,2),l!==null&&Or(l,s,2)}function lp(s){var l=s.alternate;return s===Qt||l!==null&&l===Qt}function Sx(s,l){vl=ep=!0;var p=s.pending;p===null?l.next=l:(l.next=p.next,p.next=l),s.pending=l}function ma(s,l,p){if((p&4194048)!==0){var v=l.lanes;v&=s.pendingLanes,p|=v,l.lanes=p,_t(s,p)}}var dh={readContext:oi,use:np,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useLayoutEffect:mi,useInsertionEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useSyncExternalStore:mi,useId:mi,useHostTransitionStatus:mi,useFormState:mi,useActionState:mi,useOptimistic:mi,useMemoCache:mi,useCacheRefresh:mi},up={readContext:oi,use:np,useCallback:function(s,l){return Rr().memoizedState=[s,l===void 0?null:l],s},useContext:oi,useEffect:Zg,useImperativeHandle:function(s,l,p){p=p!=null?p.concat([s]):null,ip(4194308,4,hx.bind(null,l,s),p)},useLayoutEffect:function(s,l){return ip(4194308,4,s,l)},useInsertionEffect:function(s,l){ip(4,2,s,l)},useMemo:function(s,l){var p=Rr();l=l===void 0?null:l;var v=s();if(Cr){Re(!0);try{s()}finally{Re(!1)}}return p.memoizedState=[v,l],v},useReducer:function(s,l,p){var v=Rr();if(p!==void 0){var S=p(l);if(Cr){Re(!0);try{p(l)}finally{Re(!1)}}}else S=l;return v.memoizedState=v.baseState=S,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:S},v.queue=s,s=s.dispatch=bM.bind(null,Qt,s),[v.memoizedState,s]},useRef:function(s){var l=Rr();return s={current:s},l.memoizedState=s},useState:function(s){s=Xg(s);var l=s.queue,p=_x.bind(null,Qt,l);return l.dispatch=p,[s.memoizedState,p]},useDebugValue:Jg,useDeferredValue:function(s,l){var p=Rr();return sp(p,s,l)},useTransition:function(){var s=Xg(!1);return s=gx.bind(null,Qt,s.queue,!0,!1),Rr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,p){var v=Qt,S=Rr();if(bn){if(p===void 0)throw Error(i(407));p=p()}else{if(p=l(),Wt===null)throw Error(i(349));(Ot&124)!==0||Rc(v,l,p)}S.memoizedState=p;var w={value:p,getSnapshot:l};return S.queue=w,Zg(ex.bind(null,v,w,s),[s]),v.flags|=2048,Dc(9,fh(),$y.bind(null,v,w,p,l),null),p},useId:function(){var s=Rr(),l=Wt.identifierPrefix;if(bn){var p=Is,v=Ls;p=(v&~(1<<32-ct(v)-1)).toString(32)+p,l="«"+l+"R"+p,p=Ui++,0<p&&(l+="H"+p.toString(32)),l+="»"}else p=Ky++,l="«"+l+"r"+p.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:tv,useFormState:lx,useActionState:lx,useOptimistic:function(s){var l=Rr();l.memoizedState=l.baseState=s;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=p,l=op.bind(null,Qt,!0,p),p.dispatch=l,[s,l]},useMemoCache:kg,useCacheRefresh:function(){return Rr().memoizedState=xM.bind(null,Qt)}},nv={readContext:oi,use:np,useCallback:px,useContext:oi,useEffect:Qg,useImperativeHandle:dx,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:$g,useReducer:xl,useRef:Kg,useState:function(){return xl(Do)},useDebugValue:Jg,useDeferredValue:function(s,l){var p=wi();return mx(p,On.memoizedState,s,l)},useTransition:function(){var s=xl(Do)[0],l=wi().memoizedState;return[typeof s=="boolean"?s:ps(s),l]},useSyncExternalStore:Jy,useId:xx,useHostTransitionStatus:tv,useFormState:ux,useActionState:ux,useOptimistic:function(s,l){var p=wi();return ix(p,On,s,l)},useMemoCache:kg,useCacheRefresh:bx},Mx={readContext:oi,use:np,useCallback:px,useContext:oi,useEffect:Qg,useImperativeHandle:dx,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:$g,useReducer:qg,useRef:Kg,useState:function(){return qg(Do)},useDebugValue:Jg,useDeferredValue:function(s,l){var p=wi();return On===null?sp(p,s,l):mx(p,On.memoizedState,s,l)},useTransition:function(){var s=qg(Do)[0],l=wi().memoizedState;return[typeof s=="boolean"?s:ps(s),l]},useSyncExternalStore:Jy,useId:xx,useHostTransitionStatus:tv,useFormState:fx,useActionState:fx,useOptimistic:function(s,l){var p=wi();return On!==null?ix(p,On,s,l):(p.baseState=s,[s,p.queue.dispatch])},useMemoCache:kg,useCacheRefresh:bx},ou=null,ph=0;function mh(s){var l=ph;return ph+=1,ou===null&&(ou=[]),Jd(ou,s,l)}function Oc(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function cp(s,l){throw l.$$typeof===g?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Ex(s){var l=s._init;return l(s._payload)}function Tx(s){function l(ce,se){if(s){var ye=ce.deletions;ye===null?(ce.deletions=[se],ce.flags|=16):ye.push(se)}}function p(ce,se){if(!s)return null;for(;se!==null;)l(ce,se),se=se.sibling;return null}function v(ce){for(var se=new Map;ce!==null;)ce.key!==null?se.set(ce.key,ce):se.set(ce.index,ce),ce=ce.sibling;return se}function S(ce,se){return ce=pi(ce,se),ce.index=0,ce.sibling=null,ce}function w(ce,se,ye){return ce.index=ye,s?(ye=ce.alternate,ye!==null?(ye=ye.index,ye<se?(ce.flags|=67108866,se):ye):(ce.flags|=67108866,se)):(ce.flags|=1048576,se)}function I(ce){return s&&ce.alternate===null&&(ce.flags|=67108866),ce}function k(ce,se,ye,He){return se===null||se.tag!==6?(se=$f(ye,ce.mode,He),se.return=ce,se):(se=S(se,ye),se.return=ce,se)}function te(ce,se,ye,He){var Mt=ye.type;return Mt===_?Be(ce,se,ye.props.children,He,ye.key):se!==null&&(se.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===F&&Ex(Mt)===se.type)?(se=S(se,ye.props),Oc(se,ye),se.return=ce,se):(se=ki(ye.type,ye.key,ye.props,null,ce.mode,He),Oc(se,ye),se.return=ce,se)}function be(ce,se,ye,He){return se===null||se.tag!==4||se.stateNode.containerInfo!==ye.containerInfo||se.stateNode.implementation!==ye.implementation?(se=Gd(ye,ce.mode,He),se.return=ce,se):(se=S(se,ye.children||[]),se.return=ce,se)}function Be(ce,se,ye,He,Mt){return se===null||se.tag!==7?(se=fl(ye,ce.mode,He,Mt),se.return=ce,se):(se=S(se,ye),se.return=ce,se)}function ke(ce,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=$f(""+se,ce.mode,ye),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return ye=ki(se.type,se.key,se.props,null,ce.mode,ye),Oc(ye,se),ye.return=ce,ye;case b:return se=Gd(se,ce.mode,ye),se.return=ce,se;case F:var He=se._init;return se=He(se._payload),ke(ce,se,ye)}if(ue(se)||ee(se))return se=fl(se,ce.mode,ye,null),se.return=ce,se;if(typeof se.then=="function")return ke(ce,mh(se),ye);if(se.$$typeof===D)return ke(ce,ih(ce,se),ye);cp(ce,se)}return null}function Se(ce,se,ye,He){var Mt=se!==null?se.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Mt!==null?null:k(ce,se,""+ye,He);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:return ye.key===Mt?te(ce,se,ye,He):null;case b:return ye.key===Mt?be(ce,se,ye,He):null;case F:return Mt=ye._init,ye=Mt(ye._payload),Se(ce,se,ye,He)}if(ue(ye)||ee(ye))return Mt!==null?null:Be(ce,se,ye,He,null);if(typeof ye.then=="function")return Se(ce,se,mh(ye),He);if(ye.$$typeof===D)return Se(ce,se,ih(ce,ye),He);cp(ce,ye)}return null}function Me(ce,se,ye,He,Mt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return ce=ce.get(ye)||null,k(se,ce,""+He,Mt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case y:return ce=ce.get(He.key===null?ye:He.key)||null,te(se,ce,He,Mt);case b:return ce=ce.get(He.key===null?ye:He.key)||null,be(se,ce,He,Mt);case F:var hn=He._init;return He=hn(He._payload),Me(ce,se,ye,He,Mt)}if(ue(He)||ee(He))return ce=ce.get(ye)||null,Be(se,ce,He,Mt,null);if(typeof He.then=="function")return Me(ce,se,ye,mh(He),Mt);if(He.$$typeof===D)return Me(ce,se,ye,ih(se,He),Mt);cp(se,He)}return null}function qt(ce,se,ye,He){for(var Mt=null,hn=null,Dt=se,zt=se=0,br=null;Dt!==null&&zt<ye.length;zt++){Dt.index>zt?(br=Dt,Dt=null):br=Dt.sibling;var Cn=Se(ce,Dt,ye[zt],He);if(Cn===null){Dt===null&&(Dt=br);break}s&&Dt&&Cn.alternate===null&&l(ce,Dt),se=w(Cn,se,zt),hn===null?Mt=Cn:hn.sibling=Cn,hn=Cn,Dt=br}if(zt===ye.length)return p(ce,Dt),bn&&Mo(ce,zt),Mt;if(Dt===null){for(;zt<ye.length;zt++)Dt=ke(ce,ye[zt],He),Dt!==null&&(se=w(Dt,se,zt),hn===null?Mt=Dt:hn.sibling=Dt,hn=Dt);return bn&&Mo(ce,zt),Mt}for(Dt=v(Dt);zt<ye.length;zt++)br=Me(Dt,ce,zt,ye[zt],He),br!==null&&(s&&br.alternate!==null&&Dt.delete(br.key===null?zt:br.key),se=w(br,se,zt),hn===null?Mt=br:hn.sibling=br,hn=br);return s&&Dt.forEach(function(Kc){return l(ce,Kc)}),bn&&Mo(ce,zt),Mt}function Bt(ce,se,ye,He){if(ye==null)throw Error(i(151));for(var Mt=null,hn=null,Dt=se,zt=se=0,br=null,Cn=ye.next();Dt!==null&&!Cn.done;zt++,Cn=ye.next()){Dt.index>zt?(br=Dt,Dt=null):br=Dt.sibling;var Kc=Se(ce,Dt,Cn.value,He);if(Kc===null){Dt===null&&(Dt=br);break}s&&Dt&&Kc.alternate===null&&l(ce,Dt),se=w(Kc,se,zt),hn===null?Mt=Kc:hn.sibling=Kc,hn=Kc,Dt=br}if(Cn.done)return p(ce,Dt),bn&&Mo(ce,zt),Mt;if(Dt===null){for(;!Cn.done;zt++,Cn=ye.next())Cn=ke(ce,Cn.value,He),Cn!==null&&(se=w(Cn,se,zt),hn===null?Mt=Cn:hn.sibling=Cn,hn=Cn);return bn&&Mo(ce,zt),Mt}for(Dt=v(Dt);!Cn.done;zt++,Cn=ye.next())Cn=Me(Dt,ce,zt,Cn.value,He),Cn!==null&&(s&&Cn.alternate!==null&&Dt.delete(Cn.key===null?zt:Cn.key),se=w(Cn,se,zt),hn===null?Mt=Cn:hn.sibling=Cn,hn=Cn);return s&&Dt.forEach(function(l8){return l(ce,l8)}),bn&&Mo(ce,zt),Mt}function Wn(ce,se,ye,He){if(typeof ye=="object"&&ye!==null&&ye.type===_&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:e:{for(var Mt=ye.key;se!==null;){if(se.key===Mt){if(Mt=ye.type,Mt===_){if(se.tag===7){p(ce,se.sibling),He=S(se,ye.props.children),He.return=ce,ce=He;break e}}else if(se.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===F&&Ex(Mt)===se.type){p(ce,se.sibling),He=S(se,ye.props),Oc(He,ye),He.return=ce,ce=He;break e}p(ce,se);break}else l(ce,se);se=se.sibling}ye.type===_?(He=fl(ye.props.children,ce.mode,He,ye.key),He.return=ce,ce=He):(He=ki(ye.type,ye.key,ye.props,null,ce.mode,He),Oc(He,ye),He.return=ce,ce=He)}return I(ce);case b:e:{for(Mt=ye.key;se!==null;){if(se.key===Mt)if(se.tag===4&&se.stateNode.containerInfo===ye.containerInfo&&se.stateNode.implementation===ye.implementation){p(ce,se.sibling),He=S(se,ye.children||[]),He.return=ce,ce=He;break e}else{p(ce,se);break}else l(ce,se);se=se.sibling}He=Gd(ye,ce.mode,He),He.return=ce,ce=He}return I(ce);case F:return Mt=ye._init,ye=Mt(ye._payload),Wn(ce,se,ye,He)}if(ue(ye))return qt(ce,se,ye,He);if(ee(ye)){if(Mt=ee(ye),typeof Mt!="function")throw Error(i(150));return ye=Mt.call(ye),Bt(ce,se,ye,He)}if(typeof ye.then=="function")return Wn(ce,se,mh(ye),He);if(ye.$$typeof===D)return Wn(ce,se,ih(ce,ye),He);cp(ce,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,se!==null&&se.tag===6?(p(ce,se.sibling),He=S(se,ye),He.return=ce,ce=He):(p(ce,se),He=$f(ye,ce.mode,He),He.return=ce,ce=He),I(ce)):p(ce,se)}return function(ce,se,ye,He){try{ph=0;var Mt=Wn(ce,se,ye,He);return ou=null,Mt}catch(Dt){if(Dt===oh||Dt===ds)throw Dt;var hn=Yr(29,Dt,null,ce.mode);return hn.lanes=He,hn.return=ce,hn}finally{}}}var lu=Tx(!0),Ax=Tx(!1),In=re(null),ms=null;function bl(s){var l=s.alternate;Pe(gi,gi.current&1),Pe(In,s),ms===null&&(l===null||Cc.current!==null||l.memoizedState!==null)&&(ms=s)}function wx(s){if(s.tag===22){if(Pe(gi,gi.current),Pe(In,s),ms===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(ms=s)}}else _l()}function _l(){Pe(gi,gi.current),Pe(In,In.current)}function Vs(s){he(In),ms===s&&(ms=null),he(gi)}var gi=re(0);function No(s){for(var l=s;l!==null;){if(l.tag===13){var p=l.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||LM(p)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Sl(s,l,p,v){l=s.memoizedState,p=p(v,l),p=p==null?l:m({},l,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var Dr={enqueueSetState:function(s,l,p){s=s._reactInternals;var v=ci(),S=zs(v);S.payload=l,p!=null&&(S.callback=p),l=wo(s,S,v),l!==null&&(Or(l,s,v),su(l,s,v))},enqueueReplaceState:function(s,l,p){s=s._reactInternals;var v=ci(),S=zs(v);S.tag=1,S.payload=l,p!=null&&(S.callback=p),l=wo(s,S,v),l!==null&&(Or(l,s,v),su(l,s,v))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var p=ci(),v=zs(p);v.tag=2,l!=null&&(v.callback=l),l=wo(s,v,p),l!==null&&(Or(l,s,p),su(l,s,p))}};function Cx(s,l,p,v,S,w,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,w,I):l.prototype&&l.prototype.isPureReactComponent?!fs(p,v)||!fs(S,w):!0}function Rx(s,l,p,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(p,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(p,v),l.state!==s&&Dr.enqueueReplaceState(l,l.state,null)}function Hs(s,l){var p=l;if("ref"in l){p={};for(var v in l)v!=="ref"&&(p[v]=l[v])}if(s=s.defaultProps){p===l&&(p=m({},p));for(var S in s)p[S]===void 0&&(p[S]=s[S])}return p}var uu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function gh(s){uu(s)}function fp(s){console.error(s)}function Dx(s){uu(s)}function hp(s,l){try{var p=s.onUncaughtError;p(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function ka(s,l,p){try{var v=s.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function dp(s,l,p){return p=zs(p),p.tag=3,p.payload={element:null},p.callback=function(){hp(s,l)},p}function Nx(s){return s=zs(s),s.tag=3,s}function pp(s,l,p,v){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var w=v.value;s.payload=function(){return S(w)},s.callback=function(){ka(l,p,v)}}var I=p.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){ka(l,p,v),typeof S!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var k=v.stack;this.componentDidCatch(v.value,{componentStack:k!==null?k:""})})}function _M(s,l,p,v,S){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=p.alternate,l!==null&&Va(l,p,S,!0),p=In.current,p!==null){switch(p.tag){case 13:return ms===null?c():p.alternate===null&&Qn===0&&(Qn=3),p.flags&=-257,p.flags|=65536,p.lanes=S,v===lh?p.flags|=16384:(l=p.updateQueue,l===null?p.updateQueue=new Set([v]):l.add(v),Te(s,v,S)),!1;case 22:return p.flags|=65536,v===lh?p.flags|=16384:(l=p.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=l):(p=l.retryQueue,p===null?l.retryQueue=new Set([v]):p.add(v)),Te(s,v,S)),!1}throw Error(i(435,p.tag))}return Te(s,v,S),c(),!1}if(bn)return l=In.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,v!==Xd&&(s=Error(i(422),{cause:v}),au(rr(s,p)))):(v!==Xd&&(l=Error(i(423),{cause:v}),au(rr(l,p))),s=s.current.alternate,s.flags|=65536,S&=-S,s.lanes|=S,v=rr(v,p),S=dp(s.stateNode,v,S),Tc(s,S),Qn!==4&&(Qn=2)),!1;var w=Error(i(520),{cause:v});if(w=rr(w,p),wn===null?wn=[w]:wn.push(w),Qn!==4&&(Qn=2),l===null)return!0;v=rr(v,p),p=l;do{switch(p.tag){case 3:return p.flags|=65536,s=S&-S,p.lanes|=s,s=dp(p.stateNode,v,s),Tc(p,s),!1;case 1:if(l=p.type,w=p.stateNode,(p.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ma===null||!Ma.has(w))))return p.flags|=65536,S&=-S,p.lanes|=S,S=Nx(S),pp(S,s,p,v),Tc(p,S),!1}p=p.return}while(p!==null);return!1}var Ox=Error(i(461)),Gi=!1;function vi(s,l,p,v){l.child=s===null?Ax(l,null,p,v):lu(l,s.child,p,v)}function Zr(s,l,p,v,S){p=p.render;var w=l.ref;if("ref"in v){var I={};for(var k in v)k!=="ref"&&(I[k]=v[k])}else I=v;return Bs(l),v=Ro(s,l,p,I,w,S),k=Fg(),s!==null&&!Gi?(tp(s,l,S),qi(s,l,S)):(bn&&k&&Dg(l),l.flags|=1,vi(s,l,v,S),l.child)}function Qr(s,l,p,v,S){if(s===null){var w=p.type;return typeof w=="function"&&!Jf(w)&&w.defaultProps===void 0&&p.compare===null?(l.tag=15,l.type=w,iv(s,l,w,v,S)):(s=ki(p.type,null,v,l,l.mode,S),s.ref=l.ref,s.return=l,l.child=s)}if(w=s.child,!vh(s,S)){var I=w.memoizedProps;if(p=p.compare,p=p!==null?p:fs,p(I,v)&&s.ref===l.ref)return qi(s,l,S)}return l.flags|=1,s=pi(w,v),s.ref=l.ref,s.return=l,l.child=s}function iv(s,l,p,v,S){if(s!==null){var w=s.memoizedProps;if(fs(w,v)&&s.ref===l.ref)if(Gi=!1,l.pendingProps=v=w,vh(s,S))(s.flags&131072)!==0&&(Gi=!0);else return l.lanes=s.lanes,qi(s,l,S)}return Pc(s,l,p,v,S)}function cu(s,l,p){var v=l.pendingProps,S=v.children,w=s!==null?s.memoizedState:null;if(v.mode==="hidden"){if((l.flags&128)!==0){if(v=w!==null?w.baseLanes|p:p,s!==null){for(S=l.child=s.child,w=0;S!==null;)w=w|S.lanes|S.childLanes,S=S.sibling;l.childLanes=w&~v}else l.childLanes=0,l.child=null;return fu(s,l,v,p)}if((p&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&sh(l,w!==null?w.cachePool:null),w!==null?Yy(l,w):Hg(),wx(l);else return l.lanes=l.childLanes=536870912,fu(s,l,w!==null?w.baseLanes|p:p,p)}else w!==null?(sh(l,w.cachePool),Yy(l,w),_l(),l.memoizedState=null):(s!==null&&sh(l,null),Hg(),_l());return vi(s,l,S,p),l.child}function fu(s,l,p,v){var S=gl();return S=S===null?null:{parent:Ti._currentValue,pool:S},l.memoizedState={baseLanes:p,cachePool:S},s!==null&&sh(l,null),Hg(),wx(l),s!==null&&Va(s,l,v,!0),null}function hu(s,l){var p=l.ref;if(p===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(i(284));(s===null||s.ref!==p)&&(l.flags|=4194816)}}function Pc(s,l,p,v,S){return Bs(l),p=Ro(s,l,p,v,void 0,S),v=Fg(),s!==null&&!Gi?(tp(s,l,S),qi(s,l,S)):(bn&&v&&Dg(l),l.flags|=1,vi(s,l,p,S),l.child)}function ga(s,l,p,v,S,w){return Bs(l),l.updateQueue=null,p=Qy(l,v,p,S),Zy(s),v=Fg(),s!==null&&!Gi?(tp(s,l,w),qi(s,l,w)):(bn&&v&&Dg(l),l.flags|=1,vi(s,l,p,w),l.child)}function va(s,l,p,v,S){if(Bs(l),l.stateNode===null){var w=cl,I=p.contextType;typeof I=="object"&&I!==null&&(w=oi(I)),w=new p(v,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Dr,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=v,w.state=l.memoizedState,w.refs={},zg(l),I=p.contextType,w.context=typeof I=="object"&&I!==null?oi(I):cl,w.state=l.memoizedState,I=p.getDerivedStateFromProps,typeof I=="function"&&(Sl(l,p,I,v),w.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&Dr.enqueueReplaceState(w,w.state,null),Ac(l,v,w,S),uh(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(s===null){w=l.stateNode;var k=l.memoizedProps,te=Hs(p,k);w.props=te;var be=w.context,Be=p.contextType;I=cl,typeof Be=="object"&&Be!==null&&(I=oi(Be));var ke=p.getDerivedStateFromProps;Be=typeof ke=="function"||typeof w.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,Be||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k||be!==I)&&Rx(l,w,v,I),Ao=!1;var Se=l.memoizedState;w.state=Se,Ac(l,v,w,S),uh(),be=l.memoizedState,k||Se!==be||Ao?(typeof ke=="function"&&(Sl(l,p,ke,v),be=l.memoizedState),(te=Ao||Cx(l,p,te,v,Se,be,I))?(Be||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=be),w.props=v,w.state=be,w.context=I,v=te):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{w=l.stateNode,Ft(s,l),I=l.memoizedProps,Be=Hs(p,I),w.props=Be,ke=l.pendingProps,Se=w.context,be=p.contextType,te=cl,typeof be=="object"&&be!==null&&(te=oi(be)),k=p.getDerivedStateFromProps,(be=typeof k=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==ke||Se!==te)&&Rx(l,w,v,te),Ao=!1,Se=l.memoizedState,w.state=Se,Ac(l,v,w,S),uh();var Me=l.memoizedState;I!==ke||Se!==Me||Ao||s!==null&&s.dependencies!==null&&nh(s.dependencies)?(typeof k=="function"&&(Sl(l,p,k,v),Me=l.memoizedState),(Be=Ao||Cx(l,p,Be,v,Se,Me,te)||s!==null&&s.dependencies!==null&&nh(s.dependencies))?(be||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(v,Me,te),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(v,Me,te)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===s.memoizedProps&&Se===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&Se===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Me),w.props=v,w.state=Me,w.context=te,v=Be):(typeof w.componentDidUpdate!="function"||I===s.memoizedProps&&Se===s.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&Se===s.memoizedState||(l.flags|=1024),v=!1)}return w=v,hu(s,l),v=(l.flags&128)!==0,w||v?(w=l.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,s!==null&&v?(l.child=lu(l,s.child,null,S),l.child=lu(l,null,p,S)):vi(s,l,p,S),l.memoizedState=w.state,s=l.child):s=qi(s,l,S),s}function Ml(s,l,p,v){return bc(),l.flags|=256,vi(s,l,p,v),l.child}var gs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vs(s){return{baseLanes:s,cachePool:Zd()}}function Li(s,l,p){return s=s!==null?s.childLanes&~p:0,l&&(s|=Ya),s}function Uc(s,l,p){var v=l.pendingProps,S=!1,w=(l.flags&128)!==0,I;if((I=w)||(I=s!==null&&s.memoizedState===null?!1:(gi.current&2)!==0),I&&(S=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(bn){if(S?bl(l):_l(),bn){var k=ri,te;if(te=k){e:{for(te=k,k=da;te.nodeType!==8;){if(!k){k=null;break e}if(te=Bo(te.nextSibling),te===null){k=null;break e}}k=te}k!==null?(l.memoizedState={dehydrated:k,treeContext:hl!==null?{id:Ls,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},te=Yr(18,null,null,0),te.stateNode=k,te.return=l,l.child=te,wr=l,ri=null,te=!0):te=!1}te||dl(l)}if(k=l.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return LM(k)?l.lanes=32:l.lanes=536870912,null;Vs(l)}return k=v.children,v=v.fallback,S?(_l(),S=l.mode,k=du({mode:"hidden",children:k},S),v=fl(v,S,p,null),k.return=l,v.return=l,k.sibling=v,l.child=k,S=l.child,S.memoizedState=vs(p),S.childLanes=Li(s,I,p),l.memoizedState=gs,v):(bl(l),Fs(l,k))}if(te=s.memoizedState,te!==null&&(k=te.dehydrated,k!==null)){if(w)l.flags&256?(bl(l),l.flags&=-257,l=or(s,l,p)):l.memoizedState!==null?(_l(),l.child=s.child,l.flags|=128,l=null):(_l(),S=v.fallback,k=l.mode,v=du({mode:"visible",children:v.children},k),S=fl(S,k,p,null),S.flags|=2,v.return=l,S.return=l,v.sibling=S,l.child=v,lu(l,s.child,null,p),v=l.child,v.memoizedState=vs(p),v.childLanes=Li(s,I,p),l.memoizedState=gs,l=S);else if(bl(l),LM(k)){if(I=k.nextSibling&&k.nextSibling.dataset,I)var be=I.dgst;I=be,v=Error(i(419)),v.stack="",v.digest=I,au({value:v,source:null,stack:null}),l=or(s,l,p)}else if(Gi||Va(s,l,p,!1),I=(p&s.childLanes)!==0,Gi||I){if(I=Wt,I!==null&&(v=p&-p,v=(v&42)!==0?1:Lt(v),v=(v&(I.suspendedLanes|p))!==0?0:v,v!==0&&v!==te.retryLane))throw te.retryLane=v,So(s,v),Or(I,s,v),Ox;k.data==="$?"||c(),l=or(s,l,p)}else k.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=te.treeContext,ri=Bo(k.nextSibling),wr=l,bn=!0,za=null,da=!1,s!==null&&(ar[ha++]=Ls,ar[ha++]=Is,ar[ha++]=hl,Ls=s.id,Is=s.overflow,hl=l),l=Fs(l,v.children),l.flags|=4096);return l}return S?(_l(),S=v.fallback,k=l.mode,te=s.child,be=te.sibling,v=pi(te,{mode:"hidden",children:v.children}),v.subtreeFlags=te.subtreeFlags&65011712,be!==null?S=pi(be,S):(S=fl(S,k,p,null),S.flags|=2),S.return=l,v.return=l,v.sibling=S,l.child=v,v=S,S=l.child,k=s.child.memoizedState,k===null?k=vs(p):(te=k.cachePool,te!==null?(be=Ti._currentValue,te=te.parent!==be?{parent:be,pool:be}:te):te=Zd(),k={baseLanes:k.baseLanes|p,cachePool:te}),S.memoizedState=k,S.childLanes=Li(s,I,p),l.memoizedState=gs,v):(bl(l),p=s.child,s=p.sibling,p=pi(p,{mode:"visible",children:v.children}),p.return=l,p.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=p,l.memoizedState=null,p)}function Fs(s,l){return l=du({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function du(s,l){return s=Yr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function or(s,l,p){return lu(l,s.child,null,p),s=Fs(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function lr(s,l,p){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),Ug(s.return,l,p)}function mn(s,l,p,v,S){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:S}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=v,w.tail=p,w.tailMode=S)}function Ga(s,l,p){var v=l.pendingProps,S=v.revealOrder,w=v.tail;if(vi(s,l,v.children,p),v=gi.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lr(s,p,l);else if(s.tag===19)lr(s,p,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}switch(Pe(gi,v),S){case"forwards":for(p=l.child,S=null;p!==null;)s=p.alternate,s!==null&&No(s)===null&&(S=p),p=p.sibling;p=S,p===null?(S=l.child,l.child=null):(S=p.sibling,p.sibling=null),mn(l,!1,S,p,w);break;case"backwards":for(p=null,S=l.child,l.child=null;S!==null;){if(s=S.alternate,s!==null&&No(s)===null){l.child=S;break}s=S.sibling,S.sibling=p,p=S,S=s}mn(l,!0,p,null,w);break;case"together":mn(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function qi(s,l,p){if(s!==null&&(l.dependencies=s.dependencies),_s|=l.lanes,(p&l.childLanes)===0)if(s!==null){if(Va(s,l,p,!1),(p&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,p=pi(s,s.pendingProps),l.child=p,p.return=l;s.sibling!==null;)s=s.sibling,p=p.sibling=pi(s,s.pendingProps),p.return=l;p.sibling=null}return l.child}function vh(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&nh(s)))}function qa(s,l,p){switch(l.tag){case 3:Ye(l,l.stateNode.containerInfo),ml(l,Ti,s.memoizedState.cache),bc();break;case 27:case 5:Xe(l);break;case 4:Ye(l,l.stateNode.containerInfo);break;case 10:ml(l,l.type,l.memoizedProps.value);break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(bl(l),l.flags|=128,null):(p&l.child.childLanes)!==0?Uc(s,l,p):(bl(l),s=qi(s,l,p),s!==null?s.sibling:null);bl(l);break;case 19:var S=(s.flags&128)!==0;if(v=(p&l.childLanes)!==0,v||(Va(s,l,p,!1),v=(p&l.childLanes)!==0),S){if(v)return Ga(s,l,p);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Pe(gi,gi.current),v)break;return null;case 22:case 23:return l.lanes=0,cu(s,l,p);case 24:ml(l,Ti,s.memoizedState.cache)}return qi(s,l,p)}function pu(s,l,p){if(s!==null)if(s.memoizedProps!==l.pendingProps)Gi=!0;else{if(!vh(s,p)&&(l.flags&128)===0)return Gi=!1,qa(s,l,p);Gi=(s.flags&131072)!==0}else Gi=!1,bn&&(l.flags&1048576)!==0&&qd(l,xc,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var v=l.elementType,S=v._init;if(v=S(v._payload),l.type=v,typeof v=="function")Jf(v)?(s=Hs(v,s),l.tag=1,l=va(null,l,v,s,p)):(l.tag=0,l=Pc(null,l,v,s,p));else{if(v!=null){if(S=v.$$typeof,S===N){l.tag=11,l=Zr(null,l,v,s,p);break e}else if(S===V){l.tag=14,l=Qr(null,l,v,s,p);break e}}throw l=pe(v)||v,Error(i(306,l,""))}}return l;case 0:return Pc(s,l,l.type,l.pendingProps,p);case 1:return v=l.type,S=Hs(v,l.pendingProps),va(s,l,v,S,p);case 3:e:{if(Ye(l,l.stateNode.containerInfo),s===null)throw Error(i(387));v=l.pendingProps;var w=l.memoizedState;S=w.element,Ft(s,l),Ac(l,v,null,p);var I=l.memoizedState;if(v=I.cache,ml(l,Ti,v),v!==w.cache&&th(l,[Ti],p,!0),uh(),v=I.element,w.isDehydrated)if(w={element:v,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=Ml(s,l,v,p);break e}else if(v!==S){S=rr(Error(i(424)),l),au(S),l=Ml(s,l,v,p);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ri=Bo(s.firstChild),wr=l,bn=!0,za=null,da=!0,p=Ax(l,null,v,p),l.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(bc(),v===S){l=qi(s,l,p);break e}vi(s,l,v,p)}l=l.child}return l;case 26:return hu(s,l),s===null?(p=TD(l.type,null,l.pendingProps,null))?l.memoizedState=p:bn||(p=l.type,s=l.pendingProps,v=zx(ve.current).createElement(p),v[Mi]=l,v[ti]=s,Pr(v,p,s),Ei(v),l.stateNode=v):l.memoizedState=TD(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Xe(l),s===null&&bn&&(v=l.stateNode=SD(l.type,l.pendingProps,ve.current),wr=l,da=!0,S=ri,Gc(l.type)?(IM=S,ri=Bo(v.firstChild)):ri=S),vi(s,l,l.pendingProps.children,p),hu(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&bn&&((S=v=ri)&&(v=B6(v,l.type,l.pendingProps,da),v!==null?(l.stateNode=v,wr=l,ri=Bo(v.firstChild),da=!1,S=!0):S=!1),S||dl(l)),Xe(l),S=l.type,w=l.pendingProps,I=s!==null?s.memoizedProps:null,v=w.children,OM(S,w)?v=null:I!==null&&OM(S,I)&&(l.flags|=32),l.memoizedState!==null&&(S=Ro(s,l,mM,null,null,p),pv._currentValue=S),hu(s,l),vi(s,l,v,p),l.child;case 6:return s===null&&bn&&((s=p=ri)&&(p=z6(p,l.pendingProps,da),p!==null?(l.stateNode=p,wr=l,ri=null,s=!0):s=!1),s||dl(l)),null;case 13:return Uc(s,l,p);case 4:return Ye(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=lu(l,null,v,p):vi(s,l,v,p),l.child;case 11:return Zr(s,l,l.type,l.pendingProps,p);case 7:return vi(s,l,l.pendingProps,p),l.child;case 8:return vi(s,l,l.pendingProps.children,p),l.child;case 12:return vi(s,l,l.pendingProps.children,p),l.child;case 10:return v=l.pendingProps,ml(l,l.type,v.value),vi(s,l,v.children,p),l.child;case 9:return S=l.type._context,v=l.pendingProps.children,Bs(l),S=oi(S),v=v(S),l.flags|=1,vi(s,l,v,p),l.child;case 14:return Qr(s,l,l.type,l.pendingProps,p);case 15:return iv(s,l,l.type,l.pendingProps,p);case 19:return Ga(s,l,p);case 31:return v=l.pendingProps,p=l.mode,v={mode:v.mode,children:v.children},s===null?(p=du(v,p),p.ref=l.ref,l.child=p,p.return=l,l=p):(p=pi(s.child,v),p.ref=l.ref,l.child=p,p.return=l,l=p),l;case 22:return cu(s,l,p);case 24:return Bs(l),v=oi(Ti),s===null?(S=gl(),S===null&&(S=Wt,w=Yd(),S.pooledCache=w,w.refCount++,w!==null&&(S.pooledCacheLanes|=p),S=w),l.memoizedState={parent:v,cache:S},zg(l),ml(l,Ti,S)):((s.lanes&p)!==0&&(Ft(s,l),Ac(l,null,null,p),uh()),S=s.memoizedState,w=l.memoizedState,S.parent!==v?(S={parent:v,cache:v},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),ml(l,Ti,v)):(v=w.cache,ml(l,Ti,v),v!==S.cache&&th(l,[Ti],p,!0))),vi(s,l,l.pendingProps.children,p),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function ys(s){s.flags|=4}function yh(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!DD(l)){if(l=In.current,l!==null&&((Ot&4194048)===Ot?ms!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||l!==ms))throw Fa=lh,Ig;s.flags|=8192}}function Oo(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Je():536870912,s.lanes|=l,yn|=l)}function mu(s,l){if(!bn)switch(s.tailMode){case"hidden":l=s.tail;for(var p=null;l!==null;)l.alternate!==null&&(p=l),l=l.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function kn(s){var l=s.alternate!==null&&s.alternate.child===s.child,p=0,v=0;if(l)for(var S=s.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)p|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=v,s.childLanes=p,l}function rv(s,l,p){var v=l.pendingProps;switch(Ng(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(l),null;case 1:return kn(l),null;case 3:return p=l.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),To(Ti),Oe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(hs(l)?ys(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Tn())),kn(l),null;case 26:return p=l.memoizedState,s===null?(ys(l),p!==null?(kn(l),yh(l,p)):(kn(l),l.flags&=-16777217)):p?p!==s.memoizedState?(ys(l),kn(l),yh(l,p)):(kn(l),l.flags&=-16777217):(s.memoizedProps!==v&&ys(l),kn(l),l.flags&=-16777217),null;case 27:lt(l),p=ve.current;var S=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==v&&ys(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return kn(l),null}s=je.current,hs(l)?Gy(l):(s=SD(S,v,p),l.stateNode=s,ys(l))}return kn(l),null;case 5:if(lt(l),p=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&ys(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return kn(l),null}if(s=je.current,hs(l))Gy(l);else{switch(S=zx(ve.current),s){case 1:s=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:s=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":s=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":s=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof v.is=="string"?S.createElement("select",{is:v.is}):S.createElement("select"),v.multiple?s.multiple=!0:v.size&&(s.size=v.size);break;default:s=typeof v.is=="string"?S.createElement(p,{is:v.is}):S.createElement(p)}}s[Mi]=l,s[ti]=v;e:for(S=l.child;S!==null;){if(S.tag===5||S.tag===6)s.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===l)break e;for(;S.sibling===null;){if(S.return===null||S.return===l)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}l.stateNode=s;e:switch(Pr(s,p,v),p){case"button":case"input":case"select":case"textarea":s=!!v.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ys(l)}}return kn(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==v&&ys(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(i(166));if(s=ve.current,hs(l)){if(s=l.stateNode,p=l.memoizedProps,v=null,S=wr,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}s[Mi]=l,s=!!(s.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||mD(s.nodeValue,p)),s||dl(l)}else s=zx(s).createTextNode(v),s[Mi]=l,l.stateNode=s}return kn(l),null;case 13:if(v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(S=hs(l),v!==null&&v.dehydrated!==null){if(s===null){if(!S)throw Error(i(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));S[Mi]=l}else bc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;kn(l),S=!1}else S=Tn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(Vs(l),l):(Vs(l),null)}if(Vs(l),(l.flags&128)!==0)return l.lanes=p,l;if(p=v!==null,s=s!==null&&s.memoizedState!==null,p){v=l.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool);var w=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(w=v.memoizedState.cachePool.pool),w!==S&&(v.flags|=2048)}return p!==s&&p&&(l.child.flags|=8192),Oo(l,l.updateQueue),kn(l),null;case 4:return Oe(),s===null&&wM(l.stateNode.containerInfo),kn(l),null;case 10:return To(l.type),kn(l),null;case 19:if(he(gi),S=l.memoizedState,S===null)return kn(l),null;if(v=(l.flags&128)!==0,w=S.rendering,w===null)if(v)mu(S,!1);else{if(Qn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(w=No(s),w!==null){for(l.flags|=128,mu(S,!1),s=w.updateQueue,l.updateQueue=s,Oo(l,s),l.subtreeFlags=0,s=p,p=l.child;p!==null;)Rg(p,s),p=p.sibling;return Pe(gi,gi.current&1|2),l.child}s=s.sibling}S.tail!==null&&we()>yr&&(l.flags|=128,v=!0,mu(S,!1),l.lanes=4194304)}else{if(!v)if(s=No(w),s!==null){if(l.flags|=128,v=!0,s=s.updateQueue,l.updateQueue=s,Oo(l,s),mu(S,!0),S.tail===null&&S.tailMode==="hidden"&&!w.alternate&&!bn)return kn(l),null}else 2*we()-S.renderingStartTime>yr&&p!==536870912&&(l.flags|=128,v=!0,mu(S,!1),l.lanes=4194304);S.isBackwards?(w.sibling=l.child,l.child=w):(s=S.last,s!==null?s.sibling=w:l.child=w,S.last=w)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=we(),l.sibling=null,s=gi.current,Pe(gi,v?s&1|2:s&1),l):(kn(l),null);case 22:case 23:return Vs(l),ch(),v=l.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(p&536870912)!==0&&(l.flags&128)===0&&(kn(l),l.subtreeFlags&6&&(l.flags|=8192)):kn(l),p=l.updateQueue,p!==null&&Oo(l,p.retryQueue),p=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==p&&(l.flags|=2048),s!==null&&he(Ha),null;case 24:return p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),To(Ti),kn(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function Lc(s,l){switch(Ng(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return To(Ti),Oe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return lt(l),null;case 13:if(Vs(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));bc()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return he(gi),null;case 4:return Oe(),null;case 10:return To(l.type),null;case 22:case 23:return Vs(l),ch(),s!==null&&he(Ha),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return To(Ti),null;case 25:return null;default:return null}}function Ic(s,l){switch(Ng(l),l.tag){case 3:To(Ti),Oe();break;case 26:case 27:case 5:lt(l);break;case 4:Oe();break;case 13:Vs(l);break;case 19:he(gi);break;case 10:To(l.type);break;case 22:case 23:Vs(l),ch(),s!==null&&he(Ha);break;case 24:To(Ti)}}function gu(s,l){try{var p=l.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var S=v.next;p=S;do{if((p.tag&s)===s){v=void 0;var w=p.create,I=p.inst;v=w(),I.destroy=v}p=p.next}while(p!==S)}}catch(k){ae(l,l.return,k)}}function ya(s,l,p){try{var v=l.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var w=S.next;v=w;do{if((v.tag&s)===s){var I=v.inst,k=I.destroy;if(k!==void 0){I.destroy=void 0,S=l;var te=p,be=k;try{be()}catch(Be){ae(S,te,Be)}}}v=v.next}while(v!==w)}}catch(Be){ae(l,l.return,Be)}}function vu(s){var l=s.updateQueue;if(l!==null){var p=s.stateNode;try{Wy(l,p)}catch(v){ae(s,s.return,v)}}}function Po(s,l,p){p.props=Hs(s.type,s.memoizedProps),p.state=s.memoizedState;try{p.componentWillUnmount()}catch(v){ae(s,l,v)}}function yu(s,l){try{var p=s.ref;if(p!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof p=="function"?s.refCleanup=p(v):p.current=v}}catch(S){ae(s,l,S)}}function js(s,l){var p=s.ref,v=s.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(S){ae(s,l,S)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){ae(s,l,S)}else p.current=null}function Bc(s){var l=s.type,p=s.memoizedProps,v=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(S){ae(s,s.return,S)}}function xh(s,l,p){try{var v=s.stateNode;O6(v,s.type,p,l),v[ti]=l}catch(S){ae(s,s.return,S)}}function bh(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Gc(s.type)||s.tag===4}function El(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||bh(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Gc(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Tl(s,l,p){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(s,l):(l=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,l.appendChild(s),p=p._reactRootContainer,p!=null||l.onclick!==null||(l.onclick=Bx));else if(v!==4&&(v===27&&Gc(s.type)&&(p=s.stateNode,l=null),s=s.child,s!==null))for(Tl(s,l,p),s=s.sibling;s!==null;)Tl(s,l,p),s=s.sibling}function Al(s,l,p){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?p.insertBefore(s,l):p.appendChild(s);else if(v!==4&&(v===27&&Gc(s.type)&&(p=s.stateNode),s=s.child,s!==null))for(Al(s,l,p),s=s.sibling;s!==null;)Al(s,l,p),s=s.sibling}function wl(s){var l=s.stateNode,p=s.memoizedProps;try{for(var v=s.type,S=l.attributes;S.length;)l.removeAttributeNode(S[0]);Pr(l,v,p),l[Mi]=s,l[ti]=p}catch(w){ae(s,s.return,w)}}var ks=!1,Gn=!1,zc=!1,xa=typeof WeakSet=="function"?WeakSet:Set,Bn=null;function Ii(s,l){if(s=s.containerInfo,DM=Gx,s=Sg(s),Yf(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var S=v.anchorOffset,w=v.focusNode;v=v.focusOffset;try{p.nodeType,w.nodeType}catch{p=null;break e}var I=0,k=-1,te=-1,be=0,Be=0,ke=s,Se=null;t:for(;;){for(var Me;ke!==p||S!==0&&ke.nodeType!==3||(k=I+S),ke!==w||v!==0&&ke.nodeType!==3||(te=I+v),ke.nodeType===3&&(I+=ke.nodeValue.length),(Me=ke.firstChild)!==null;)Se=ke,ke=Me;for(;;){if(ke===s)break t;if(Se===p&&++be===S&&(k=I),Se===w&&++Be===v&&(te=I),(Me=ke.nextSibling)!==null)break;ke=Se,Se=ke.parentNode}ke=Me}p=k===-1||te===-1?null:{start:k,end:te}}else p=null}p=p||{start:0,end:0}}else p=null;for(NM={focusedElem:s,selectionRange:p},Gx=!1,Bn=l;Bn!==null;)if(l=Bn,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Bn=s;else for(;Bn!==null;){switch(l=Bn,w=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,p=l,S=w.memoizedProps,w=w.memoizedState,v=p.stateNode;try{var qt=Hs(p.type,S,p.elementType===p.type);s=v.getSnapshotBeforeUpdate(qt,w),v.__reactInternalSnapshotBeforeUpdate=s}catch(Bt){ae(p,p.return,Bt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,p=s.nodeType,p===9)UM(s);else if(p===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":UM(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,Bn=s;break}Bn=l.return}}function Uo(s,l,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Nr(s,p),v&4&&gu(5,p);break;case 1:if(Nr(s,p),v&4)if(s=p.stateNode,l===null)try{s.componentDidMount()}catch(I){ae(p,p.return,I)}else{var S=Hs(p.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(S,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){ae(p,p.return,I)}}v&64&&vu(p),v&512&&yu(p,p.return);break;case 3:if(Nr(s,p),v&64&&(s=p.updateQueue,s!==null)){if(l=null,p.child!==null)switch(p.child.tag){case 27:case 5:l=p.child.stateNode;break;case 1:l=p.child.stateNode}try{Wy(s,l)}catch(I){ae(p,p.return,I)}}break;case 27:l===null&&v&4&&wl(p);case 26:case 5:Nr(s,p),l===null&&v&4&&Bc(p),v&512&&yu(p,p.return);break;case 12:Nr(s,p);break;case 13:Nr(s,p),v&4&&Cl(s,p),v&64&&(s=p.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(p=Jn.bind(null,p),V6(s,p))));break;case 22:if(v=p.memoizedState!==null||ks,!v){l=l!==null&&l.memoizedState!==null||Gn,S=ks;var w=Gn;ks=v,(Gn=l)&&!w?Gs(s,p,(p.subtreeFlags&8772)!==0):Nr(s,p),ks=S,Gn=w}break;case 30:break;default:Nr(s,p)}}function tn(s){var l=s.alternate;l!==null&&(s.alternate=null,tn(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&jn(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ut=null,vn=!1;function Xa(s,l,p){for(p=p.child;p!==null;)xu(s,l,p),p=p.sibling}function xu(s,l,p){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(Ce,p)}catch{}switch(p.tag){case 26:Gn||js(p,l),Xa(s,l,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Gn||js(p,l);var v=Ut,S=vn;Gc(p.type)&&(Ut=p.stateNode,vn=!1),Xa(s,l,p),cv(p.stateNode),Ut=v,vn=S;break;case 5:Gn||js(p,l);case 6:if(v=Ut,S=vn,Ut=null,Xa(s,l,p),Ut=v,vn=S,Ut!==null)if(vn)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(p.stateNode)}catch(w){ae(p,l,w)}else try{Ut.removeChild(p.stateNode)}catch(w){ae(p,l,w)}break;case 18:Ut!==null&&(vn?(s=Ut,bD(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,p.stateNode),yv(s)):bD(Ut,p.stateNode));break;case 4:v=Ut,S=vn,Ut=p.stateNode.containerInfo,vn=!0,Xa(s,l,p),Ut=v,vn=S;break;case 0:case 11:case 14:case 15:Gn||ya(2,p,l),Gn||ya(4,p,l),Xa(s,l,p);break;case 1:Gn||(js(p,l),v=p.stateNode,typeof v.componentWillUnmount=="function"&&Po(p,l,v)),Xa(s,l,p);break;case 21:Xa(s,l,p);break;case 22:Gn=(v=Gn)||p.memoizedState!==null,Xa(s,l,p),Gn=v;break;default:Xa(s,l,p)}}function Cl(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yv(s)}catch(p){ae(l,l.return,p)}}function mp(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new xa),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new xa),l;default:throw Error(i(435,s.tag))}}function bu(s,l){var p=mp(s);l.forEach(function(v){var S=jt.bind(null,s,v);p.has(v)||(p.add(v),v.then(S,S))})}function Xi(s,l){var p=l.deletions;if(p!==null)for(var v=0;v<p.length;v++){var S=p[v],w=s,I=l,k=I;e:for(;k!==null;){switch(k.tag){case 27:if(Gc(k.type)){Ut=k.stateNode,vn=!1;break e}break;case 5:Ut=k.stateNode,vn=!1;break e;case 3:case 4:Ut=k.stateNode.containerInfo,vn=!0;break e}k=k.return}if(Ut===null)throw Error(i(160));xu(w,I,S),Ut=null,vn=!1,w=S.alternate,w!==null&&(w.return=null),S.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)gp(l,s),l=l.sibling}var xs=null;function gp(s,l){var p=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Xi(l,s),li(s),v&4&&(ya(3,s,s.return),gu(3,s),ya(5,s,s.return));break;case 1:Xi(l,s),li(s),v&512&&(Gn||p===null||js(p,p.return)),v&64&&ks&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(p=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var S=xs;if(Xi(l,s),li(s),v&512&&(Gn||p===null||js(p,p.return)),v&4){var w=p!==null?p.memoizedState:null;if(v=s.memoizedState,p===null)if(v===null)if(s.stateNode===null){e:{v=s.type,p=s.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":w=S.getElementsByTagName("title")[0],(!w||w[fa]||w[Mi]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=S.createElement(v),S.head.insertBefore(w,S.querySelector("head > title"))),Pr(w,v,p),w[Mi]=s,Ei(w),v=w;break e;case"link":var I=CD("link","href",S).get(v+(p.href||""));if(I){for(var k=0;k<I.length;k++)if(w=I[k],w.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&w.getAttribute("rel")===(p.rel==null?null:p.rel)&&w.getAttribute("title")===(p.title==null?null:p.title)&&w.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){I.splice(k,1);break t}}w=S.createElement(v),Pr(w,v,p),S.head.appendChild(w);break;case"meta":if(I=CD("meta","content",S).get(v+(p.content||""))){for(k=0;k<I.length;k++)if(w=I[k],w.getAttribute("content")===(p.content==null?null:""+p.content)&&w.getAttribute("name")===(p.name==null?null:p.name)&&w.getAttribute("property")===(p.property==null?null:p.property)&&w.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&w.getAttribute("charset")===(p.charSet==null?null:p.charSet)){I.splice(k,1);break t}}w=S.createElement(v),Pr(w,v,p),S.head.appendChild(w);break;default:throw Error(i(468,v))}w[Mi]=s,Ei(w),v=w}s.stateNode=v}else RD(S,s.type,s.stateNode);else s.stateNode=wD(S,v,s.memoizedProps);else w!==v?(w===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):w.count--,v===null?RD(S,s.type,s.stateNode):wD(S,v,s.memoizedProps)):v===null&&s.stateNode!==null&&xh(s,s.memoizedProps,p.memoizedProps)}break;case 27:Xi(l,s),li(s),v&512&&(Gn||p===null||js(p,p.return)),p!==null&&v&4&&xh(s,s.memoizedProps,p.memoizedProps);break;case 5:if(Xi(l,s),li(s),v&512&&(Gn||p===null||js(p,p.return)),s.flags&32){S=s.stateNode;try{Pi(S,"")}catch(Me){ae(s,s.return,Me)}}v&4&&s.stateNode!=null&&(S=s.memoizedProps,xh(s,S,p!==null?p.memoizedProps:S)),v&1024&&(zc=!0);break;case 6:if(Xi(l,s),li(s),v&4){if(s.stateNode===null)throw Error(i(162));v=s.memoizedProps,p=s.stateNode;try{p.nodeValue=v}catch(Me){ae(s,s.return,Me)}}break;case 3:if(Fx=null,S=xs,xs=Vx(l.containerInfo),Xi(l,s),xs=S,li(s),v&4&&p!==null&&p.memoizedState.isDehydrated)try{yv(l.containerInfo)}catch(Me){ae(s,s.return,Me)}zc&&(zc=!1,Rl(s));break;case 4:v=xs,xs=Vx(s.stateNode.containerInfo),Xi(l,s),li(s),xs=v;break;case 12:Xi(l,s),li(s);break;case 13:Xi(l,s),li(s),s.child.flags&8192&&s.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Un=we()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,bu(s,v)));break;case 22:S=s.memoizedState!==null;var te=p!==null&&p.memoizedState!==null,be=ks,Be=Gn;if(ks=be||S,Gn=Be||te,Xi(l,s),Gn=Be,ks=be,li(s),v&8192)e:for(l=s.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(p===null||te||ks||Gn||ba(s)),p=null,l=s;;){if(l.tag===5||l.tag===26){if(p===null){te=p=l;try{if(w=te.stateNode,S)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{k=te.stateNode;var ke=te.memoizedProps.style,Se=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;k.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Me){ae(te,te.return,Me)}}}else if(l.tag===6){if(p===null){te=l;try{te.stateNode.nodeValue=S?"":te.memoizedProps}catch(Me){ae(te,te.return,Me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=s.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,bu(s,p))));break;case 19:Xi(l,s),li(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,bu(s,v)));break;case 30:break;case 21:break;default:Xi(l,s),li(s)}}function li(s){var l=s.flags;if(l&2){try{for(var p,v=s.return;v!==null;){if(bh(v)){p=v;break}v=v.return}if(p==null)throw Error(i(160));switch(p.tag){case 27:var S=p.stateNode,w=El(s);Al(s,w,S);break;case 5:var I=p.stateNode;p.flags&32&&(Pi(I,""),p.flags&=-33);var k=El(s);Al(s,k,I);break;case 3:case 4:var te=p.stateNode.containerInfo,be=El(s);Tl(s,be,te);break;default:throw Error(i(161))}}catch(Be){ae(s,s.return,Be)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function Rl(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;Rl(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Nr(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Uo(s,l.alternate,l),l=l.sibling}function ba(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:ya(4,l,l.return),ba(l);break;case 1:js(l,l.return);var p=l.stateNode;typeof p.componentWillUnmount=="function"&&Po(l,l.return,p),ba(l);break;case 27:cv(l.stateNode);case 26:case 5:js(l,l.return),ba(l);break;case 22:l.memoizedState===null&&ba(l);break;case 30:ba(l);break;default:ba(l)}s=s.sibling}}function Gs(s,l,p){for(p=p&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,S=s,w=l,I=w.flags;switch(w.tag){case 0:case 11:case 15:Gs(S,w,p),gu(4,w);break;case 1:if(Gs(S,w,p),v=w,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(be){ae(v,v.return,be)}if(v=w,S=v.updateQueue,S!==null){var k=v.stateNode;try{var te=S.shared.hiddenCallbacks;if(te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<te.length;S++)wc(te[S],k)}catch(be){ae(v,v.return,be)}}p&&I&64&&vu(w),yu(w,w.return);break;case 27:wl(w);case 26:case 5:Gs(S,w,p),p&&v===null&&I&4&&Bc(w),yu(w,w.return);break;case 12:Gs(S,w,p);break;case 13:Gs(S,w,p),p&&I&4&&Cl(S,w);break;case 22:w.memoizedState===null&&Gs(S,w,p),yu(w,w.return);break;case 30:break;default:Gs(S,w,p)}l=l.sibling}}function vp(s,l){var p=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==p&&(s!=null&&s.refCount++,p!=null&&_c(p))}function yp(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&_c(s))}function zn(s,l,p,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)xp(s,l,p,v),l=l.sibling}function xp(s,l,p,v){var S=l.flags;switch(l.tag){case 0:case 11:case 15:zn(s,l,p,v),S&2048&&gu(9,l);break;case 1:zn(s,l,p,v);break;case 3:zn(s,l,p,v),S&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&_c(s)));break;case 12:if(S&2048){zn(s,l,p,v),s=l.stateNode;try{var w=l.memoizedProps,I=w.id,k=w.onPostCommit;typeof k=="function"&&k(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(te){ae(l,l.return,te)}}else zn(s,l,p,v);break;case 13:zn(s,l,p,v);break;case 23:break;case 22:w=l.stateNode,I=l.alternate,l.memoizedState!==null?w._visibility&2?zn(s,l,p,v):bs(s,l):w._visibility&2?zn(s,l,p,v):(w._visibility|=2,Lo(s,l,p,v,(l.subtreeFlags&10256)!==0)),S&2048&&vp(I,l);break;case 24:zn(s,l,p,v),S&2048&&yp(l.alternate,l);break;default:zn(s,l,p,v)}}function Lo(s,l,p,v,S){for(S=S&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=s,I=l,k=p,te=v,be=I.flags;switch(I.tag){case 0:case 11:case 15:Lo(w,I,k,te,S),gu(8,I);break;case 23:break;case 22:var Be=I.stateNode;I.memoizedState!==null?Be._visibility&2?Lo(w,I,k,te,S):bs(w,I):(Be._visibility|=2,Lo(w,I,k,te,S)),S&&be&2048&&vp(I.alternate,I);break;case 24:Lo(w,I,k,te,S),S&&be&2048&&yp(I.alternate,I);break;default:Lo(w,I,k,te,S)}l=l.sibling}}function bs(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var p=s,v=l,S=v.flags;switch(v.tag){case 22:bs(p,v),S&2048&&vp(v.alternate,v);break;case 24:bs(p,v),S&2048&&yp(v.alternate,v);break;default:bs(p,v)}l=l.sibling}}var _a=8192;function Vc(s){if(s.subtreeFlags&_a)for(s=s.child;s!==null;)Px(s),s=s.sibling}function Px(s){switch(s.tag){case 26:Vc(s),s.flags&_a&&s.memoizedState!==null&&J6(xs,s.memoizedState,s.memoizedProps);break;case 5:Vc(s);break;case 3:case 4:var l=xs;xs=Vx(s.stateNode.containerInfo),Vc(s),xs=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=_a,_a=16777216,Vc(s),_a=l):Vc(s));break;default:Vc(s)}}function Ux(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function qn(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var v=l[p];Bn=v,Xs(v,s)}Ux(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)av(s),s=s.sibling}function av(s){switch(s.tag){case 0:case 11:case 15:qn(s),s.flags&2048&&ya(9,s,s.return);break;case 3:qn(s);break;case 12:qn(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,qs(s)):qn(s);break;default:qn(s)}}function qs(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var p=0;p<l.length;p++){var v=l[p];Bn=v,Xs(v,s)}Ux(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:ya(8,l,l.return),qs(l);break;case 22:p=l.stateNode,p._visibility&2&&(p._visibility&=-3,qs(l));break;default:qs(l)}s=s.sibling}}function Xs(s,l){for(;Bn!==null;){var p=Bn;switch(p.tag){case 0:case 11:case 15:ya(8,p,l);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:_c(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Bn=v;else e:for(p=s;Bn!==null;){v=Bn;var S=v.sibling,w=v.return;if(tn(v),v===p){Bn=null;break e}if(S!==null){S.return=w,Bn=S;break e}Bn=w}}}var ui={getCacheForType:function(s){var l=oi(Ti),p=l.data.get(s);return p===void 0&&(p=s(),l.data.set(s,p)),p}},sv=typeof WeakMap=="function"?WeakMap:Map,An=0,Wt=null,ln=null,Ot=0,$t=0,ai=null,Sa=!1,Hc=!1,Fc=!1,Wa=0,Qn=0,_s=0,Ws=0,_u=0,Ya=0,yn=0,wn=null,It=null,fn=!1,Un=0,yr=1/0,Ka=null,Ma=null,Bi=0,xr=null,Vn=null,Ea=0,Io=0,_h=null,Ta=null,Ys=0,Su=null;function ci(){if((An&2)!==0&&Ot!==0)return Ot&-Ot;if(X.T!==null){var s=Zt;return s!==0?s:MM()}return cn()}function bp(){Ya===0&&(Ya=(Ot&536870912)===0||bn?oe():536870912);var s=In.current;return s!==null&&(s.flags|=32),Ya}function Or(s,l,p){(s===Wt&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(Nl(s,0),Ss(s,Ot,Ya,!1)),mt(s,p),((An&2)===0||s!==Wt)&&(s===Wt&&((An&2)===0&&(Ws|=p),Qn===4&&Ss(s,Ot,Ya,!1)),Ul(s))}function jc(s,l,p){if((An&6)!==0)throw Error(i(327));var v=!p&&(l&124)===0&&(l&s.expiredLanes)===0||st(s,l),S=v?E(s,l):h(s,l,!0),w=v;do{if(S===0){Hc&&!v&&Ss(s,l,0,!1);break}else{if(p=s.current.alternate,w&&!Dl(p)){S=h(s,l,!1),w=!1;continue}if(S===2){if(w=l,s.errorRecoveryDisabledLanes&w)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var k=s;S=wn;var te=k.current.memoizedState.isDehydrated;if(te&&(Nl(k,I).flags|=256),I=h(k,I,!1),I!==2){if(Fc&&!te){k.errorRecoveryDisabledLanes|=w,Ws|=w,S=4;break e}w=It,It=S,w!==null&&(It===null?It=w:It.push.apply(It,w))}S=I}if(w=!1,S!==2)continue}}if(S===1){Nl(s,0),Ss(s,l,0,!0);break}e:{switch(v=s,w=S,w){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Ss(v,l,Ya,!Sa);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(S=Un+300-we(),10<S)){if(Ss(v,l,Ya,!Sa),bt(v,0,!0)!==0)break e;v.timeoutHandle=yD(Sh.bind(null,v,p,It,Ka,fn,l,Ya,Ws,yn,Sa,w,2,-0,0),S);break e}Sh(v,p,It,Ka,fn,l,Ya,Ws,yn,Sa,w,0,-0,0)}}break}while(!0);Ul(s)}function Sh(s,l,p,v,S,w,I,k,te,be,Be,ke,Se,Me){if(s.timeoutHandle=-1,ke=l.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(dv={stylesheets:null,count:0,unsuspend:Q6},Px(l),ke=$6(),ke!==null)){s.cancelPendingCommit=ke(et.bind(null,s,l,w,p,v,S,I,k,te,Be,1,Se,Me)),Ss(s,w,I,!be);return}et(s,l,w,p,v,S,I,k,te)}function Dl(s){for(var l=s;;){var p=l.tag;if((p===0||p===11||p===15)&&l.flags&16384&&(p=l.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var S=p[v],w=S.getSnapshot;S=S.value;try{if(!qr(w(),S))return!1}catch{return!1}}if(p=l.child,l.subtreeFlags&16384&&p!==null)p.return=l,l=p;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ss(s,l,p,v){l&=~_u,l&=~Ws,s.suspendedLanes|=l,s.pingedLanes&=~l,v&&(s.warmLanes|=l),v=s.expirationTimes;for(var S=l;0<S;){var w=31-ct(S),I=1<<w;v[w]=-1,S&=~I}p!==0&&Fe(s,p,l)}function Ks(){return(An&6)===0?(ov(0),!1):!0}function Mu(){if(ln!==null){if($t===0)var s=ln.return;else s=ln,Eo=pl=null,jg(s),ou=null,ph=0,s=ln;for(;s!==null;)Ic(s.alternate,s),s=s.return;ln=null}}function Nl(s,l){var p=s.timeoutHandle;p!==-1&&(s.timeoutHandle=-1,U6(p)),p=s.cancelPendingCommit,p!==null&&(s.cancelPendingCommit=null,p()),Mu(),Wt=s,ln=p=pi(s.current,null),Ot=l,$t=0,ai=null,Sa=!1,Hc=st(s,l),Fc=!1,yn=Ya=_u=Ws=_s=Qn=0,It=wn=null,fn=!1,(l&8)!==0&&(l|=l&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=l;0<v;){var S=31-ct(v),w=1<<S;l|=s[S],v&=~w}return Wa=l,Qf(),p}function _p(s,l){Qt=null,X.H=dh,l===oh||l===ds?(l=Bg(),$t=3):l===Ig?(l=Bg(),$t=4):$t=l===Ox?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ai=l,ln===null&&(Qn=1,hp(s,rr(l,s.current)))}function kc(){var s=X.H;return X.H=dh,s===null?dh:s}function Sp(){var s=X.A;return X.A=ui,s}function c(){Qn=4,Sa||(Ot&4194048)!==Ot&&In.current!==null||(Hc=!0),(_s&134217727)===0&&(Ws&134217727)===0||Wt===null||Ss(Wt,Ot,Ya,!1)}function h(s,l,p){var v=An;An|=2;var S=kc(),w=Sp();(Wt!==s||Ot!==l)&&(Ka=null,Nl(s,l)),l=!1;var I=Qn;e:do try{if($t!==0&&ln!==null){var k=ln,te=ai;switch($t){case 8:Mu(),I=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(l=!0);var be=$t;if($t=0,ai=null,ne(s,k,te,be),p&&Hc){I=0;break e}break;default:be=$t,$t=0,ai=null,ne(s,k,te,be)}}x(),I=Qn;break}catch(Be){_p(s,Be)}while(!0);return l&&s.shellSuspendCounter++,Eo=pl=null,An=v,X.H=S,X.A=w,ln===null&&(Wt=null,Ot=0,Qf()),I}function x(){for(;ln!==null;)O(ln)}function E(s,l){var p=An;An|=2;var v=kc(),S=Sp();Wt!==s||Ot!==l?(Ka=null,yr=we()+500,Nl(s,l)):Hc=st(s,l);e:do try{if($t!==0&&ln!==null){l=ln;var w=ai;t:switch($t){case 1:$t=0,ai=null,ne(s,l,w,1);break;case 2:case 9:if(Qd(w)){$t=0,ai=null,W(l);break}l=function(){$t!==2&&$t!==9||Wt!==s||($t=7),Ul(s)},w.then(l,l);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Qd(w)?($t=0,ai=null,W(l)):($t=0,ai=null,ne(s,l,w,7));break;case 5:var I=null;switch(ln.tag){case 26:I=ln.memoizedState;case 5:case 27:var k=ln;if(!I||DD(I)){$t=0,ai=null;var te=k.sibling;if(te!==null)ln=te;else{var be=k.return;be!==null?(ln=be,de(be)):ln=null}break t}}$t=0,ai=null,ne(s,l,w,5);break;case 6:$t=0,ai=null,ne(s,l,w,6);break;case 8:Mu(),Qn=6;break e;default:throw Error(i(462))}}C();break}catch(Be){_p(s,Be)}while(!0);return Eo=pl=null,X.H=v,X.A=S,An=p,ln!==null?0:(Wt=null,Ot=0,Qf(),Qn)}function C(){for(;ln!==null&&!Ue();)O(ln)}function O(s){var l=pu(s.alternate,s,Wa);s.memoizedProps=s.pendingProps,l===null?de(s):ln=l}function W(s){var l=s,p=l.alternate;switch(l.tag){case 15:case 0:l=ga(p,l,l.pendingProps,l.type,void 0,Ot);break;case 11:l=ga(p,l,l.pendingProps,l.type.render,l.ref,Ot);break;case 5:jg(l);default:Ic(p,l),l=ln=Rg(l,Wa),l=pu(p,l,Wa)}s.memoizedProps=s.pendingProps,l===null?de(s):ln=l}function ne(s,l,p,v){Eo=pl=null,jg(l),ou=null,ph=0;var S=l.return;try{if(_M(s,S,l,p,Ot)){Qn=1,hp(s,rr(p,s.current)),ln=null;return}}catch(w){if(S!==null)throw ln=S,w;Qn=1,hp(s,rr(p,s.current)),ln=null;return}l.flags&32768?(bn||v===1?s=!0:Hc||(Ot&536870912)!==0?s=!1:(Sa=s=!0,(v===2||v===9||v===3||v===6)&&(v=In.current,v!==null&&v.tag===13&&(v.flags|=16384))),Ie(l,s)):de(l)}function de(s){var l=s;do{if((l.flags&32768)!==0){Ie(l,Sa);return}s=l.return;var p=rv(l.alternate,l,Wa);if(p!==null){ln=p;return}if(l=l.sibling,l!==null){ln=l;return}ln=l=s}while(l!==null);Qn===0&&(Qn=5)}function Ie(s,l){do{var p=Lc(s.alternate,s);if(p!==null){p.flags&=32767,ln=p;return}if(p=s.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!l&&(s=s.sibling,s!==null)){ln=s;return}ln=s=p}while(s!==null);Qn=6,ln=null}function et(s,l,p,v,S,w,I,k,te){s.cancelPendingCommit=null;do Ol();while(Bi!==0);if((An&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(w=l.lanes|l.childLanes,w|=jd,Ke(s,p,w,I,k,te),s===Wt&&(ln=Wt=null,Ot=0),Vn=l,xr=s,Ea=p,Io=w,_h=S,Ta=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,_n(Nt,function(){return Pl(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=X.T,X.T=null,S=Q.p,Q.p=2,I=An,An|=4;try{Ii(s,l,p)}finally{An=I,Q.p=S,X.T=v}}Bi=1,ft(),pt(),Yt()}}function ft(){if(Bi===1){Bi=0;var s=xr,l=Vn,p=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||p){p=X.T,X.T=null;var v=Q.p;Q.p=2;var S=An;An|=4;try{gp(l,s);var w=NM,I=Sg(s.containerInfo),k=w.focusedElem,te=w.selectionRange;if(I!==k&&k&&k.ownerDocument&&_g(k.ownerDocument.documentElement,k)){if(te!==null&&Yf(k)){var be=te.start,Be=te.end;if(Be===void 0&&(Be=be),"selectionStart"in k)k.selectionStart=be,k.selectionEnd=Math.min(Be,k.value.length);else{var ke=k.ownerDocument||document,Se=ke&&ke.defaultView||window;if(Se.getSelection){var Me=Se.getSelection(),qt=k.textContent.length,Bt=Math.min(te.start,qt),Wn=te.end===void 0?Bt:Math.min(te.end,qt);!Me.extend&&Bt>Wn&&(I=Wn,Wn=Bt,Bt=I);var ce=bg(k,Bt),se=bg(k,Wn);if(ce&&se&&(Me.rangeCount!==1||Me.anchorNode!==ce.node||Me.anchorOffset!==ce.offset||Me.focusNode!==se.node||Me.focusOffset!==se.offset)){var ye=ke.createRange();ye.setStart(ce.node,ce.offset),Me.removeAllRanges(),Bt>Wn?(Me.addRange(ye),Me.extend(se.node,se.offset)):(ye.setEnd(se.node,se.offset),Me.addRange(ye))}}}}for(ke=[],Me=k;Me=Me.parentNode;)Me.nodeType===1&&ke.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ke.length;k++){var He=ke[k];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Gx=!!DM,NM=DM=null}finally{An=S,Q.p=v,X.T=p}}s.current=l,Bi=2}}function pt(){if(Bi===2){Bi=0;var s=xr,l=Vn,p=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||p){p=X.T,X.T=null;var v=Q.p;Q.p=2;var S=An;An|=4;try{Uo(s,l.alternate,l)}finally{An=S,Q.p=v,X.T=p}}Bi=3}}function Yt(){if(Bi===4||Bi===3){Bi=0,Ne();var s=xr,l=Vn,p=Ea,v=Ta;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bi=5:(Bi=0,Vn=xr=null,Aa(s,s.pendingLanes));var S=s.pendingLanes;if(S===0&&(Ma=null),pn(p),l=l.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(Ce,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=X.T,S=Q.p,Q.p=2,X.T=null;try{for(var w=s.onRecoverableError,I=0;I<v.length;I++){var k=v[I];w(k.value,{componentStack:k.stack})}}finally{X.T=l,Q.p=S}}(Ea&3)!==0&&Ol(),Ul(s),S=s.pendingLanes,(p&4194090)!==0&&(S&42)!==0?s===Su?Ys++:(Ys=0,Su=s):Ys=0,ov(0)}}function Aa(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,_c(l)))}function Ol(s){return ft(),pt(),Yt(),Pl()}function Pl(){if(Bi!==5)return!1;var s=xr,l=Io;Io=0;var p=pn(Ea),v=X.T,S=Q.p;try{Q.p=32>p?32:p,X.T=null,p=_h,_h=null;var w=xr,I=Ea;if(Bi=0,Vn=xr=null,Ea=0,(An&6)!==0)throw Error(i(331));var k=An;if(An|=4,av(w.current),xp(w,w.current,I,p),An=k,ov(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(Ce,w)}catch{}return!0}finally{Q.p=S,X.T=v,Aa(s,l)}}function _e(s,l,p){l=rr(p,l),l=dp(s.stateNode,l,2),s=wo(s,l,2),s!==null&&(mt(s,2),Ul(s))}function ae(s,l,p){if(s.tag===3)_e(s,s,p);else for(;l!==null;){if(l.tag===3){_e(l,s,p);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ma===null||!Ma.has(v))){s=rr(p,s),p=Nx(2),v=wo(l,p,2),v!==null&&(pp(p,v,l,s),mt(v,2),Ul(v));break}}l=l.return}}function Te(s,l,p){var v=s.pingCache;if(v===null){v=s.pingCache=new sv;var S=new Set;v.set(l,S)}else S=v.get(l),S===void 0&&(S=new Set,v.set(l,S));S.has(p)||(Fc=!0,S.add(p),s=$e.bind(null,s,l,p),l.then(s,s))}function $e(s,l,p){var v=s.pingCache;v!==null&&v.delete(l),s.pingedLanes|=s.suspendedLanes&p,s.warmLanes&=~p,Wt===s&&(Ot&p)===p&&(Qn===4||Qn===3&&(Ot&62914560)===Ot&&300>we()-Un?(An&2)===0&&Nl(s,0):_u|=p,yn===Ot&&(yn=0)),Ul(s)}function wt(s,l){l===0&&(l=Je()),s=So(s,l),s!==null&&(mt(s,l),Ul(s))}function Jn(s){var l=s.memoizedState,p=0;l!==null&&(p=l.retryLane),wt(s,p)}function jt(s,l){var p=0;switch(s.tag){case 13:var v=s.stateNode,S=s.memoizedState;S!==null&&(p=S.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(l),wt(s,p)}function _n(s,l){return J(s,l)}var yi=null,un=null,Zs=!1,Mp=!1,SM=!1,Mh=0;function Ul(s){s!==un&&s.next===null&&(un===null?yi=un=s:un=un.next=s),Mp=!0,Zs||(Zs=!0,T6())}function ov(s,l){if(!SM&&Mp){SM=!0;do for(var p=!1,v=yi;v!==null;){if(s!==0){var S=v.pendingLanes;if(S===0)var w=0;else{var I=v.suspendedLanes,k=v.pingedLanes;w=(1<<31-ct(42|s)+1)-1,w&=S&~(I&~k),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(p=!0,lD(v,w))}else w=Ot,w=bt(v,v===Wt?w:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(w&3)===0||st(v,w)||(p=!0,lD(v,w));v=v.next}while(p);SM=!1}}function E6(){aD()}function aD(){Mp=Zs=!1;var s=0;Mh!==0&&(P6()&&(s=Mh),Mh=0);for(var l=we(),p=null,v=yi;v!==null;){var S=v.next,w=sD(v,l);w===0?(v.next=null,p===null?yi=S:p.next=S,S===null&&(un=p)):(p=v,(s!==0||(w&3)!==0)&&(Mp=!0)),v=S}ov(s)}function sD(s,l){for(var p=s.suspendedLanes,v=s.pingedLanes,S=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var I=31-ct(w),k=1<<I,te=S[I];te===-1?((k&p)===0||(k&v)!==0)&&(S[I]=Ht(k,l)):te<=l&&(s.expiredLanes|=k),w&=~k}if(l=Wt,p=Ot,p=bt(s,s===l?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,p===0||s===l&&($t===2||$t===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&De(v),s.callbackNode=null,s.callbackPriority=0;if((p&3)===0||st(s,p)){if(l=p&-p,l===s.callbackPriority)return l;switch(v!==null&&De(v),pn(p)){case 2:case 8:p=Qe;break;case 32:p=Nt;break;case 268435456:p=K;break;default:p=Nt}return v=oD.bind(null,s),p=J(p,v),s.callbackPriority=l,s.callbackNode=p,l}return v!==null&&v!==null&&De(v),s.callbackPriority=2,s.callbackNode=null,2}function oD(s,l){if(Bi!==0&&Bi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var p=s.callbackNode;if(Ol()&&s.callbackNode!==p)return null;var v=Ot;return v=bt(s,s===Wt?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(jc(s,v,l),sD(s,we()),s.callbackNode!=null&&s.callbackNode===p?oD.bind(null,s):null)}function lD(s,l){if(Ol())return null;jc(s,l,!0)}function T6(){L6(function(){(An&6)!==0?J(We,E6):aD()})}function MM(){return Mh===0&&(Mh=oe()),Mh}function uD(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Lf(""+s)}function cD(s,l){var p=l.ownerDocument.createElement("input");return p.name=l.name,p.value=l.value,s.id&&p.setAttribute("form",s.id),l.parentNode.insertBefore(p,l),s=new FormData(s),p.parentNode.removeChild(p),s}function A6(s,l,p,v,S){if(l==="submit"&&p&&p.stateNode===S){var w=uD((S[ti]||null).action),I=v.submitter;I&&(l=(l=I[ti]||null)?uD(l.formAction):I.getAttribute("formAction"),l!==null&&(w=l,I=null));var k=new lc("action","action",null,v,S);s.push({event:k,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Mh!==0){var te=I?cD(S,I):new FormData(S);ev(p,{pending:!0,data:te,method:S.method,action:w},null,te)}}else typeof w=="function"&&(k.preventDefault(),te=I?cD(S,I):new FormData(S),ev(p,{pending:!0,data:te,method:S.method,action:w},w,te))},currentTarget:S}]})}}for(var EM=0;EM<Zf.length;EM++){var TM=Zf[EM],w6=TM.toLowerCase(),C6=TM[0].toUpperCase()+TM.slice(1);ji(w6,"on"+C6)}ji(Ar,"onAnimationEnd"),ji(Tg,"onAnimationIteration"),ji(Wr,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(ky,"onTransitionRun"),ji(bo,"onTransitionStart"),ji(gc,"onTransitionCancel"),ji(_o,"onTransitionEnd"),le("onMouseEnter",["mouseout","mouseover"]),le("onMouseLeave",["mouseout","mouseover"]),le("onPointerEnter",["pointerout","pointerover"]),le("onPointerLeave",["pointerout","pointerover"]),q("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),q("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),q("onBeforeInput",["compositionend","keypress","textInput","paste"]),q("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),q("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),q("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lv));function fD(s,l){l=(l&4)!==0;for(var p=0;p<s.length;p++){var v=s[p],S=v.event;v=v.listeners;e:{var w=void 0;if(l)for(var I=v.length-1;0<=I;I--){var k=v[I],te=k.instance,be=k.currentTarget;if(k=k.listener,te!==w&&S.isPropagationStopped())break e;w=k,S.currentTarget=be;try{w(S)}catch(Be){uu(Be)}S.currentTarget=null,w=te}else for(I=0;I<v.length;I++){if(k=v[I],te=k.instance,be=k.currentTarget,k=k.listener,te!==w&&S.isPropagationStopped())break e;w=k,S.currentTarget=be;try{w(S)}catch(Be){uu(Be)}S.currentTarget=null,w=te}}}}function dn(s,l){var p=l[la];p===void 0&&(p=l[la]=new Set);var v=s+"__bubble";p.has(v)||(hD(l,s,2,!1),p.add(v))}function AM(s,l,p){var v=0;l&&(v|=4),hD(p,s,v,l)}var Lx="_reactListening"+Math.random().toString(36).slice(2);function wM(s){if(!s[Lx]){s[Lx]=!0,ic.forEach(function(p){p!=="selectionchange"&&(R6.has(p)||AM(p,!1,s),AM(p,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Lx]||(l[Lx]=!0,AM("selectionchange",!1,l))}}function hD(s,l,p,v){switch(ID(l)){case 2:var S=n8;break;case 8:S=i8;break;default:S=FM}p=S.bind(null,l,p,s),S=void 0,!Bf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(S=!0),v?S!==void 0?s.addEventListener(l,p,{capture:!0,passive:S}):s.addEventListener(l,p,!0):S!==void 0?s.addEventListener(l,p,{passive:S}):s.addEventListener(l,p,!1)}function CM(s,l,p,v,S){var w=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var I=v.tag;if(I===3||I===4){var k=v.stateNode.containerInfo;if(k===S)break;if(I===4)for(I=v.return;I!==null;){var te=I.tag;if((te===3||te===4)&&I.stateNode.containerInfo===S)return;I=I.return}for(;k!==null;){if(I=cs(k),I===null)return;if(te=I.tag,te===5||te===6||te===26||te===27){v=w=I;continue e}k=k.parentNode}}v=v.return}lg(function(){var be=w,Be=Rd(p),ke=[];e:{var Se=Fd.get(s);if(Se!==void 0){var Me=lc,qt=s;switch(s){case"keypress":if(nl(p)===0)break e;case"keydown":case"keyup":Me=dg;break;case"focusin":qt="focus",Me=Nd;break;case"focusout":qt="blur",Me=Nd;break;case"beforeblur":case"afterblur":Me=Nd;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=cM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=mg;break;case Ar:case Tg:case Wr:Me=Cy;break;case _o:Me=go;break;case"scroll":case"scrollend":Me=Ty;break;case"wheel":Me=fM;break;case"copy":case"cut":case"paste":Me=Dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Pd;break;case"toggle":case"beforetoggle":Me=rl}var Bt=(l&4)!==0,Wn=!Bt&&(s==="scroll"||s==="scrollend"),ce=Bt?Se!==null?Se+"Capture":null:Se;Bt=[];for(var se=be,ye;se!==null;){var He=se;if(ye=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||ye===null||ce===null||(He=ac(se,ce),He!=null&&Bt.push(uv(se,He,ye))),Wn)break;se=se.return}0<Bt.length&&(Se=new Me(Se,qt,null,p,Be),ke.push({event:Se,listeners:Bt}))}}if((l&7)===0){e:{if(Se=s==="mouseover"||s==="pointerover",Me=s==="mouseout"||s==="pointerout",Se&&p!==Cd&&(qt=p.relatedTarget||p.fromElement)&&(cs(qt)||qt[La]))break e;if((Me||Se)&&(Se=Be.window===Be?Be:(Se=Be.ownerDocument)?Se.defaultView||Se.parentWindow:window,Me?(qt=p.relatedTarget||p.toElement,Me=be,qt=qt?cs(qt):null,qt!==null&&(Wn=a(qt),Bt=qt.tag,qt!==Wn||Bt!==5&&Bt!==27&&Bt!==6)&&(qt=null)):(Me=null,qt=be),Me!==qt)){if(Bt=fg,He="onMouseLeave",ce="onMouseEnter",se="mouse",(s==="pointerout"||s==="pointerover")&&(Bt=Pd,He="onPointerLeave",ce="onPointerEnter",se="pointer"),Wn=Me==null?Se:el(Me),ye=qt==null?Se:el(qt),Se=new Bt(He,se+"leave",Me,p,Be),Se.target=Wn,Se.relatedTarget=ye,He=null,cs(Be)===be&&(Bt=new Bt(ce,se+"enter",qt,p,Be),Bt.target=ye,Bt.relatedTarget=Wn,He=Bt),Wn=He,Me&&qt)t:{for(Bt=Me,ce=qt,se=0,ye=Bt;ye;ye=Ep(ye))se++;for(ye=0,He=ce;He;He=Ep(He))ye++;for(;0<se-ye;)Bt=Ep(Bt),se--;for(;0<ye-se;)ce=Ep(ce),ye--;for(;se--;){if(Bt===ce||ce!==null&&Bt===ce.alternate)break t;Bt=Ep(Bt),ce=Ep(ce)}Bt=null}else Bt=null;Me!==null&&dD(ke,Se,Me,Bt,!1),qt!==null&&Wn!==null&&dD(ke,Wn,qt,Bt,!0)}}e:{if(Se=be?el(be):window,Me=Se.nodeName&&Se.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Se.type==="file")var Mt=Ld;else if(xg(Se))if(Id)Mt=ol;else{Mt=Hy;var hn=hM}else Me=Se.nodeName,!Me||Me.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?be&&wd(be.elementType)&&(Mt=Ld):Mt=Wf;if(Mt&&(Mt=Mt(s,be))){Gr(ke,Mt,p,Be);break e}hn&&hn(s,Se,be),s==="focusout"&&be&&Se.type==="number"&&be.memoizedProps.value!=null&&$i(Se,"number",Se.value)}switch(hn=be?el(be):window,s){case"focusin":(xg(hn)||hn.contentEditable==="true")&&(yo=hn,zd=be,Kf=null);break;case"focusout":Kf=zd=yo=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,Eg(ke,p,Be);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":Eg(ke,p,Be)}var Dt;if(Ff)e:{switch(s){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else sl?Gf(s,p)&&(zt="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(zt="onCompositionStart");zt&&(kf&&p.locale!=="ko"&&(sl||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&sl&&(Dt=cg()):(po=Be,ug="value"in po?po.value:po.textContent,sl=!0)),hn=Ix(be,zt),0<hn.length&&(zt=new Od(zt,s,null,p,Be),ke.push({event:zt,listeners:hn}),Dt?zt.data=Dt:(Dt=vg(p),Dt!==null&&(zt.data=Dt)))),(Dt=jf?qf(s,p):yg(s,p))&&(zt=Ix(be,"onBeforeInput"),0<zt.length&&(hn=new Od("onBeforeInput","beforeinput",null,p,Be),ke.push({event:hn,listeners:zt}),hn.data=Dt)),A6(ke,s,be,p,Be)}fD(ke,l)})}function uv(s,l,p){return{instance:s,listener:l,currentTarget:p}}function Ix(s,l){for(var p=l+"Capture",v=[];s!==null;){var S=s,w=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||w===null||(S=ac(s,p),S!=null&&v.unshift(uv(s,S,w)),S=ac(s,l),S!=null&&v.push(uv(s,S,w))),s.tag===3)return v;s=s.return}return[]}function Ep(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function dD(s,l,p,v,S){for(var w=l._reactName,I=[];p!==null&&p!==v;){var k=p,te=k.alternate,be=k.stateNode;if(k=k.tag,te!==null&&te===v)break;k!==5&&k!==26&&k!==27||be===null||(te=be,S?(be=ac(p,w),be!=null&&I.unshift(uv(p,be,te))):S||(be=ac(p,w),be!=null&&I.push(uv(p,be,te)))),p=p.return}I.length!==0&&s.push({event:l,listeners:I})}var D6=/\r\n?/g,N6=/\u0000|\uFFFD/g;function pD(s){return(typeof s=="string"?s:""+s).replace(D6,`
`).replace(N6,"")}function mD(s,l){return l=pD(l),pD(s)===l}function Bx(){}function Xn(s,l,p,v,S,w){switch(p){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||Pi(s,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&Pi(s,""+v);break;case"className":gt(s,"class",v);break;case"tabIndex":gt(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":gt(s,p,v);break;case"style":Uf(s,v,w);break;case"data":if(l!=="object"){gt(s,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||p!=="href")){s.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(p);break}v=Lf(""+v),s.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(p==="formAction"?(l!=="input"&&Xn(s,l,"name",S.name,S,null),Xn(s,l,"formEncType",S.formEncType,S,null),Xn(s,l,"formMethod",S.formMethod,S,null),Xn(s,l,"formTarget",S.formTarget,S,null)):(Xn(s,l,"encType",S.encType,S,null),Xn(s,l,"method",S.method,S,null),Xn(s,l,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(p);break}v=Lf(""+v),s.setAttribute(p,v);break;case"onClick":v!=null&&(s.onclick=Bx);break;case"onScroll":v!=null&&dn("scroll",s);break;case"onScrollEnd":v!=null&&dn("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}p=Lf(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,""+v):s.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,""):s.removeAttribute(p);break;case"capture":case"download":v===!0?s.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(p,v):s.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(p,v):s.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(p):s.setAttribute(p,v);break;case"popover":dn("beforetoggle",s),dn("toggle",s),rt(s,"popover",v);break;case"xlinkActuate":ut(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ut(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ut(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ut(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ut(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ut(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ut(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ut(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ut(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":rt(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=sg.get(p)||p,rt(s,p,v))}}function RM(s,l,p,v,S,w){switch(p){case"style":Uf(s,v,w);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(p=v.__html,p!=null){if(S.children!=null)throw Error(i(60));s.innerHTML=p}}break;case"children":typeof v=="string"?Pi(s,v):(typeof v=="number"||typeof v=="bigint")&&Pi(s,""+v);break;case"onScroll":v!=null&&dn("scroll",s);break;case"onScrollEnd":v!=null&&dn("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Bx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rc.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),l=p.slice(2,S?p.length-7:void 0),w=s[ti]||null,w=w!=null?w[p]:null,typeof w=="function"&&s.removeEventListener(l,w,S),typeof v=="function")){typeof w!="function"&&w!==null&&(p in s?s[p]=null:s.hasAttribute(p)&&s.removeAttribute(p)),s.addEventListener(l,v,S);break e}p in s?s[p]=v:v===!0?s.setAttribute(p,""):rt(s,p,v)}}}function Pr(s,l,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dn("error",s),dn("load",s);var v=!1,S=!1,w;for(w in p)if(p.hasOwnProperty(w)){var I=p[w];if(I!=null)switch(w){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Xn(s,l,w,I,p,null)}}S&&Xn(s,l,"srcSet",p.srcSet,p,null),v&&Xn(s,l,"src",p.src,p,null);return;case"input":dn("invalid",s);var k=w=I=S=null,te=null,be=null;for(v in p)if(p.hasOwnProperty(v)){var Be=p[v];if(Be!=null)switch(v){case"name":S=Be;break;case"type":I=Be;break;case"checked":te=Be;break;case"defaultChecked":be=Be;break;case"value":w=Be;break;case"defaultValue":k=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(i(137,l));break;default:Xn(s,l,v,Be,p,null)}}mr(s,w,k,te,be,I,S,!1),on(s);return;case"select":dn("invalid",s),v=I=w=null;for(S in p)if(p.hasOwnProperty(S)&&(k=p[S],k!=null))switch(S){case"value":w=k;break;case"defaultValue":I=k;break;case"multiple":v=k;default:Xn(s,l,S,k,p,null)}l=w,p=I,s.multiple=!!v,l!=null?ii(s,!!v,l,!1):p!=null&&ii(s,!!v,p,!0);return;case"textarea":dn("invalid",s),w=S=v=null;for(I in p)if(p.hasOwnProperty(I)&&(k=p[I],k!=null))switch(I){case"value":v=k;break;case"defaultValue":S=k;break;case"children":w=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Xn(s,l,I,k,p,null)}tu(s,v,S,w),on(s);return;case"option":for(te in p)if(p.hasOwnProperty(te)&&(v=p[te],v!=null))switch(te){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Xn(s,l,te,v,p,null)}return;case"dialog":dn("beforetoggle",s),dn("toggle",s),dn("cancel",s),dn("close",s);break;case"iframe":case"object":dn("load",s);break;case"video":case"audio":for(v=0;v<lv.length;v++)dn(lv[v],s);break;case"image":dn("error",s),dn("load",s);break;case"details":dn("toggle",s);break;case"embed":case"source":case"link":dn("error",s),dn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in p)if(p.hasOwnProperty(be)&&(v=p[be],v!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Xn(s,l,be,v,p,null)}return;default:if(wd(l)){for(Be in p)p.hasOwnProperty(Be)&&(v=p[Be],v!==void 0&&RM(s,l,Be,v,p,void 0));return}}for(k in p)p.hasOwnProperty(k)&&(v=p[k],v!=null&&Xn(s,l,k,v,p,null))}function O6(s,l,p,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,w=null,I=null,k=null,te=null,be=null,Be=null;for(Me in p){var ke=p[Me];if(p.hasOwnProperty(Me)&&ke!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":te=ke;default:v.hasOwnProperty(Me)||Xn(s,l,Me,null,v,ke)}}for(var Se in v){var Me=v[Se];if(ke=p[Se],v.hasOwnProperty(Se)&&(Me!=null||ke!=null))switch(Se){case"type":w=Me;break;case"name":S=Me;break;case"checked":be=Me;break;case"defaultChecked":Be=Me;break;case"value":I=Me;break;case"defaultValue":k=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(i(137,l));break;default:Me!==ke&&Xn(s,l,Se,Me,v,ke)}}Pn(s,I,k,te,be,Be,w,S);return;case"select":Me=I=k=Se=null;for(w in p)if(te=p[w],p.hasOwnProperty(w)&&te!=null)switch(w){case"value":break;case"multiple":Me=te;default:v.hasOwnProperty(w)||Xn(s,l,w,null,v,te)}for(S in v)if(w=v[S],te=p[S],v.hasOwnProperty(S)&&(w!=null||te!=null))switch(S){case"value":Se=w;break;case"defaultValue":k=w;break;case"multiple":I=w;default:w!==te&&Xn(s,l,S,w,v,te)}l=k,p=I,v=Me,Se!=null?ii(s,!!p,Se,!1):!!v!=!!p&&(l!=null?ii(s,!!p,l,!0):ii(s,!!p,p?[]:"",!1));return;case"textarea":Me=Se=null;for(k in p)if(S=p[k],p.hasOwnProperty(k)&&S!=null&&!v.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Xn(s,l,k,null,v,S)}for(I in v)if(S=v[I],w=p[I],v.hasOwnProperty(I)&&(S!=null||w!=null))switch(I){case"value":Se=S;break;case"defaultValue":Me=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:S!==w&&Xn(s,l,I,S,v,w)}er(s,Se,Me);return;case"option":for(var qt in p)if(Se=p[qt],p.hasOwnProperty(qt)&&Se!=null&&!v.hasOwnProperty(qt))switch(qt){case"selected":s.selected=!1;break;default:Xn(s,l,qt,null,v,Se)}for(te in v)if(Se=v[te],Me=p[te],v.hasOwnProperty(te)&&Se!==Me&&(Se!=null||Me!=null))switch(te){case"selected":s.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:Xn(s,l,te,Se,v,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in p)Se=p[Bt],p.hasOwnProperty(Bt)&&Se!=null&&!v.hasOwnProperty(Bt)&&Xn(s,l,Bt,null,v,Se);for(be in v)if(Se=v[be],Me=p[be],v.hasOwnProperty(be)&&Se!==Me&&(Se!=null||Me!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,l));break;default:Xn(s,l,be,Se,v,Me)}return;default:if(wd(l)){for(var Wn in p)Se=p[Wn],p.hasOwnProperty(Wn)&&Se!==void 0&&!v.hasOwnProperty(Wn)&&RM(s,l,Wn,void 0,v,Se);for(Be in v)Se=v[Be],Me=p[Be],!v.hasOwnProperty(Be)||Se===Me||Se===void 0&&Me===void 0||RM(s,l,Be,Se,v,Me);return}}for(var ce in p)Se=p[ce],p.hasOwnProperty(ce)&&Se!=null&&!v.hasOwnProperty(ce)&&Xn(s,l,ce,null,v,Se);for(ke in v)Se=v[ke],Me=p[ke],!v.hasOwnProperty(ke)||Se===Me||Se==null&&Me==null||Xn(s,l,ke,Se,v,Me)}var DM=null,NM=null;function zx(s){return s.nodeType===9?s:s.ownerDocument}function gD(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vD(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function OM(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var PM=null;function P6(){var s=window.event;return s&&s.type==="popstate"?s===PM?!1:(PM=s,!0):(PM=null,!1)}var yD=typeof setTimeout=="function"?setTimeout:void 0,U6=typeof clearTimeout=="function"?clearTimeout:void 0,xD=typeof Promise=="function"?Promise:void 0,L6=typeof queueMicrotask=="function"?queueMicrotask:typeof xD<"u"?function(s){return xD.resolve(null).then(s).catch(I6)}:yD;function I6(s){setTimeout(function(){throw s})}function Gc(s){return s==="head"}function bD(s,l){var p=l,v=0,S=0;do{var w=p.nextSibling;if(s.removeChild(p),w&&w.nodeType===8)if(p=w.data,p==="/$"){if(0<v&&8>v){p=v;var I=s.ownerDocument;if(p&1&&cv(I.documentElement),p&2&&cv(I.body),p&4)for(p=I.head,cv(p),I=p.firstChild;I;){var k=I.nextSibling,te=I.nodeName;I[fa]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&I.rel.toLowerCase()==="stylesheet"||p.removeChild(I),I=k}}if(S===0){s.removeChild(w),yv(l);return}S--}else p==="$"||p==="$?"||p==="$!"?S++:v=p.charCodeAt(0)-48;else v=0;p=w}while(p);yv(l)}function UM(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var p=l;switch(l=l.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":UM(p),jn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}s.removeChild(p)}}function B6(s,l,p,v){for(;s.nodeType===1;){var S=p;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[fa])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==S.rel||s.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||s.getAttribute("title")!==(S.title==null?null:S.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(S.src==null?null:S.src)||s.getAttribute("type")!==(S.type==null?null:S.type)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var w=S.name==null?null:""+S.name;if(S.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=Bo(s.nextSibling),s===null)break}return null}function z6(s,l,p){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!p||(s=Bo(s.nextSibling),s===null))return null;return s}function LM(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function V6(s,l){var p=s.ownerDocument;if(s.data!=="$?"||p.readyState==="complete")l();else{var v=function(){l(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function Bo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var IM=null;function _D(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(l===0)return s;l--}else p==="/$"&&l++}s=s.previousSibling}return null}function SD(s,l,p){switch(l=zx(p),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function cv(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);jn(s)}var Qs=new Map,MD=new Set;function Vx(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Eu=Q.d;Q.d={f:H6,r:F6,D:j6,C:k6,L:G6,m:q6,X:W6,S:X6,M:Y6};function H6(){var s=Eu.f(),l=Ks();return s||l}function F6(s){var l=Ps(s);l!==null&&l.tag===5&&l.type==="form"?yx(l):Eu.r(s)}var Tp=typeof document>"u"?null:document;function ED(s,l,p){var v=Tp;if(v&&typeof l=="string"&&l){var S=Oi(l);S='link[rel="'+s+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),MD.has(S)||(MD.add(S),s={rel:s,crossOrigin:p,href:l},v.querySelector(S)===null&&(l=v.createElement("link"),Pr(l,"link",s),Ei(l),v.head.appendChild(l)))}}function j6(s){Eu.D(s),ED("dns-prefetch",s,null)}function k6(s,l){Eu.C(s,l),ED("preconnect",s,l)}function G6(s,l,p){Eu.L(s,l,p);var v=Tp;if(v&&s&&l){var S='link[rel="preload"][as="'+Oi(l)+'"]';l==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+Oi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+Oi(p.imageSizes)+'"]')):S+='[href="'+Oi(s)+'"]';var w=S;switch(l){case"style":w=Ap(s);break;case"script":w=wp(s)}Qs.has(w)||(s=m({rel:"preload",href:l==="image"&&p&&p.imageSrcSet?void 0:s,as:l},p),Qs.set(w,s),v.querySelector(S)!==null||l==="style"&&v.querySelector(fv(w))||l==="script"&&v.querySelector(hv(w))||(l=v.createElement("link"),Pr(l,"link",s),Ei(l),v.head.appendChild(l)))}}function q6(s,l){Eu.m(s,l);var p=Tp;if(p&&s){var v=l&&typeof l.as=="string"?l.as:"script",S='link[rel="modulepreload"][as="'+Oi(v)+'"][href="'+Oi(s)+'"]',w=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=wp(s)}if(!Qs.has(w)&&(s=m({rel:"modulepreload",href:s},l),Qs.set(w,s),p.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(hv(w)))return}v=p.createElement("link"),Pr(v,"link",s),Ei(v),p.head.appendChild(v)}}}function X6(s,l,p){Eu.S(s,l,p);var v=Tp;if(v&&s){var S=ho(v).hoistableStyles,w=Ap(s);l=l||"default";var I=S.get(w);if(!I){var k={loading:0,preload:null};if(I=v.querySelector(fv(w)))k.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},p),(p=Qs.get(w))&&BM(s,p);var te=I=v.createElement("link");Ei(te),Pr(te,"link",s),te._p=new Promise(function(be,Be){te.onload=be,te.onerror=Be}),te.addEventListener("load",function(){k.loading|=1}),te.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Hx(I,l,v)}I={type:"stylesheet",instance:I,count:1,state:k},S.set(w,I)}}}function W6(s,l){Eu.X(s,l);var p=Tp;if(p&&s){var v=ho(p).hoistableScripts,S=wp(s),w=v.get(S);w||(w=p.querySelector(hv(S)),w||(s=m({src:s,async:!0},l),(l=Qs.get(S))&&zM(s,l),w=p.createElement("script"),Ei(w),Pr(w,"link",s),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},v.set(S,w))}}function Y6(s,l){Eu.M(s,l);var p=Tp;if(p&&s){var v=ho(p).hoistableScripts,S=wp(s),w=v.get(S);w||(w=p.querySelector(hv(S)),w||(s=m({src:s,async:!0,type:"module"},l),(l=Qs.get(S))&&zM(s,l),w=p.createElement("script"),Ei(w),Pr(w,"link",s),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},v.set(S,w))}}function TD(s,l,p,v){var S=(S=ve.current)?Vx(S):null;if(!S)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(l=Ap(p.href),p=ho(S).hoistableStyles,v=p.get(l),v||(v={type:"style",instance:null,count:0,state:null},p.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){s=Ap(p.href);var w=ho(S).hoistableStyles,I=w.get(s);if(I||(S=S.ownerDocument||S,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,I),(w=S.querySelector(fv(s)))&&!w._p&&(I.instance=w,I.state.loading=5),Qs.has(s)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Qs.set(s,p),w||K6(S,s,p,I.state))),l&&v===null)throw Error(i(528,""));return I}if(l&&v!==null)throw Error(i(529,""));return null;case"script":return l=p.async,p=p.src,typeof p=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=wp(p),p=ho(S).hoistableScripts,v=p.get(l),v||(v={type:"script",instance:null,count:0,state:null},p.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ap(s){return'href="'+Oi(s)+'"'}function fv(s){return'link[rel="stylesheet"]['+s+"]"}function AD(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function K6(s,l,p,v){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=s.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Pr(l,"link",p),Ei(l),s.head.appendChild(l))}function wp(s){return'[src="'+Oi(s)+'"]'}function hv(s){return"script[async]"+s}function wD(s,l,p){if(l.count++,l.instance===null)switch(l.type){case"style":var v=s.querySelector('style[data-href~="'+Oi(p.href)+'"]');if(v)return l.instance=v,Ei(v),v;var S=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),Ei(v),Pr(v,"style",S),Hx(v,p.precedence,s),l.instance=v;case"stylesheet":S=Ap(p.href);var w=s.querySelector(fv(S));if(w)return l.state.loading|=4,l.instance=w,Ei(w),w;v=AD(p),(S=Qs.get(S))&&BM(v,S),w=(s.ownerDocument||s).createElement("link"),Ei(w);var I=w;return I._p=new Promise(function(k,te){I.onload=k,I.onerror=te}),Pr(w,"link",v),l.state.loading|=4,Hx(w,p.precedence,s),l.instance=w;case"script":return w=wp(p.src),(S=s.querySelector(hv(w)))?(l.instance=S,Ei(S),S):(v=p,(S=Qs.get(w))&&(v=m({},p),zM(v,S)),s=s.ownerDocument||s,S=s.createElement("script"),Ei(S),Pr(S,"link",v),s.head.appendChild(S),l.instance=S);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,Hx(v,p.precedence,s));return l.instance}function Hx(s,l,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,w=S,I=0;I<v.length;I++){var k=v[I];if(k.dataset.precedence===l)w=k;else if(w!==S)break}w?w.parentNode.insertBefore(s,w.nextSibling):(l=p.nodeType===9?p.head:p,l.insertBefore(s,l.firstChild))}function BM(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function zM(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Fx=null;function CD(s,l,p){if(Fx===null){var v=new Map,S=Fx=new Map;S.set(p,v)}else S=Fx,v=S.get(p),v||(v=new Map,S.set(p,v));if(v.has(s))return v;for(v.set(s,null),p=p.getElementsByTagName(s),S=0;S<p.length;S++){var w=p[S];if(!(w[fa]||w[Mi]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(l)||"";I=s+I;var k=v.get(I);k?k.push(w):v.set(I,[w])}}return v}function RD(s,l,p){s=s.ownerDocument||s,s.head.insertBefore(p,l==="title"?s.querySelector("head > title"):null)}function Z6(s,l,p){if(p===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function DD(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var dv=null;function Q6(){}function J6(s,l,p){if(dv===null)throw Error(i(475));var v=dv;if(l.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var S=Ap(p.href),w=s.querySelector(fv(S));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(v.count++,v=jx.bind(v),s.then(v,v)),l.state.loading|=4,l.instance=w,Ei(w);return}w=s.ownerDocument||s,p=AD(p),(S=Qs.get(S))&&BM(p,S),w=w.createElement("link"),Ei(w);var I=w;I._p=new Promise(function(k,te){I.onload=k,I.onerror=te}),Pr(w,"link",p),l.instance=w}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(v.count++,l=jx.bind(v),s.addEventListener("load",l),s.addEventListener("error",l))}}function $6(){if(dv===null)throw Error(i(475));var s=dv;return s.stylesheets&&s.count===0&&VM(s,s.stylesheets),0<s.count?function(l){var p=setTimeout(function(){if(s.stylesheets&&VM(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(p)}}:null}function jx(){if(this.count--,this.count===0){if(this.stylesheets)VM(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var kx=null;function VM(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,kx=new Map,l.forEach(e8,s),kx=null,jx.call(s))}function e8(s,l){if(!(l.state.loading&4)){var p=kx.get(s);if(p)var v=p.get(null);else{p=new Map,kx.set(s,p);for(var S=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<S.length;w++){var I=S[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(p.set(I.dataset.precedence,I),v=I)}v&&p.set(null,v)}S=l.instance,I=S.getAttribute("data-precedence"),w=p.get(I)||v,w===v&&p.set(null,S),p.set(I,S),this.count++,v=jx.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),w?w.parentNode.insertBefore(S,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(S,s.firstChild)),l.state.loading|=4}}var pv={$$typeof:D,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function t8(s,l,p,v,S,w,I,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function ND(s,l,p,v,S,w,I,k,te,be,Be,ke){return s=new t8(s,l,p,I,k,te,be,ke),l=1,w===!0&&(l|=24),w=Yr(3,null,null,l),s.current=w,w.stateNode=s,l=Yd(),l.refCount++,s.pooledCache=l,l.refCount++,w.memoizedState={element:v,isDehydrated:p,cache:l},zg(w),s}function OD(s){return s?(s=cl,s):cl}function PD(s,l,p,v,S,w){S=OD(S),v.context===null?v.context=S:v.pendingContext=S,v=zs(l),v.payload={element:p},w=w===void 0?null:w,w!==null&&(v.callback=w),p=wo(s,v,l),p!==null&&(Or(p,s,l),su(p,s,l))}function UD(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<l?p:l}}function HM(s,l){UD(s,l),(s=s.alternate)&&UD(s,l)}function LD(s){if(s.tag===13){var l=So(s,67108864);l!==null&&Or(l,s,67108864),HM(s,67108864)}}var Gx=!0;function n8(s,l,p,v){var S=X.T;X.T=null;var w=Q.p;try{Q.p=2,FM(s,l,p,v)}finally{Q.p=w,X.T=S}}function i8(s,l,p,v){var S=X.T;X.T=null;var w=Q.p;try{Q.p=8,FM(s,l,p,v)}finally{Q.p=w,X.T=S}}function FM(s,l,p,v){if(Gx){var S=jM(v);if(S===null)CM(s,l,v,qx,p),BD(s,v);else if(a8(S,s,l,p,v))v.stopPropagation();else if(BD(s,v),l&4&&-1<r8.indexOf(s)){for(;S!==null;){var w=Ps(S);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=At(w.pendingLanes);if(I!==0){var k=w;for(k.pendingLanes|=2,k.entangledLanes|=2;I;){var te=1<<31-ct(I);k.entanglements[1]|=te,I&=~te}Ul(w),(An&6)===0&&(yr=we()+500,ov(0))}}break;case 13:k=So(w,2),k!==null&&Or(k,w,2),Ks(),HM(w,2)}if(w=jM(v),w===null&&CM(s,l,v,qx,p),w===S)break;S=w}S!==null&&v.stopPropagation()}else CM(s,l,v,null,p)}}function jM(s){return s=Rd(s),kM(s)}var qx=null;function kM(s){if(qx=null,s=cs(s),s!==null){var l=a(s);if(l===null)s=null;else{var p=l.tag;if(p===13){if(s=o(l),s!==null)return s;s=null}else if(p===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return qx=s,null}function ID(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case We:return 2;case Qe:return 8;case Nt:case Vt:return 32;case K:return 268435456;default:return 32}default:return 32}}var GM=!1,qc=null,Xc=null,Wc=null,mv=new Map,gv=new Map,Yc=[],r8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BD(s,l){switch(s){case"focusin":case"focusout":qc=null;break;case"dragenter":case"dragleave":Xc=null;break;case"mouseover":case"mouseout":Wc=null;break;case"pointerover":case"pointerout":mv.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":gv.delete(l.pointerId)}}function vv(s,l,p,v,S,w){return s===null||s.nativeEvent!==w?(s={blockedOn:l,domEventName:p,eventSystemFlags:v,nativeEvent:w,targetContainers:[S]},l!==null&&(l=Ps(l),l!==null&&LD(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,S!==null&&l.indexOf(S)===-1&&l.push(S),s)}function a8(s,l,p,v,S){switch(l){case"focusin":return qc=vv(qc,s,l,p,v,S),!0;case"dragenter":return Xc=vv(Xc,s,l,p,v,S),!0;case"mouseover":return Wc=vv(Wc,s,l,p,v,S),!0;case"pointerover":var w=S.pointerId;return mv.set(w,vv(mv.get(w)||null,s,l,p,v,S)),!0;case"gotpointercapture":return w=S.pointerId,gv.set(w,vv(gv.get(w)||null,s,l,p,v,S)),!0}return!1}function zD(s){var l=cs(s.target);if(l!==null){var p=a(l);if(p!==null){if(l=p.tag,l===13){if(l=o(p),l!==null){s.blockedOn=l,Ua(s.priority,function(){if(p.tag===13){var v=ci();v=Lt(v);var S=So(p,v);S!==null&&Or(S,p,v),HM(p,v)}});return}}else if(l===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xx(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var p=jM(s.nativeEvent);if(p===null){p=s.nativeEvent;var v=new p.constructor(p.type,p);Cd=v,p.target.dispatchEvent(v),Cd=null}else return l=Ps(p),l!==null&&LD(l),s.blockedOn=p,!1;l.shift()}return!0}function VD(s,l,p){Xx(s)&&p.delete(l)}function s8(){GM=!1,qc!==null&&Xx(qc)&&(qc=null),Xc!==null&&Xx(Xc)&&(Xc=null),Wc!==null&&Xx(Wc)&&(Wc=null),mv.forEach(VD),gv.forEach(VD)}function Wx(s,l){s.blockedOn===l&&(s.blockedOn=null,GM||(GM=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,s8)))}var Yx=null;function HD(s){Yx!==s&&(Yx=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yx===s&&(Yx=null);for(var l=0;l<s.length;l+=3){var p=s[l],v=s[l+1],S=s[l+2];if(typeof v!="function"){if(kM(v||p)===null)continue;break}var w=Ps(p);w!==null&&(s.splice(l,3),l-=3,ev(w,{pending:!0,data:S,method:p.method,action:v},v,S))}}))}function yv(s){function l(te){return Wx(te,s)}qc!==null&&Wx(qc,s),Xc!==null&&Wx(Xc,s),Wc!==null&&Wx(Wc,s),mv.forEach(l),gv.forEach(l);for(var p=0;p<Yc.length;p++){var v=Yc[p];v.blockedOn===s&&(v.blockedOn=null)}for(;0<Yc.length&&(p=Yc[0],p.blockedOn===null);)zD(p),p.blockedOn===null&&Yc.shift();if(p=(s.ownerDocument||s).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var S=p[v],w=p[v+1],I=S[ti]||null;if(typeof w=="function")I||HD(p);else if(I){var k=null;if(w&&w.hasAttribute("formAction")){if(S=w,I=w[ti]||null)k=I.formAction;else if(kM(S)!==null)continue}else k=I.action;typeof k=="function"?p[v+1]=k:(p.splice(v,3),v-=3),HD(p)}}}function qM(s){this._internalRoot=s}Kx.prototype.render=qM.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var p=l.current,v=ci();PD(p,v,s,l,null,null)},Kx.prototype.unmount=qM.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;PD(s.current,2,null,s,null,null),Ks(),l[La]=null}};function Kx(s){this._internalRoot=s}Kx.prototype.unstable_scheduleHydration=function(s){if(s){var l=cn();s={blockedOn:null,target:s,priority:l};for(var p=0;p<Yc.length&&l!==0&&l<Yc[p].priority;p++);Yc.splice(p,0,s),p===0&&zD(s)}};var FD=e.version;if(FD!=="19.1.1")throw Error(i(527,FD,"19.1.1"));Q.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var o8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zx.isDisabled&&Zx.supportsFiber)try{Ce=Zx.inject(o8),Ve=Zx}catch{}}return bv.createRoot=function(s,l){if(!r(s))throw Error(i(299));var p=!1,v="",S=gh,w=fp,I=Dx,k=null;return l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(S=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks)),l=ND(s,1,!1,null,null,p,v,S,w,I,k,null),s[La]=l.current,wM(s),new qM(l)},bv.hydrateRoot=function(s,l,p){if(!r(s))throw Error(i(299));var v=!1,S="",w=gh,I=fp,k=Dx,te=null,be=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(w=p.onUncaughtError),p.onCaughtError!==void 0&&(I=p.onCaughtError),p.onRecoverableError!==void 0&&(k=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(te=p.unstable_transitionCallbacks),p.formState!==void 0&&(be=p.formState)),l=ND(s,1,!0,l,p??null,v,S,w,I,k,te,be),l.context=OD(null),p=l.current,v=ci(),v=Lt(v),S=zs(v),S.callback=null,wo(p,S,v),p=v,l.current.lanes=p,mt(l,p),Ul(l),s[La]=l.current,wM(s),new Kx(l)},bv.version="19.1.1",bv}var QD;function x8(){if(QD)return YM.exports;QD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),YM.exports=y8(),YM.exports}var b8=x8();const l2=H.createContext({});function u2(t){const e=H.useRef(null);return e.current===null&&(e.current=t()),e.current}const c2=typeof window<"u",CI=c2?H.useLayoutEffect:H.useEffect,jS=H.createContext(null);function f2(t,e){t.indexOf(e)===-1&&t.push(e)}function h2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fu=(t,e,n)=>n>e?e:n<t?t:n;let d2=()=>{};const ju={},RI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function DI(t){return typeof t=="object"&&t!==null}const NI=t=>/^0[^.\s]+$/u.test(t);function p2(t){let e;return()=>(e===void 0&&(e=t()),e)}const so=t=>t,_8=(t,e)=>n=>e(t(n)),k0=(...t)=>t.reduce(_8),o0=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class m2{constructor(){this.subscriptions=[]}add(e){return f2(this.subscriptions,e),()=>h2(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gl=t=>t*1e3,ql=t=>t/1e3;function OI(t,e){return e?t*(1e3/e):0}const PI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S8=1e-7,M8=12;function E8(t,e,n,i,r){let a,o,u=0;do o=e+(n-e)/2,a=PI(o,i,r)-t,a>0?n=o:e=o;while(Math.abs(a)>S8&&++u<M8);return o}function G0(t,e,n,i){if(t===e&&n===i)return so;const r=a=>E8(a,0,1,t,n);return a=>a===0||a===1?a:PI(r(a),e,i)}const UI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LI=t=>e=>1-t(1-e),II=G0(.33,1.53,.69,.99),g2=LI(II),BI=UI(g2),zI=t=>(t*=2)<1?.5*g2(t):.5*(2-Math.pow(2,-10*(t-1))),v2=t=>1-Math.sin(Math.acos(t)),VI=LI(v2),HI=UI(v2),T8=G0(.42,0,1,1),A8=G0(0,0,.58,1),FI=G0(.42,0,.58,1),w8=t=>Array.isArray(t)&&typeof t[0]!="number",jI=t=>Array.isArray(t)&&typeof t[0]=="number",C8={linear:so,easeIn:T8,easeInOut:FI,easeOut:A8,circIn:v2,circInOut:HI,circOut:VI,backIn:g2,backInOut:BI,backOut:II,anticipate:zI},R8=t=>typeof t=="string",JD=t=>{if(jI(t)){d2(t.length===4);const[e,n,i,r]=t;return G0(e,n,i,r)}else if(R8(t))return C8[t];return t},Qx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function D8(t,e){let n=new Set,i=new Set,r=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){o.has(m)&&(d.schedule(m),t()),m(u)}const d={schedule:(m,g=!1,y=!1)=>{const _=y&&r?n:i;return g&&o.add(m),_.has(m)||_.add(m),m},cancel:m=>{i.delete(m),o.delete(m)},process:m=>{if(u=m,r){a=!0;return}r=!0,[n,i]=[i,n],n.forEach(f),n.clear(),r=!1,a&&(a=!1,d.process(m))}};return d}const N8=40;function kI(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Qx.reduce((D,N)=>(D[N]=D8(a),D),{}),{setup:u,read:f,resolveKeyframes:d,preUpdate:m,update:g,preRender:y,render:b,postRender:_}=o,A=()=>{const D=ju.useManualTiming?r.timestamp:performance.now();n=!1,ju.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(D-r.timestamp,N8),1)),r.timestamp=D,r.isProcessing=!0,u.process(r),f.process(r),d.process(r),m.process(r),g.process(r),y.process(r),b.process(r),_.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(A))},T=()=>{n=!0,i=!0,r.isProcessing||t(A)};return{schedule:Qx.reduce((D,N)=>{const U=o[N];return D[N]=(L,V=!1,F=!1)=>(n||T(),U.schedule(L,V,F)),D},{}),cancel:D=>{for(let N=0;N<Qx.length;N++)o[Qx[N]].cancel(D)},state:r,steps:o}}const{schedule:fi,cancel:pf,state:Lr,steps:JM}=kI(typeof requestAnimationFrame<"u"?requestAnimationFrame:so,!0);let s_;function O8(){s_=void 0}const ns={now:()=>(s_===void 0&&ns.set(Lr.isProcessing||ju.useManualTiming?Lr.timestamp:performance.now()),s_),set:t=>{s_=t,queueMicrotask(O8)}},GI=t=>e=>typeof e=="string"&&e.startsWith(t),y2=GI("--"),P8=GI("var(--"),x2=t=>P8(t)?U8.test(t.split("/*")[0].trim()):!1,U8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},l0={...Bm,transform:t=>Fu(0,1,t)},Jx={...Bm,default:1},qv=t=>Math.round(t*1e5)/1e5,b2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function L8(t){return t==null}const I8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_2=(t,e)=>n=>!!(typeof n=="string"&&I8.test(n)&&n.startsWith(t)||e&&!L8(n)&&Object.prototype.hasOwnProperty.call(n,e)),qI=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,a,o,u]=i.match(b2);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},B8=t=>Fu(0,255,t),$M={...Bm,transform:t=>Math.round(B8(t))},Wh={test:_2("rgb","red"),parse:qI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+$M.transform(t)+", "+$M.transform(e)+", "+$M.transform(n)+", "+qv(l0.transform(i))+")"};function z8(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const GA={test:_2("#"),parse:z8,transform:Wh.transform},q0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rf=q0("deg"),Xl=q0("%"),Xt=q0("px"),V8=q0("vh"),H8=q0("vw"),$D={...Xl,parse:t=>Xl.parse(t)/100,transform:t=>Xl.transform(t*100)},em={test:_2("hsl","hue"),parse:qI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Xl.transform(qv(e))+", "+Xl.transform(qv(n))+", "+qv(l0.transform(i))+")"},Yi={test:t=>Wh.test(t)||GA.test(t)||em.test(t),parse:t=>Wh.test(t)?Wh.parse(t):em.test(t)?em.parse(t):GA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wh.transform(t):em.transform(t),getAnimatableNone:t=>{const e=Yi.parse(t);return e.alpha=0,Yi.transform(e)}},F8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function j8(t){return isNaN(t)&&typeof t=="string"&&(t.match(b2)?.length||0)+(t.match(F8)?.length||0)>0}const XI="number",WI="color",k8="var",G8="var(",eN="${}",q8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function u0(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let a=0;const u=e.replace(q8,f=>(Yi.test(f)?(i.color.push(a),r.push(WI),n.push(Yi.parse(f))):f.startsWith(G8)?(i.var.push(a),r.push(k8),n.push(f)):(i.number.push(a),r.push(XI),n.push(parseFloat(f))),++a,eN)).split(eN);return{values:n,split:u,indexes:i,types:r}}function YI(t){return u0(t).values}function KI(t){const{split:e,types:n}=u0(t),i=e.length;return r=>{let a="";for(let o=0;o<i;o++)if(a+=e[o],r[o]!==void 0){const u=n[o];u===XI?a+=qv(r[o]):u===WI?a+=Yi.transform(r[o]):a+=r[o]}return a}}const X8=t=>typeof t=="number"?0:Yi.test(t)?Yi.getAnimatableNone(t):t;function W8(t){const e=YI(t);return KI(t)(e.map(X8))}const mf={test:j8,parse:YI,createTransformer:KI,getAnimatableNone:W8};function eE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Y8({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,a=0,o=0;if(!e)r=a=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;r=eE(f,u,t+1/3),a=eE(f,u,t),o=eE(f,u,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:i}}function v_(t,e){return n=>n>0?e:t}const bi=(t,e,n)=>t+(e-t)*n,tE=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},K8=[GA,Wh,em],Z8=t=>K8.find(e=>e.test(t));function tN(t){const e=Z8(t);if(!e)return!1;let n=e.parse(t);return e===em&&(n=Y8(n)),n}const nN=(t,e)=>{const n=tN(t),i=tN(e);if(!n||!i)return v_(t,e);const r={...n};return a=>(r.red=tE(n.red,i.red,a),r.green=tE(n.green,i.green,a),r.blue=tE(n.blue,i.blue,a),r.alpha=bi(n.alpha,i.alpha,a),Wh.transform(r))},qA=new Set(["none","hidden"]);function Q8(t,e){return qA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function J8(t,e){return n=>bi(t,e,n)}function S2(t){return typeof t=="number"?J8:typeof t=="string"?x2(t)?v_:Yi.test(t)?nN:tj:Array.isArray(t)?ZI:typeof t=="object"?Yi.test(t)?nN:$8:v_}function ZI(t,e){const n=[...t],i=n.length,r=t.map((a,o)=>S2(a)(a,e[o]));return a=>{for(let o=0;o<i;o++)n[o]=r[o](a);return n}}function $8(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=S2(t[r])(t[r],e[r]));return r=>{for(const a in i)n[a]=i[a](r);return n}}function ej(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=t.indexes[a][i[a]],u=t.values[o]??0;n[r]=u,i[a]++}return n}const tj=(t,e)=>{const n=mf.createTransformer(e),i=u0(t),r=u0(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?qA.has(t)&&!r.values.length||qA.has(e)&&!i.values.length?Q8(t,e):k0(ZI(ej(i,r),r.values),n):v_(t,e)};function QI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bi(t,e,n):S2(t)(t,e)}const nj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>fi.update(e,n),stop:()=>pf(e),now:()=>Lr.isProcessing?Lr.timestamp:ns.now()}},JI=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let a=0;a<r;a++)i+=Math.round(t(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},y_=2e4;function M2(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<y_;)e+=n,i=t.next(e);return e>=y_?1/0:e}function ij(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(M2(i),y_);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:ql(r)}}const rj=5;function $I(t,e,n){const i=Math.max(e-rj,0);return OI(n-t(i),e-i)}const Ri={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nE=.001;function aj({duration:t=Ri.duration,bounce:e=Ri.bounce,velocity:n=Ri.velocity,mass:i=Ri.mass}){let r,a,o=1-e;o=Fu(Ri.minDamping,Ri.maxDamping,o),t=Fu(Ri.minDuration,Ri.maxDuration,ql(t)),o<1?(r=d=>{const m=d*o,g=m*t,y=m-n,b=XA(d,o),_=Math.exp(-g);return nE-y/b*_},a=d=>{const g=d*o*t,y=g*n+n,b=Math.pow(o,2)*Math.pow(d,2)*t,_=Math.exp(-g),A=XA(Math.pow(d,2),o);return(-r(d)+nE>0?-1:1)*((y-b)*_)/A}):(r=d=>{const m=Math.exp(-d*t),g=(d-n)*t+1;return-nE+m*g},a=d=>{const m=Math.exp(-d*t),g=(n-d)*(t*t);return m*g});const u=5/t,f=oj(r,a,u);if(t=Gl(t),isNaN(f))return{stiffness:Ri.stiffness,damping:Ri.damping,duration:t};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:o*2*Math.sqrt(i*d),duration:t}}}const sj=12;function oj(t,e,n){let i=n;for(let r=1;r<sj;r++)i=i-t(i)/e(i);return i}function XA(t,e){return t*Math.sqrt(1-e*e)}const lj=["duration","bounce"],uj=["stiffness","damping","mass"];function iN(t,e){return e.some(n=>t[n]!==void 0)}function cj(t){let e={velocity:Ri.velocity,stiffness:Ri.stiffness,damping:Ri.damping,mass:Ri.mass,isResolvedFromDuration:!1,...t};if(!iN(t,uj)&&iN(t,lj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,a=2*Fu(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ri.mass,stiffness:r,damping:a}}else{const n=aj(t);e={...e,...n,mass:Ri.mass},e.isResolvedFromDuration=!0}return e}function x_(t=Ri.visualDuration,e=Ri.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:d,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=cj({...n,velocity:-ql(n.velocity||0)}),_=y||0,A=d/(2*Math.sqrt(f*m)),T=o-a,M=ql(Math.sqrt(f/m)),R=Math.abs(T)<5;i||(i=R?Ri.restSpeed.granular:Ri.restSpeed.default),r||(r=R?Ri.restDelta.granular:Ri.restDelta.default);let D;if(A<1){const U=XA(M,A);D=L=>{const V=Math.exp(-A*M*L);return o-V*((_+A*M*T)/U*Math.sin(U*L)+T*Math.cos(U*L))}}else if(A===1)D=U=>o-Math.exp(-M*U)*(T+(_+M*T)*U);else{const U=M*Math.sqrt(A*A-1);D=L=>{const V=Math.exp(-A*M*L),F=Math.min(U*L,300);return o-V*((_+A*M*T)*Math.sinh(F)+U*T*Math.cosh(F))/U}}const N={calculatedDuration:b&&g||null,next:U=>{const L=D(U);if(b)u.done=U>=g;else{let V=U===0?_:0;A<1&&(V=U===0?Gl(_):$I(D,U,L));const F=Math.abs(V)<=i,B=Math.abs(o-L)<=r;u.done=F&&B}return u.value=u.done?o:L,u},toString:()=>{const U=Math.min(M2(N),y_),L=JI(V=>N.next(U*V).value,U,30);return U+"ms "+L},toTransition:()=>{}};return N}x_.applyToOptions=t=>{const e=ij(t,100,x_);return t.ease=e.ease,t.duration=Gl(e.duration),t.type="keyframes",t};function WA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:u,max:f,restDelta:d=.5,restSpeed:m}){const g=t[0],y={done:!1,value:g},b=F=>u!==void 0&&F<u||f!==void 0&&F>f,_=F=>u===void 0?f:f===void 0||Math.abs(u-F)<Math.abs(f-F)?u:f;let A=n*e;const T=g+A,M=o===void 0?T:o(T);M!==T&&(A=M-g);const R=F=>-A*Math.exp(-F/i),D=F=>M+R(F),N=F=>{const B=R(F),z=D(F);y.done=Math.abs(B)<=d,y.value=y.done?M:z};let U,L;const V=F=>{b(y.value)&&(U=F,L=x_({keyframes:[y.value,_(y.value)],velocity:$I(D,F,y.value),damping:r,stiffness:a,restDelta:d,restSpeed:m}))};return V(0),{calculatedDuration:null,next:F=>{let B=!1;return!L&&U===void 0&&(B=!0,N(F),V(F)),U!==void 0&&F>=U?L.next(F-U):(!B&&N(F),y)}}}function fj(t,e,n){const i=[],r=n||ju.mix||QI,a=t.length-1;for(let o=0;o<a;o++){let u=r(t[o],t[o+1]);if(e){const f=Array.isArray(e)?e[o]||so:e;u=k0(f,u)}i.push(u)}return i}function hj(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const a=t.length;if(d2(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=fj(e,i,r),f=u.length,d=m=>{if(o&&m<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const y=o0(t[g],t[g+1],m);return u[g](y)};return n?m=>d(Fu(t[0],t[a-1],m)):d}function dj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=o0(0,e,i);t.push(bi(n,1,r))}}function pj(t){const e=[0];return dj(e,t.length-1),e}function mj(t,e){return t.map(n=>n*e)}function gj(t,e){return t.map(()=>e||FI).splice(0,t.length-1)}function Xv({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=w8(i)?i.map(JD):JD(i),a={done:!1,value:e[0]},o=mj(n&&n.length===e.length?n:pj(e),t),u=hj(o,e,{ease:Array.isArray(r)?r:gj(e,r)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const vj=t=>t!==null;function E2(t,{repeat:e,repeatType:n="loop"},i,r=1){const a=t.filter(vj),u=r<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||i===void 0?a[u]:i}const yj={decay:WA,inertia:WA,tween:Xv,keyframes:Xv,spring:x_};function eB(t){typeof t.type=="string"&&(t.type=yj[t.type])}class T2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xj=t=>t/100;class A2 extends T2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ns.now()&&this.tick(ns.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eB(e);const{type:n=Xv,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=e;let{keyframes:u}=e;const f=n||Xv;f!==Xv&&typeof u[0]!="number"&&(this.mixKeyframes=k0(xj,QI(u[0],u[1])),u=[0,100]);const d=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=M2(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:_,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?M<0:M>r;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let D=this.currentTime,N=i;if(g){const F=Math.min(this.currentTime,r)/u;let B=Math.floor(F),z=F%1;!z&&F>=1&&(z=1),z===1&&B--,B=Math.min(B,g+1),!!(B%2)&&(y==="reverse"?(z=1-z,b&&(z-=b/u)):y==="mirror"&&(N=o)),D=Fu(0,1,z)*u}const U=R?{done:!1,value:m[0]}:N.next(D);a&&(U.value=a(U.value));let{done:L}=U;!R&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return V&&_!==WA&&(U.value=E2(m,this.options,T,this.speed)),A&&A(U.value),V&&this.finish(),U}then(e,n){return this.finished.then(e,n)}get duration(){return ql(this.calculatedDuration)}get time(){return ql(this.currentTime)}set time(e){e=Gl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ns.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ql(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=nj,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ns.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function bj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yh=t=>t*180/Math.PI,YA=t=>{const e=Yh(Math.atan2(t[1],t[0]));return KA(e)},_j={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:YA,rotateZ:YA,skewX:t=>Yh(Math.atan(t[1])),skewY:t=>Yh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},KA=t=>(t=t%360,t<0&&(t+=360),t),rN=YA,aN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Sj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aN,scaleY:sN,scale:t=>(aN(t)+sN(t))/2,rotateX:t=>KA(Yh(Math.atan2(t[6],t[5]))),rotateY:t=>KA(Yh(Math.atan2(-t[2],t[0]))),rotateZ:rN,rotate:rN,skewX:t=>Yh(Math.atan(t[4])),skewY:t=>Yh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ZA(t){return t.includes("scale")?1:0}function QA(t,e){if(!t||t==="none")return ZA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=Sj,r=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=_j,r=u}if(!r)return ZA(e);const a=i[e],o=r[1].split(",").map(Ej);return typeof a=="function"?a(o):o[a]}const Mj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return QA(n,e)};function Ej(t){return parseFloat(t.trim())}const zm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vm=new Set(zm),oN=t=>t===Bm||t===Xt,Tj=new Set(["x","y","z"]),Aj=zm.filter(t=>!Tj.has(t));function wj(t){const e=[];return Aj.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const td={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>QA(e,"x"),y:(t,{transform:e})=>QA(e,"y")};td.translateX=td.x;td.translateY=td.y;const nd=new Set;let JA=!1,$A=!1,ew=!1;function tB(){if($A){const t=Array.from(nd).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=wj(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([a,o])=>{i.getValue(a)?.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}$A=!1,JA=!1,nd.forEach(t=>t.complete(ew)),nd.clear()}function nB(){nd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($A=!0)})}function Cj(){ew=!0,nB(),tB(),ew=!1}class w2{constructor(e,n,i,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(nd.add(this),JA||(JA=!0,fi.read(nB),fi.resolveKeyframes(tB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&n){const u=i.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),r&&a===void 0&&r.set(e[0])}bj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),nd.delete(this)}cancel(){this.state==="scheduled"&&(nd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rj=t=>t.startsWith("--");function Dj(t,e,n){Rj(e)?t.style.setProperty(e,n):t.style[e]=n}const Nj=p2(()=>window.ScrollTimeline!==void 0),Oj={};function Pj(t,e){const n=p2(t);return()=>Oj[e]??n()}const iB=Pj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vv=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,lN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vv([0,.65,.55,1]),circOut:Vv([.55,0,1,.45]),backIn:Vv([.31,.01,.66,-.59]),backOut:Vv([.33,1.53,.69,.99])};function rB(t,e){if(t)return typeof t=="function"?iB()?JI(t,e):"ease-out":jI(t)?Vv(t):Array.isArray(t)?t.map(n=>rB(n,e)||lN.easeOut):lN[t]}function Uj(t,e,n,{delay:i=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:u="easeOut",times:f}={},d=void 0){const m={[e]:n};f&&(m.offset=f);const g=rB(u,r);Array.isArray(g)&&(m.easing=g);const y={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(m,y)}function aB(t){return typeof t=="function"&&"applyToOptions"in t}function Lj({type:t,...e}){return aB(t)&&iB()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ij extends T2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,d2(typeof e.type!="string");const d=Lj(e);this.animation=Uj(n,i,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=E2(r,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):Dj(n,i,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ql(Number(e))}get time(){return ql(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Gl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Nj()?(this.animation.timeline=e,so):n(this)}}const sB={anticipate:zI,backInOut:BI,circInOut:HI};function Bj(t){return t in sB}function zj(t){typeof t.ease=="string"&&Bj(t.ease)&&(t.ease=sB[t.ease])}const uN=10;class Vj extends Ij{constructor(e){zj(e),eB(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:a,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new A2({...o,autoplay:!1}),f=Gl(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-uN).value,u.sample(f).value,uN),u.stop()}}const cN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(mf.test(t)||t==="0")&&!t.startsWith("url("));function Hj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Fj(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=cN(r,e),u=cN(a,e);return!o||!u?!1:Hj(t)||(n==="spring"||aB(n))&&i}function tw(t){t.duration=0,t.type}const jj=new Set(["opacity","clipPath","filter","transform"]),kj=p2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Gj(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:a,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return kj()&&n&&jj.has(n)&&(n!=="transform"||!d)&&!f&&!i&&r!=="mirror"&&a!==0&&o!=="inertia"}const qj=40;class Xj extends T2{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:u,name:f,motionValue:d,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ns.now();const y={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:a,repeatType:o,name:f,motionValue:d,element:m,...g},b=m?.KeyframeResolver||w2;this.keyframeResolver=new b(u,(_,A,T)=>this.onKeyframesResolved(_,A,y,!T),f,d,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:a,type:o,velocity:u,delay:f,isHandoff:d,onUpdate:m}=i;this.resolvedAt=ns.now(),Fj(e,a,o,u)||((ju.instantAnimations||!f)&&m?.(E2(e,i,n)),e[0]=e[e.length-1],tw(i),i.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>qj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},b=!d&&Gj(y)?new Vj({...y,element:y.motionValue.owner.current}):new A2(y);b.finished.then(()=>this.notifyFinished()).catch(so),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Cj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Wj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yj(t){const e=Wj.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function oB(t,e,n=1){const[i,r]=Yj(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const o=a.trim();return RI(o)?parseFloat(o):o}return x2(r)?oB(r,e,n+1):r}function C2(t,e){return t?.[e]??t?.default??t}const lB=new Set(["width","height","top","left","right","bottom",...zm]),Kj={test:t=>t==="auto",parse:t=>t},uB=t=>e=>e.test(t),cB=[Bm,Xt,Xl,rf,H8,V8,Kj],fN=t=>cB.find(uB(t));function Zj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||NI(t):!0}const Qj=new Set(["brightness","contrast","saturate","opacity"]);function Jj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(b2)||[];if(!i)return t;const r=n.replace(i,"");let a=Qj.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+r+")"}const $j=/\b([a-z-]*)\(.*?\)/gu,nw={...mf,getAnimatableNone:t=>{const e=t.match($j);return e?e.map(Jj).join(" "):t}},hN={...Bm,transform:Math.round},ek={rotate:rf,rotateX:rf,rotateY:rf,rotateZ:rf,scale:Jx,scaleX:Jx,scaleY:Jx,scaleZ:Jx,skew:rf,skewX:rf,skewY:rf,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:l0,originX:$D,originY:$D,originZ:Xt},R2={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt,...ek,zIndex:hN,fillOpacity:l0,strokeOpacity:l0,numOctaves:hN},tk={...R2,color:Yi,backgroundColor:Yi,outlineColor:Yi,fill:Yi,stroke:Yi,borderColor:Yi,borderTopColor:Yi,borderRightColor:Yi,borderBottomColor:Yi,borderLeftColor:Yi,filter:nw,WebkitFilter:nw},fB=t=>tk[t];function hB(t,e){let n=fB(t);return n!==nw&&(n=mf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nk=new Set(["auto","none","0"]);function ik(t,e,n){let i=0,r;for(;i<t.length&&!r;){const a=t[i];typeof a=="string"&&!nk.has(a)&&u0(a).values.length&&(r=t[i]),i++}if(r&&n)for(const a of e)t[a]=hB(n,r)}class rk extends w2{constructor(e,n,i,r,a){super(e,n,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),x2(d))){const m=oB(d,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!lB.has(i)||e.length!==2)return;const[r,a]=e,o=fN(r),u=fN(a);if(o!==u)if(oN(o)&&oN(u))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else td[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||Zj(e[r]))&&i.push(r);i.length&&ik(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=td[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=td[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function ak(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const r=n?.[t]??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const dB=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pB(t){return DI(t)&&"offsetHeight"in t}const dN=30,sk=t=>!isNaN(parseFloat(t));class ok{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=ns.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ns.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sk(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new m2);const i=this.events[e].add(n);return e==="change"?()=>{i(),fi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ns.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dN)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dN);return OI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gm(t,e){return new ok(t,e)}const{schedule:D2}=kI(queueMicrotask,!1),Fo={x:!1,y:!1};function mB(){return Fo.x||Fo.y}function lk(t){return t==="x"||t==="y"?Fo[t]?null:(Fo[t]=!0,()=>{Fo[t]=!1}):Fo.x||Fo.y?null:(Fo.x=Fo.y=!0,()=>{Fo.x=Fo.y=!1})}function gB(t,e){const n=ak(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function pN(t){return!(t.pointerType==="touch"||mB())}function uk(t,e,n={}){const[i,r,a]=gB(t,n),o=u=>{if(!pN(u))return;const{target:f}=u,d=e(f,u);if(typeof d!="function"||!f)return;const m=g=>{pN(g)&&(d(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,r)};return i.forEach(u=>{u.addEventListener("pointerenter",o,r)}),a}const vB=(t,e)=>e?t===e?!0:vB(t,e.parentElement):!1,N2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ck=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fk(t){return ck.has(t.tagName)||t.tabIndex!==-1}const o_=new WeakSet;function mN(t){return e=>{e.key==="Enter"&&t(e)}}function iE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hk=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=mN(()=>{if(o_.has(n))return;iE(n,"down");const r=mN(()=>{iE(n,"up")}),a=()=>iE(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function gN(t){return N2(t)&&!mB()}function dk(t,e,n={}){const[i,r,a]=gB(t,n),o=u=>{const f=u.currentTarget;if(!gN(u))return;o_.add(f);const d=e(f,u),m=(b,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),o_.has(f)&&o_.delete(f),gN(b)&&typeof d=="function"&&d(b,{success:_})},g=b=>{m(b,f===window||f===document||n.useGlobalTarget||vB(f,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",y,r)};return i.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,r),pB(u)&&(u.addEventListener("focus",d=>hk(d,r)),!fk(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function yB(t){return DI(t)&&"ownerSVGElement"in t}function pk(t){return yB(t)&&t.tagName==="svg"}const ia=t=>!!(t&&t.getVelocity),mk=[...cB,Yi,mf],gk=t=>mk.find(uB(t)),O2=H.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class vk extends H.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=pB(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yk({children:t,isPresent:e,anchorX:n,root:i}){const r=H.useId(),a=H.useRef(null),o=H.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=H.useContext(O2);return H.useInsertionEffect(()=>{const{width:f,height:d,top:m,left:g,right:y}=o.current;if(e||!a.current||!f||!d)return;const b=n==="left"?`left: ${g}`:`right: ${y}`;a.current.dataset.motionPopId=r;const _=document.createElement("style");u&&(_.nonce=u);const A=i??document.head;return A.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{A.contains(_)&&A.removeChild(_)}},[e]),P.jsx(vk,{isPresent:e,childRef:a,sizeRef:o,children:H.cloneElement(t,{ref:a})})}const xk=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:o,anchorX:u,root:f})=>{const d=u2(bk),m=H.useId();let g=!0,y=H.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:r,onExitComplete:b=>{d.set(b,!0);for(const _ of d.values())if(!_)return;i&&i()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,i]);return a&&g&&(y={...y}),H.useMemo(()=>{d.forEach((b,_)=>d.set(_,!1))},[n]),H.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),o==="popLayout"&&(t=P.jsx(yk,{isPresent:n,anchorX:u,root:f,children:t})),P.jsx(jS.Provider,{value:y,children:t})};function bk(){return new Map}function xB(t=!0){const e=H.useContext(jS);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,a=H.useId();H.useEffect(()=>{if(t)return r(a)},[t]);const o=H.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,o]:[!0]}const $x=t=>t.key||"";function vN(t){const e=[];return H.Children.forEach(t,n=>{H.isValidElement(n)&&e.push(n)}),e}const kS=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1,anchorX:u="left",root:f})=>{const[d,m]=xB(o),g=H.useMemo(()=>vN(t),[t]),y=o&&!d?[]:g.map($x),b=H.useRef(!0),_=H.useRef(g),A=u2(()=>new Map),[T,M]=H.useState(g),[R,D]=H.useState(g);CI(()=>{b.current=!1,_.current=g;for(let L=0;L<R.length;L++){const V=$x(R[L]);y.includes(V)?A.delete(V):A.get(V)!==!0&&A.set(V,!1)}},[R,y.length,y.join("-")]);const N=[];if(g!==T){let L=[...g];for(let V=0;V<R.length;V++){const F=R[V],B=$x(F);y.includes(B)||(L.splice(V,0,F),N.push(F))}return a==="wait"&&N.length&&(L=N),D(vN(L)),M(g),null}const{forceRender:U}=H.useContext(l2);return P.jsx(P.Fragment,{children:R.map(L=>{const V=$x(L),F=o&&!d?!1:g===R||y.includes(V),B=()=>{if(A.has(V))A.set(V,!0);else return;let z=!0;A.forEach(G=>{G||(z=!1)}),z&&(U?.(),D(_.current),o&&m?.(),i&&i())};return P.jsx(xk,{isPresent:F,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:f,onExitComplete:F?void 0:B,anchorX:u,children:L},V)})})},bB=H.createContext({strict:!1}),yN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vm={};for(const t in yN)vm[t]={isEnabled:e=>yN[t].some(n=>!!e[n])};function _k(t){for(const e in t)vm[e]={...vm[e],...t[e]}}const Sk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Sk.has(t)}let _B=t=>!b_(t);function Mk(t){typeof t=="function"&&(_B=e=>e.startsWith("on")?!b_(e):t(e))}try{Mk(require("@emotion/is-prop-valid").default)}catch{}function Ek(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(_B(r)||n===!0&&b_(r)||!e&&!b_(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const GS=H.createContext({});function qS(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function c0(t){return typeof t=="string"||Array.isArray(t)}const P2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],U2=["initial",...P2];function XS(t){return qS(t.animate)||U2.some(e=>c0(t[e]))}function SB(t){return!!(XS(t)||t.variants)}function Tk(t,e){if(XS(t)){const{initial:n,animate:i}=t;return{initial:n===!1||c0(n)?n:void 0,animate:c0(i)?i:void 0}}return t.inherit!==!1?e:{}}function Ak(t){const{initial:e,animate:n}=Tk(t,H.useContext(GS));return H.useMemo(()=>({initial:e,animate:n}),[xN(e),xN(n)])}function xN(t){return Array.isArray(t)?t.join(" "):t}const f0={};function wk(t){for(const e in t)f0[e]=t[e],y2(e)&&(f0[e].isCSSVariable=!0)}function MB(t,{layout:e,layoutId:n}){return Vm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!f0[t]||t==="opacity")}const Ck={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Rk=zm.length;function Dk(t,e,n){let i="",r=!0;for(let a=0;a<Rk;a++){const o=zm[a],u=t[o];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(o.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const d=dB(u,R2[o]);if(!f){r=!1;const m=Ck[o]||o;i+=`${m}(${d}) `}n&&(e[o]=d)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function L2(t,e,n){const{style:i,vars:r,transformOrigin:a}=t;let o=!1,u=!1;for(const f in e){const d=e[f];if(Vm.has(f)){o=!0;continue}else if(y2(f)){r[f]=d;continue}else{const m=dB(d,R2[f]);f.startsWith("origin")?(u=!0,a[f]=m):i[f]=m}}if(e.transform||(o||n?i.transform=Dk(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:m=0}=a;i.transformOrigin=`${f} ${d} ${m}`}}const I2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EB(t,e,n){for(const i in e)!ia(e[i])&&!MB(i,n)&&(t[i]=e[i])}function Nk({transformTemplate:t},e){return H.useMemo(()=>{const n=I2();return L2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Ok(t,e){const n=t.style||{},i={};return EB(i,n,t),Object.assign(i,Nk(t,e)),i}function Pk(t,e){const n={},i=Ok(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Uk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ik(t,e,n=1,i=0,r=!0){t.pathLength=1;const a=r?Uk:Lk;t[a.offset]=Xt.transform(-i);const o=Xt.transform(e),u=Xt.transform(n);t[a.array]=`${o} ${u}`}function TB(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...u},f,d,m){if(L2(t,u,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),i!==void 0&&(g.scale=i),r!==void 0&&Ik(g,r,a,o,!1)}const AB=()=>({...I2(),attrs:{}}),wB=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Bk(t,e,n,i){const r=H.useMemo(()=>{const a=AB();return TB(a,e,wB(i),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};EB(a,t.style,t),r.style={...a,...r.style}}return r}const zk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function B2(t){return typeof t!="string"||t.includes("-")?!1:!!(zk.indexOf(t)>-1||/[A-Z]/u.test(t))}function Vk(t,e,n,{latestValues:i},r,a=!1){const u=(B2(t)?Bk:Pk)(e,i,r,t),f=Ek(e,typeof t=="string",a),d=t!==H.Fragment?{...f,...u,ref:n}:{},{children:m}=e,g=H.useMemo(()=>ia(m)?m.get():m,[m]);return H.createElement(t,{...d,children:g})}function bN(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function z2(t,e,n,i){if(typeof e=="function"){const[r,a]=bN(i);e=e(n!==void 0?n:t.custom,r,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,a]=bN(i);e=e(n!==void 0?n:t.custom,r,a)}return e}function l_(t){return ia(t)?t.get():t}function Hk({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:Fk(n,i,r,t),renderState:e()}}function Fk(t,e,n,i){const r={},a=i(t,{});for(const y in a)r[y]=l_(a[y]);let{initial:o,animate:u}=t;const f=XS(t),d=SB(t);e&&d&&!f&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const g=m?u:o;if(g&&typeof g!="boolean"&&!qS(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const _=z2(t,y[b]);if(_){const{transitionEnd:A,transition:T,...M}=_;for(const R in M){let D=M[R];if(Array.isArray(D)){const N=m?D.length-1:0;D=D[N]}D!==null&&(r[R]=D)}for(const R in A)r[R]=A[R]}}}return r}const CB=t=>(e,n)=>{const i=H.useContext(GS),r=H.useContext(jS),a=()=>Hk(t,e,i,r);return n?a():u2(a)};function V2(t,e,n){const{style:i}=t,r={};for(const a in i)(ia(i[a])||e.style&&ia(e.style[a])||MB(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const jk=CB({scrapeMotionValuesFromProps:V2,createRenderState:I2});function RB(t,e,n){const i=V2(t,e,n);for(const r in t)if(ia(t[r])||ia(e[r])){const a=zm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=t[r]}return i}const kk=CB({scrapeMotionValuesFromProps:RB,createRenderState:AB}),Gk=Symbol.for("motionComponentSymbol");function tm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qk(t,e,n){return H.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):tm(n)&&(n.current=i))},[e])}const H2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xk="framerAppearId",DB="data-"+H2(Xk),NB=H.createContext({});function Wk(t,e,n,i,r){const{visualElement:a}=H.useContext(GS),o=H.useContext(bB),u=H.useContext(jS),f=H.useContext(O2).reducedMotion,d=H.useRef(null);i=i||o.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=d.current,g=H.useContext(NB);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&Yk(d.current,n,r,g);const y=H.useRef(!1);H.useInsertionEffect(()=>{m&&y.current&&m.update(n,u)});const b=n[DB],_=H.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return CI(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),_.current&&m.animationState&&m.animationState.animateChanges())}),H.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),_.current=!1),m.enteringChildren=void 0)}),m}function Yk(t,e,n,i){const{layoutId:r,layout:a,drag:o,dragConstraints:u,layoutScroll:f,layoutRoot:d,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:OB(t.parent)),t.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||u&&tm(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:f,layoutRoot:d})}function OB(t){if(t)return t.options.allowProjection!==!1?t.projection:OB(t.parent)}function rE(t,{forwardMotionProps:e=!1}={},n,i){n&&_k(n);const r=B2(t)?kk:jk;function a(u,f){let d;const m={...H.useContext(O2),...u,layoutId:Kk(u)},{isStatic:g}=m,y=Ak(u),b=r(u,g);if(!g&&c2){Zk();const _=Qk(m);d=_.MeasureLayout,y.visualElement=Wk(t,b,m,i,_.ProjectionNode)}return P.jsxs(GS.Provider,{value:y,children:[d&&y.visualElement?P.jsx(d,{visualElement:y.visualElement,...m}):null,Vk(t,u,qk(b,y.visualElement,f),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=H.forwardRef(a);return o[Gk]=t,o}function Kk({layoutId:t}){const e=H.useContext(l2).id;return e&&t!==void 0?e+"-"+t:t}function Zk(t,e){H.useContext(bB).strict}function Qk(t){const{drag:e,layout:n}=vm;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Jk(t,e){if(typeof Proxy>"u")return rE;const n=new Map,i=(a,o)=>rE(a,o,t,e),r=(a,o)=>i(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?i:(n.has(o)||n.set(o,rE(o,void 0,t,e)),n.get(o))})}function PB({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function $k({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function aE(t){return t===void 0||t===1}function iw({scale:t,scaleX:e,scaleY:n}){return!aE(t)||!aE(e)||!aE(n)}function Fh(t){return iw(t)||UB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function UB(t){return _N(t.x)||_N(t.y)}function _N(t){return t&&t!=="0%"}function __(t,e,n){const i=t-n,r=e*i;return n+r}function SN(t,e,n,i,r){return r!==void 0&&(t=__(t,r,i)),__(t,n,i)+e}function rw(t,e=0,n=1,i,r){t.min=SN(t.min,e,n,i,r),t.max=SN(t.max,e,n,i,r)}function LB(t,{x:e,y:n}){rw(t.x,e.translate,e.scale,e.originPoint),rw(t.y,n.translate,n.scale,n.originPoint)}const MN=.999999999999,EN=1.0000000000001;function tG(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,o;for(let u=0;u<r;u++){a=n[u],o=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&im(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,LB(t,o)),i&&Fh(a.latestValues)&&im(t,a.latestValues))}e.x<EN&&e.x>MN&&(e.x=1),e.y<EN&&e.y>MN&&(e.y=1)}function nm(t,e){t.min=t.min+e,t.max=t.max+e}function TN(t,e,n,i,r=.5){const a=bi(t.min,t.max,r);rw(t,e,n,a,i)}function im(t,e){TN(t.x,e.x,e.scaleX,e.scale,e.originX),TN(t.y,e.y,e.scaleY,e.scale,e.originY)}function IB(t,e){return PB(eG(t.getBoundingClientRect(),e))}function nG(t,e,n){const i=IB(t,n),{scroll:r}=e;return r&&(nm(i.x,r.offset.x),nm(i.y,r.offset.y)),i}const AN=()=>({translate:0,scale:1,origin:0,originPoint:0}),rm=()=>({x:AN(),y:AN()}),wN=()=>({min:0,max:0}),Hi=()=>({x:wN(),y:wN()}),aw={current:null},BB={current:!1};function iG(){if(BB.current=!0,!!c2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aw.current=t.matches;t.addEventListener("change",e),e()}else aw.current=!1}const rG=new WeakMap;function aG(t,e,n){for(const i in e){const r=e[i],a=n[i];if(ia(r))t.addValue(i,r);else if(ia(a))t.addValue(i,gm(r,{owner:t}));else if(a!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,gm(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const CN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sG{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=w2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ns.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,fi.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=o;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=XS(n),this.isVariantNode=SB(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&ia(b)&&b.set(f[y])}}mount(e){this.current=e,rG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),BB.current||iG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pf(this.notifyUpdate),pf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Vm.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vm){const n=vm[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<CN.length;i++){const r=CN[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=e[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=aG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=gm(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RI(i)||NI(i))?i=parseFloat(i):!gk(i)&&mf.test(n)&&(i=hB(e,n)),this.setBaseTarget(e,ia(i)?i.get():i)),ia(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=z2(this.props,n,this.presenceContext?.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ia(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new m2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){D2.render(this.render)}}class zB extends sG{constructor(){super(...arguments),this.KeyframeResolver=rk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ia(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function VB(t,{style:e,vars:n},i,r){const a=t.style;let o;for(o in e)a[o]=e[o];r?.applyProjectionStyles(a,i);for(o in n)a.setProperty(o,n[o])}function oG(t){return window.getComputedStyle(t)}class lG extends zB{constructor(){super(...arguments),this.type="html",this.renderInstance=VB}readValueFromInstance(e,n){if(Vm.has(n))return this.projection?.isProjecting?ZA(n):Mj(e,n);{const i=oG(e),r=(y2(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return IB(e,n)}build(e,n,i){L2(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return V2(e,n,i)}}const HB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uG(t,e,n,i){VB(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(HB.has(r)?r:H2(r),e.attrs[r])}class cG extends zB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vm.has(n)){const i=fB(n);return i&&i.default||0}return n=HB.has(n)?n:H2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return RB(e,n,i)}build(e,n,i){TB(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){uG(e,n,i,r)}mount(e){this.isSVGTag=wB(e.tagName),super.mount(e)}}const fG=(t,e)=>B2(t)?new cG(e):new lG(e,{allowProjection:t!==H.Fragment});function hm(t,e,n){const i=t.getProps();return z2(i,e,n!==void 0?n:i.custom,t)}const sw=t=>Array.isArray(t);function hG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gm(n))}function dG(t){return sw(t)?t[t.length-1]||0:t}function pG(t,e){const n=hm(t,e);let{transitionEnd:i={},transition:r={},...a}=n||{};a={...a,...i};for(const o in a){const u=dG(a[o]);hG(t,o,u)}}function mG(t){return!!(ia(t)&&t.add)}function ow(t,e){const n=t.getValue("willChange");if(mG(n))return n.add(e);if(!n&&ju.WillChange){const i=new ju.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function FB(t){return t.props[DB]}const gG=t=>t!==null;function vG(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(gG),a=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[a]}const yG={type:"spring",stiffness:500,damping:25,restSpeed:10},xG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bG={type:"keyframes",duration:.8},_G={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SG=(t,{keyframes:e})=>e.length>2?bG:Vm.has(t)?t.startsWith("scale")?xG(e[1]):yG:_G;function MG({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:u,from:f,elapsed:d,...m}){return!!Object.keys(m).length}const F2=(t,e,n,i={},r,a)=>o=>{const u=C2(i,t)||{},f=u.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Gl(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:r};MG(u)||Object.assign(m,SG(t,m)),m.duration&&(m.duration=Gl(m.duration)),m.repeatDelay&&(m.repeatDelay=Gl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(tw(m),m.delay===0&&(g=!0)),(ju.instantAnimations||ju.skipAnimations)&&(g=!0,tw(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=vG(m.keyframes,u);if(y!==void 0){fi.update(()=>{m.onUpdate(y),m.onComplete()});return}}return u.isSync?new A2(m):new Xj(m)};function EG({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function jB(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...u}=e;i&&(a=i);const f=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const m in u){const g=t.getValue(m,t.latestValues[m]??null),y=u[m];if(y===void 0||d&&EG(d,m))continue;const b={delay:n,...C2(a||{},m)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===_&&!b.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const M=FB(t);if(M){const R=window.MotionHandoffAnimation(M,m,fi);R!==null&&(b.startTime=R,A=!0)}}ow(t,m),g.start(F2(m,g,y,t.shouldReduceMotion&&lB.has(m)?{type:!1}:b,t,A));const T=g.animation;T&&f.push(T)}return o&&Promise.all(f).then(()=>{fi.update(()=>{o&&pG(t,o)})}),f}function kB(t,e,n,i=0,r=1){const a=Array.from(t).sort((d,m)=>d.sortNodePosition(m)).indexOf(e),o=t.size,u=(o-1)*i;return typeof n=="function"?n(a,o):r===1?a*i:u-a*i}function lw(t,e,n={}){const i=hm(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const a=i?()=>Promise.all(jB(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:g}=r;return TG(t,e,f,d,m,g,n)}:()=>Promise.resolve(),{when:u}=r;if(u){const[f,d]=u==="beforeChildren"?[a,o]:[o,a];return f().then(()=>d())}else return Promise.all([a(),o(n.delay)])}function TG(t,e,n=0,i=0,r=0,a=1,o){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(lw(f,e,{...o,delay:n+(typeof i=="function"?0:i)+kB(t.variantChildren,f,i,r,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function AG(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>lw(t,a,n));i=Promise.all(r)}else if(typeof e=="string")i=lw(t,e,n);else{const r=typeof e=="function"?hm(t,e,n.custom):e;i=Promise.all(jB(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function GB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const wG=U2.length;function qB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?qB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wG;n++){const i=U2[n],r=t.props[i];(c0(r)||r===!1)&&(e[i]=r)}return e}const CG=[...P2].reverse(),RG=P2.length;function DG(t){return e=>Promise.all(e.map(({animation:n,options:i})=>AG(t,n,i)))}function NG(t){let e=DG(t),n=RN(),i=!0;const r=f=>(d,m)=>{const g=hm(t,m,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,..._}=g;d={...d,..._,...b}}return d};function a(f){e=f(t)}function o(f){const{props:d}=t,m=qB(t.parent)||{},g=[],y=new Set;let b={},_=1/0;for(let T=0;T<RG;T++){const M=CG[T],R=n[M],D=d[M]!==void 0?d[M]:m[M],N=c0(D),U=M===f?R.isActive:null;U===!1&&(_=T);let L=D===m[M]&&D!==d[M]&&N;if(L&&i&&t.manuallyAnimateOnMount&&(L=!1),R.protectedKeys={...b},!R.isActive&&U===null||!D&&!R.prevProp||qS(D)||typeof D=="boolean")continue;const V=OG(R.prevProp,D);let F=V||M===f&&R.isActive&&!L&&N||T>_&&N,B=!1;const z=Array.isArray(D)?D:[D];let G=z.reduce(r(M),{});U===!1&&(G={});const{prevResolvedValues:ee={}}=R,ie={...ee,...G},pe=Q=>{F=!0,y.has(Q)&&(B=!0,y.delete(Q)),R.needsAnimating[Q]=!0;const $=t.getValue(Q);$&&($.liveStyle=!1)};for(const Q in ie){const $=G[Q],me=ee[Q];if(b.hasOwnProperty(Q))continue;let Y=!1;sw($)&&sw(me)?Y=!GB($,me):Y=$!==me,Y?$!=null?pe(Q):y.add(Q):$!==void 0&&y.has(Q)?pe(Q):R.protectedKeys[Q]=!0}R.prevProp=D,R.prevResolvedValues=G,R.isActive&&(b={...b,...G}),i&&t.blockInitialAnimation&&(F=!1);const ue=L&&V;F&&(!ue||B)&&g.push(...z.map(Q=>{const $={type:M};if(typeof Q=="string"&&i&&!ue&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,Y=hm(me,Q);if(me.enteringChildren&&Y){const{delayChildren:re}=Y.transition||{};$.delay=kB(me.enteringChildren,t,re)}}return{animation:Q,options:$}}))}if(y.size){const T={};if(typeof d.initial!="boolean"){const M=hm(t,Array.isArray(d.initial)?d.initial[0]:d.initial);M&&M.transition&&(T.transition=M.transition)}y.forEach(M=>{const R=t.getBaseTarget(M),D=t.getValue(M);D&&(D.liveStyle=!0),T[M]=R??null}),g.push({animation:T})}let A=!!g.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(g):Promise.resolve()}function u(f,d){if(n[f].isActive===d)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,d)),n[f].isActive=d;const m=o(f);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=RN(),i=!0}}}function OG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GB(e,t):!1}function Eh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RN(){return{animate:Eh(!0),whileInView:Eh(),whileHover:Eh(),whileTap:Eh(),whileDrag:Eh(),whileFocus:Eh(),exit:Eh()}}class bf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PG extends bf{constructor(e){super(e),e.animationState||(e.animationState=NG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UG=0;class LG extends bf{constructor(){super(...arguments),this.id=UG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const IG={animation:{Feature:PG},exit:{Feature:LG}};function h0(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function X0(t){return{point:{x:t.pageX,y:t.pageY}}}const BG=t=>e=>N2(e)&&t(e,X0(e));function Wv(t,e,n,i){return h0(t,e,BG(n),i)}const XB=1e-4,zG=1-XB,VG=1+XB,WB=.01,HG=0-WB,FG=0+WB;function Da(t){return t.max-t.min}function jG(t,e,n){return Math.abs(t-e)<=n}function DN(t,e,n,i=.5){t.origin=i,t.originPoint=bi(e.min,e.max,t.origin),t.scale=Da(n)/Da(e),t.translate=bi(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zG&&t.scale<=VG||isNaN(t.scale))&&(t.scale=1),(t.translate>=HG&&t.translate<=FG||isNaN(t.translate))&&(t.translate=0)}function Yv(t,e,n,i){DN(t.x,e.x,n.x,i?i.originX:void 0),DN(t.y,e.y,n.y,i?i.originY:void 0)}function NN(t,e,n){t.min=n.min+e.min,t.max=t.min+Da(e)}function kG(t,e,n){NN(t.x,e.x,n.x),NN(t.y,e.y,n.y)}function ON(t,e,n){t.min=e.min-n.min,t.max=t.min+Da(e)}function Kv(t,e,n){ON(t.x,e.x,n.x),ON(t.y,e.y,n.y)}function no(t){return[t("x"),t("y")]}const YB=({current:t})=>t?t.ownerDocument.defaultView:null,PN=(t,e)=>Math.abs(t-e);function GG(t,e){const n=PN(t.x,e.x),i=PN(t.y,e.y);return Math.sqrt(n**2+i**2)}class KB{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=oE(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=GG(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!_)return;const{point:A}=y,{timestamp:T}=Lr;this.history.push({...A,timestamp:T});const{onStart:M,onMove:R}=this.handlers;b||(M&&M(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=sE(b,this.transformPagePoint),fi.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:_,onSessionEnd:A,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=oE(y.type==="pointercancel"?this.lastMoveEventInfo:sE(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,M),A&&A(y,M)},!N2(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const u=X0(e),f=sE(u,this.transformPagePoint),{point:d}=f,{timestamp:m}=Lr;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,oE(f,this.history)),this.removeListeners=k0(Wv(this.contextWindow,"pointermove",this.handlePointerMove),Wv(this.contextWindow,"pointerup",this.handlePointerUp),Wv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pf(this.updatePoint)}}function sE(t,e){return e?{point:e(t.point)}:t}function UN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function oE({point:t},e){return{point:t,delta:UN(t,ZB(e)),offset:UN(t,qG(e)),velocity:XG(e,.1)}}function qG(t){return t[0]}function ZB(t){return t[t.length-1]}function XG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=ZB(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Gl(e)));)n--;if(!i)return{x:0,y:0};const a=ql(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function WG(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?bi(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?bi(n,t,i.max):Math.min(t,n)),t}function LN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YG(t,{top:e,left:n,bottom:i,right:r}){return{x:LN(t.x,n,r),y:LN(t.y,e,i)}}function IN(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function KG(t,e){return{x:IN(t.x,e.x),y:IN(t.y,e.y)}}function ZG(t,e){let n=.5;const i=Da(t),r=Da(e);return r>i?n=o0(e.min,e.max-i,t.min):i>r&&(n=o0(t.min,t.max-r,e.min)),Fu(0,1,n)}function QG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uw=.35;function JG(t=uw){return t===!1?t=0:t===!0&&(t=uw),{x:BN(t,"left","right"),y:BN(t,"top","bottom")}}function BN(t,e,n){return{min:zN(t,e),max:zN(t,n)}}function zN(t,e){return typeof t=="number"?t:t[e]||0}const $G=new WeakMap;class e9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(X0(g).point)},o=(g,y)=>{const{drag:b,dragPropagation:_,onDragStart:A}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lk(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),no(M=>{let R=this.getAxisMotionValue(M).get()||0;if(Xl.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const N=D.layout.layoutBox[M];N&&(R=Da(N)*(parseFloat(R)/100))}}this.originPoint[M]=R}),A&&fi.postRender(()=>A(g,y)),ow(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:A,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:M}=y;if(_&&this.currentDirection===null){this.currentDirection=t9(M),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,M),this.updateAxis("y",y.point,M),this.visualElement.render(),T&&T(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>no(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new KB(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:YB(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&fi.postRender(()=>u(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!eb(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=WG(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&tm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=YG(i.layoutBox,e):this.constraints=!1,this.elastic=JG(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&no(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=QG(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tm(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=nG(i,r.root,this.visualElement.getTransformPagePoint());let o=KG(r.layout.layoutBox,a);if(n){const u=n($k(o));this.hasMutatedConstraints=!!u,u&&(o=PB(u))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},d=no(m=>{if(!eb(m,n,this.currentDirection))return;let g=f&&f[m]||{};o&&(g={min:0,max:0});const y=r?200:1e6,b=r?40:1e7,_={type:"inertia",velocity:i?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,_)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ow(this.visualElement,e),i.start(F2(e,i,0,n,this.visualElement,!1))}stopAnimation(){no(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){no(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){no(n=>{const{drag:i}=this.getProps();if(!eb(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:u}=r.layout.layoutBox[n];a.set(e[n]-bi(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!tm(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};no(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const f=u.get();r[o]=ZG({min:f,max:f},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),no(o=>{if(!eb(o,e,null))return;const u=this.getAxisMotionValue(o),{min:f,max:d}=this.constraints[o];u.set(bi(f,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;$G.set(this.visualElement,this);const e=this.visualElement.current,n=Wv(e,"pointerdown",f=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();tm(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),fi.read(i);const o=h0(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(no(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=uw,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:u}}}function eb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function t9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class n9 extends bf{constructor(e){super(e),this.removeGroupControls=so,this.removeListeners=so,this.controls=new e9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||so}unmount(){this.removeGroupControls(),this.removeListeners()}}const VN=t=>(e,n)=>{t&&fi.postRender(()=>t(e,n))};class i9 extends bf{constructor(){super(...arguments),this.removePointerDownListener=so}onPointerDown(e){this.session=new KB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:VN(e),onStart:VN(n),onMove:i,onEnd:(a,o)=>{delete this.session,r&&fi.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=Wv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const u_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _v={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const n=HN(t,e.target.x),i=HN(t,e.target.y);return`${n}% ${i}%`}},r9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=mf.parse(t);if(r.length>5)return i;const a=mf.createTransformer(t),o=typeof r[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;r[0+o]/=u,r[1+o]/=f;const d=bi(u,f,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}};let lE=!1;class a9 extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;wk(s9),a&&(n.group&&n.group.add(a),i&&i.register&&r&&i.register(a),lE&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),u_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:a}=this.props,{projection:o}=i;return o&&(o.isPresent=a,lE=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||fi.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),D2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;lE=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QB(t){const[e,n]=xB(),i=H.useContext(l2);return P.jsx(a9,{...t,layoutGroup:i,switchLayoutGroup:H.useContext(NB),isPresent:e,safeToRemove:n})}const s9={borderRadius:{..._v,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_v,borderTopRightRadius:_v,borderBottomLeftRadius:_v,borderBottomRightRadius:_v,boxShadow:r9};function o9(t,e,n){const i=ia(t)?t:gm(t);return i.start(F2("",i,e,n)),i.animation}const l9=(t,e)=>t.depth-e.depth;class u9{constructor(){this.children=[],this.isDirty=!1}add(e){f2(this.children,e),this.isDirty=!0}remove(e){h2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(l9),this.isDirty=!1,this.children.forEach(e)}}function c9(t,e){const n=ns.now(),i=({timestamp:r})=>{const a=r-n;a>=e&&(pf(i),t(a-e))};return fi.setup(i,!0),()=>pf(i)}const JB=["TopLeft","TopRight","BottomLeft","BottomRight"],f9=JB.length,FN=t=>typeof t=="string"?parseFloat(t):t,jN=t=>typeof t=="number"||Xt.test(t);function h9(t,e,n,i,r,a){r?(t.opacity=bi(0,n.opacity??1,d9(i)),t.opacityExit=bi(e.opacity??1,0,p9(i))):a&&(t.opacity=bi(e.opacity??1,n.opacity??1,i));for(let o=0;o<f9;o++){const u=`border${JB[o]}Radius`;let f=kN(e,u),d=kN(n,u);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||jN(f)===jN(d)?(t[u]=Math.max(bi(FN(f),FN(d),i),0),(Xl.test(d)||Xl.test(f))&&(t[u]+="%")):t[u]=d}(e.rotate||n.rotate)&&(t.rotate=bi(e.rotate||0,n.rotate||0,i))}function kN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const d9=$B(0,.5,VI),p9=$B(.5,.95,so);function $B(t,e,n){return i=>i<t?0:i>e?1:n(o0(t,e,i))}function GN(t,e){t.min=e.min,t.max=e.max}function Js(t,e){GN(t.x,e.x),GN(t.y,e.y)}function qN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function XN(t,e,n,i,r){return t-=e,t=__(t,1/n,i),r!==void 0&&(t=__(t,1/r,i)),t}function m9(t,e=0,n=1,i=.5,r,a=t,o=t){if(Xl.test(e)&&(e=parseFloat(e),e=bi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=bi(a.min,a.max,i);t===a&&(u-=e),t.min=XN(t.min,e,n,u,r),t.max=XN(t.max,e,n,u,r)}function WN(t,e,[n,i,r],a,o){m9(t,e[n],e[i],e[r],e.scale,a,o)}const g9=["x","scaleX","originX"],v9=["y","scaleY","originY"];function YN(t,e,n,i){WN(t.x,e,g9,n?n.x:void 0,i?i.x:void 0),WN(t.y,e,v9,n?n.y:void 0,i?i.y:void 0)}function KN(t){return t.translate===0&&t.scale===1}function ez(t){return KN(t.x)&&KN(t.y)}function ZN(t,e){return t.min===e.min&&t.max===e.max}function y9(t,e){return ZN(t.x,e.x)&&ZN(t.y,e.y)}function QN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tz(t,e){return QN(t.x,e.x)&&QN(t.y,e.y)}function JN(t){return Da(t.x)/Da(t.y)}function $N(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class x9{constructor(){this.members=[]}add(e){f2(this.members,e),e.scheduleRender()}remove(e){if(h2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b9(t,e,n){let i="";const r=t.x.translate/e.x,a=t.y.translate/e.y,o=n?.z||0;if((r||a||o)&&(i=`translate3d(${r}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:_}=n;d&&(i=`perspective(${d}px) ${i}`),m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),b&&(i+=`skewX(${b}deg) `),_&&(i+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(i+=`scale(${u}, ${f})`),i||"none"}const uE=["","X","Y","Z"],_9=1e3;let S9=0;function cE(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function nz(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fi,!(r||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&nz(i)}function iz({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},u=e?.()){this.id=S9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(T9),this.nodes.forEach(R9),this.nodes.forEach(D9),this.nodes.forEach(A9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new u9)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new m2),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const f=this.eventHandlers.get(o);f&&f.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=yB(o)&&!pk(o),this.instance=o;const{layoutId:u,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;fi.read(()=>{g=window.innerWidth}),t(o,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=c9(y,250),u_.hasAnimatedSinceResize&&(u_.hasAnimatedSinceResize=!1,this.nodes.forEach(n3)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||L9,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=d.getProps(),M=!this.targetLayout||!tz(this.targetLayout,b),R=!g&&y;if(this.options.layoutRoot||this.resumeFrom||R||g&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...C2(_,"layout"),onPlay:A,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,R)}else g||n3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(C9),this.nodes.forEach(M9),this.nodes.forEach(E9)):this.nodes.forEach(t3),this.clearAllSnapshots();const u=ns.now();Lr.delta=Fu(0,1e3/60,u-Lr.timestamp),Lr.timestamp=u,Lr.isProcessing=!0,JM.update.process(Lr),JM.preRender.process(Lr),JM.render.process(Lr),Lr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,D2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w9),this.sharedNodes.forEach(O9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Da(this.snapshot.measuredBox.x)&&!Da(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!ez(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(u||Fh(this.latestValues)||m)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return o&&(f=this.removeTransform(f)),I9(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Hi();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B9))){const{scroll:d}=this.root;d&&(nm(u.x,d.offset.x),nm(u.y,d.offset.y))}return u}removeElementScroll(o){const u=Hi();if(Js(u,o),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Js(u,o),nm(u.x,m.offset.x),nm(u.y,m.offset.y))}return u}applyTransform(o,u=!1){const f=Hi();Js(f,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&im(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Fh(m.latestValues)&&im(f,m.latestValues)}return Fh(this.latestValues)&&im(f,this.latestValues),f}removeTransform(o){const u=Hi();Js(u,o);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Fh(d.latestValues))continue;iw(d.latestValues)&&d.updateSnapshot();const m=Hi(),g=d.measurePageBox();Js(m,g),YN(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Fh(this.latestValues)&&YN(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Lr.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),Kv(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hi(),this.targetWithTransforms=Hi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Js(this.target,this.layout.layoutBox),LB(this.target,this.targetDelta)):Js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hi(),this.relativeTargetOrigin=Hi(),Kv(this.relativeTargetOrigin,this.target,y.target),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||iw(this.parent.latestValues)||UB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Lr.timestamp&&(f=!1),f)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Js(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;tG(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Hi());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qN(this.prevProjectionDelta.x,this.projectionDelta.x),qN(this.prevProjectionDelta.y,this.projectionDelta.y)),Yv(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!$N(this.projectionDelta.x,this.prevProjectionDelta.x)||!$N(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rm(),this.projectionDelta=rm(),this.projectionDeltaWithTransform=rm()}setAnimationOrigin(o,u=!1){const f=this.snapshot,d=f?f.latestValues:{},m={...this.latestValues},g=rm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Hi(),b=f?f.source:void 0,_=this.layout?this.layout.source:void 0,A=b!==_,T=this.getStack(),M=!T||T.members.length<=1,R=!!(A&&!M&&this.options.crossfade===!0&&!this.path.some(U9));this.animationProgress=0;let D;this.mixTargetDelta=N=>{const U=N/1e3;i3(g.x,o.x,U),i3(g.y,o.y,U),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kv(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P9(this.relativeTarget,this.relativeTargetOrigin,y,U),D&&y9(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Hi()),Js(D,this.relativeTarget)),A&&(this.animationValues=m,h9(m,d,this.latestValues,U,R,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(pf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fi.update(()=>{u_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gm(0)),this.currentAnimation=o9(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:f,layout:d,latestValues:m}=o;if(!(!u||!f||!d)){if(this!==o&&this.layout&&d&&rz(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Hi();const g=Da(this.layout.layoutBox.x);f.x.min=o.target.x.min,f.x.max=f.x.min+g;const y=Da(this.layout.layoutBox.y);f.y.min=o.target.y.min,f.y.max=f.y.min+y}Js(u,f),im(u,m),Yv(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new x9),this.sharedNodes.get(o).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:f}=o;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const d={};f.z&&cE("z",o,d,this.animationValues);for(let m=0;m<uE.length;m++)cE(`rotate${uE[m]}`,o,d,this.animationValues),cE(`skew${uE[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=l_(u?.pointerEvents)||"",o.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=l_(u?.pointerEvents)||""),this.hasProjected&&!Fh(this.latestValues)&&(o.transform=f?f({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=b9(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),o.transform=g;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in f0){if(m[_]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:M}=f0[_],R=g==="none"?m[_]:A(m[_],d);if(T){const D=T.length;for(let N=0;N<D;N++)o[T[N]]=R}else M?this.options.visualElement.renderState.vars[_]=R:o[_]=R}this.options.layoutId&&(o.pointerEvents=d===this?l_(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(e3),this.root.sharedNodes.clear()}}}function M9(t){t.updateLayout()}function E9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:r}=t.options,a=e.source!==t.layout.source;r==="size"?no(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=Da(g);g.min=n[m].min,g.max=g.min+y}):rz(r,e.layoutBox,n)&&no(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],y=Da(n[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const o=rm();Yv(o,n,e.layoutBox);const u=rm();a?Yv(u,t.applyTransform(i,!0),e.measuredBox):Yv(u,n,e.layoutBox);const f=!ez(o);let d=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=Hi();Kv(b,e.layoutBox,g.layoutBox);const _=Hi();Kv(_,n,y.layoutBox),tz(b,_)||(d=!0),m.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=b,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function T9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function A9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function w9(t){t.clearSnapshot()}function e3(t){t.clearMeasurements()}function t3(t){t.isLayoutDirty=!1}function C9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function R9(t){t.resolveTargetDelta()}function D9(t){t.calcProjection()}function N9(t){t.resetSkewAndRotation()}function O9(t){t.removeLeadSnapshot()}function i3(t,e,n){t.translate=bi(e.translate,0,n),t.scale=bi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function r3(t,e,n,i){t.min=bi(e.min,n.min,i),t.max=bi(e.max,n.max,i)}function P9(t,e,n,i){r3(t.x,e.x,n.x,i),r3(t.y,e.y,n.y,i)}function U9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const L9={duration:.45,ease:[.4,0,.1,1]},a3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),s3=a3("applewebkit/")&&!a3("chrome/")?Math.round:so;function o3(t){t.min=s3(t.min),t.max=s3(t.max)}function I9(t){o3(t.x),o3(t.y)}function rz(t,e,n){return t==="position"||t==="preserve-aspect"&&!jG(JN(e),JN(n),.2)}function B9(t){return t!==t.root&&t.scroll?.wasRoot}const z9=iz({attachResizeListener:(t,e)=>h0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fE={current:void 0},az=iz({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fE.current){const t=new z9({});t.mount(window),t.setOptions({layoutScroll:!0}),fE.current=t}return fE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),V9={pan:{Feature:i9},drag:{Feature:n9,ProjectionNode:az,MeasureLayout:QB}};function l3(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=i[r];a&&fi.postRender(()=>a(e,X0(e)))}class H9 extends bf{mount(){const{current:e}=this.node;e&&(this.unmount=uk(e,(n,i)=>(l3(this.node,i,"Start"),r=>l3(this.node,r,"End"))))}unmount(){}}class F9 extends bf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=k0(h0(this.node.current,"focus",()=>this.onFocus()),h0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u3(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=i[r];a&&fi.postRender(()=>a(e,X0(e)))}class j9 extends bf{mount(){const{current:e}=this.node;e&&(this.unmount=dk(e,(n,i)=>(u3(this.node,i,"Start"),(r,{success:a})=>u3(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cw=new WeakMap,hE=new WeakMap,k9=t=>{const e=cw.get(t.target);e&&e(t)},G9=t=>{t.forEach(k9)};function q9({root:t,...e}){const n=t||document;hE.has(n)||hE.set(n,{});const i=hE.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(G9,{root:t,...e})),i[r]}function X9(t,e,n){const i=q9(e);return cw.set(t,n),i.observe(t),()=>{cw.delete(t),i.unobserve(t)}}const W9={some:0,all:1};class Y9 extends bf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:a}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:W9[r]},u=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=d?m:g;y&&y(f)};return X9(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(K9(e,n))&&this.startObserver()}unmount(){}}function K9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Z9={inView:{Feature:Y9},tap:{Feature:j9},focus:{Feature:F9},hover:{Feature:H9}},Q9={layout:{ProjectionNode:az,MeasureLayout:QB}},J9={...IG,...Z9,...V9,...Q9},dt=Jk(J9,fG);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),c3=t=>{const e=e7(t);return e.charAt(0).toUpperCase()+e.slice(1)},sz=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),t7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=H.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:o,...u},f)=>H.createElement("svg",{ref:f,...n7,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:sz("lucide",r),...!a&&!t7(u)&&{"aria-hidden":"true"},...u},[...o.map(([d,m])=>H.createElement(d,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=(t,e)=>{const n=H.forwardRef(({className:i,...r},a)=>H.createElement(i7,{ref:a,iconNode:e,className:sz(`lucide-${$9(c3(t))}`,`lucide-${t}`,i),...r}));return n.displayName=c3(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],j2=di("award",r7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fw=di("briefcase",a7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],o7=di("calendar",s7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u7=di("chevron-down",l7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],f7=di("chevron-right",c7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],d7=di("circle-check-big",h7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],m7=di("code",p7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],f3=di("database",g7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],y7=di("download",v7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],WS=di("external-link",x7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],W0=di("github",b7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],k2=di("graduation-cap",_7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],hw=di("heart",S7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],E7=di("languages",M7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],oz=di("linkedin",T7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],YS=di("mail",A7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],KS=di("map-pin",w7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],R7=di("menu",C7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lz=di("phone",D7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],O7=di("send",N7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uz=di("star",P7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],L7=di("test-tube",U7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],B7=di("trophy",I7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cz=di("x",z7),V7={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},Go={hidden:{opacity:0,y:60},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.6,-.05,.01,.99]}}},H7={hidden:{opacity:0,x:-60},visible:{opacity:1,x:0,transition:{duration:.6,ease:[.6,-.05,.01,.99]}}},F7={hidden:{opacity:0,x:60},visible:{opacity:1,x:0,transition:{duration:.6,ease:[.6,-.05,.01,.99]}}},gf={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}}},j7={animate:{y:[-10,10,-10],transition:{duration:4,repeat:1/0,ease:"easeInOut"}}},Y0={hover:{y:-8,scale:1.02,transition:{duration:.3,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},k7={hover:{scale:1.05,boxShadow:"0 10px 30px rgba(14, 165, 233, 0.3)",transition:{duration:.2}},tap:{scale:.95}},G7={hidden:{y:-100,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:"easeOut"}}},q7={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},X7={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.4,ease:"easeOut"}}},W7={hidden:{opacity:0,scale:.8,y:50},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.2}}},$u=()=>{const[t,e]=H.useState(!1);return H.useEffect(()=>{const n=window.matchMedia("(prefers-reduced-motion: reduce)");e(n.matches);const i=r=>{e(r.matches)};return n.addEventListener("change",i),()=>{n.removeEventListener("change",i)}},[]),t},Rs=({children:t,variant:e="primary",size:n="md",className:i="",onClick:r,disabled:a=!1,type:o="button"})=>{const u=$u(),f="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 disabled:pointer-events-none disabled:opacity-50",d={primary:"bg-gradient-to-r from-primary-500 to-primary-600 text-white hover:from-primary-600 hover:to-primary-700",secondary:"bg-dark-800 text-white border border-dark-600 hover:bg-dark-700",ghost:"text-primary-400 hover:text-primary-300 hover:bg-primary-500/10"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},g=`${f} ${d[e]} ${m[n]} ${i}`;return u?P.jsx("button",{className:g,onClick:r,disabled:a,type:o,children:t}):P.jsx(dt.button,{className:g,variants:k7,whileHover:"hover",whileTap:"tap",onClick:r,disabled:a,type:o,children:t})},dE=[{name:"Home",href:"#home"},{name:"About",href:"#about"},{name:"Skills",href:"#skills"},{name:"Projects",href:"#projects"},{name:"Experience",href:"#experience"},{name:"Achievements",href:"#achievements"},{name:"Contact",href:"#contact"}],pE=[{name:"GitHub",href:"https://github.com/paulkamani9",icon:W0},{name:"Email",href:"mailto:paulkamani9@gmail.com",icon:YS},{name:"LinkedIn",href:"https://www.linkedin.com/in/kamani-paul-only1",icon:oz}],Y7=()=>{const[t,e]=H.useState(!1),[n,i]=H.useState(!1),r=$u();H.useEffect(()=>{const f=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const a=f=>{i(!1);const d=document.querySelector(f);d&&d.scrollIntoView({behavior:"smooth"})},o=`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-dark-900/90 backdrop-blur-md border-b border-dark-800":"bg-transparent"}`,u=()=>P.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:P.jsxs("div",{className:"flex items-center justify-between h-16",children:[P.jsx(dt.div,{className:"flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:P.jsx("a",{href:"#home",className:"text-2xl font-bold text-gradient cursor-pointer",onClick:f=>{f.preventDefault(),a("#home")},children:"Paul Kamani"})}),P.jsx("div",{className:"hidden md:flex items-center space-x-8",children:dE.map(f=>P.jsxs("a",{href:f.href,onClick:d=>{d.preventDefault(),a(f.href)},className:"text-gray-300 hover:text-white transition-colors duration-200 relative group cursor-pointer",children:[f.name,P.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-primary-400 to-primary-600 transition-all duration-300 group-hover:w-full"})]},f.name))}),P.jsx("div",{className:"hidden md:flex items-center space-x-4",children:pE.map(f=>{const d=f.icon;return P.jsxs(dt.a,{href:f.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary-400 transition-colors duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},children:[P.jsx(d,{className:"w-5 h-5"}),P.jsx("span",{className:"sr-only",children:f.name})]},f.name)})}),P.jsx("div",{className:"md:hidden",children:P.jsx(Rs,{variant:"ghost",size:"sm",onClick:()=>i(!n),className:"p-2",children:n?P.jsx(cz,{className:"w-6 h-6"}):P.jsx(R7,{className:"w-6 h-6"})})})]})});return r?P.jsxs(P.Fragment,{children:[P.jsx("header",{className:o,children:P.jsx(u,{})}),n&&P.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[P.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>i(!1)}),P.jsx("div",{className:"fixed right-0 top-0 h-full w-64 bg-dark-900 border-l border-dark-800 p-6",children:P.jsxs("div",{className:"flex flex-col space-y-6 mt-16",children:[dE.map(f=>P.jsx("a",{href:f.href,onClick:d=>{d.preventDefault(),a(f.href)},className:"text-gray-300 hover:text-white transition-colors duration-200 text-lg cursor-pointer",children:f.name},f.name)),P.jsx("div",{className:"flex space-x-4 pt-6 border-t border-dark-800",children:pE.map(f=>{const d=f.icon;return P.jsxs("a",{href:f.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary-400 transition-colors duration-200",children:[P.jsx(d,{className:"w-5 h-5"}),P.jsx("span",{className:"sr-only",children:f.name})]},f.name)})})]})})]})]}):P.jsxs(P.Fragment,{children:[P.jsx(dt.header,{className:o,variants:G7,initial:"hidden",animate:"visible",children:P.jsx(u,{})}),P.jsx(kS,{children:n&&P.jsxs(dt.div,{className:"fixed inset-0 z-40 md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[P.jsx(dt.div,{className:"fixed inset-0 bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)}),P.jsx(dt.div,{className:"fixed right-0 top-0 h-full w-64 bg-dark-900 border-l border-dark-800 p-6",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},children:P.jsxs("div",{className:"flex flex-col space-y-6 mt-16",children:[dE.map((f,d)=>P.jsx(dt.a,{href:f.href,onClick:m=>{m.preventDefault(),a(f.href)},className:"text-gray-300 hover:text-white transition-colors duration-200 text-lg cursor-pointer",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:d*.1},children:f.name},f.name)),P.jsx(dt.div,{className:"flex space-x-4 pt-6 border-t border-dark-800",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:pE.map(f=>{const d=f.icon;return P.jsxs(dt.a,{href:f.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary-400 transition-colors duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},children:[P.jsx(d,{className:"w-5 h-5"}),P.jsx("span",{className:"sr-only",children:f.name})]},f.name)})})]})})]})})]})},K7=[{name:"GitHub",href:"https://github.com/paulkamani9",icon:W0},{name:"Email",href:"mailto:paulkamani9@gmail.com",icon:YS}],Z7=[{icon:KS,text:"Flic en Flac, Mauritius"},{icon:lz,text:"+230 57475246"},{icon:YS,text:"paulkamani9@gmail.com"}],Q7=()=>{const t=$u(),e=new Date().getFullYear(),n=()=>P.jsx("footer",{className:"bg-dark-900 border-t border-dark-800",children:P.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[P.jsxs("div",{className:"space-y-4",children:[P.jsx("h3",{className:"text-2xl font-bold text-gradient",children:"Paul Kamani"}),P.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Enthusiastic Computer Science student passionate about full-stack web development and creating innovative solutions that make a difference."}),P.jsx("div",{className:"flex space-x-4",children:K7.map(i=>{const r=i.icon;return P.jsxs(dt.a,{href:i.href,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-primary-400 transition-colors duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},children:[P.jsx(r,{className:"w-5 h-5"}),P.jsx("span",{className:"sr-only",children:i.name})]},i.name)})})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("h4",{className:"text-lg font-semibold text-white",children:"Quick Links"}),P.jsx("nav",{className:"flex flex-col space-y-2",children:["About","Skills","Projects","Experience","Contact"].map(i=>P.jsx("a",{href:`#${i.toLowerCase()}`,className:"text-gray-400 hover:text-white transition-colors duration-200 text-sm",onClick:r=>{r.preventDefault();const a=document.querySelector(`#${i.toLowerCase()}`);a&&a.scrollIntoView({behavior:"smooth"})},children:i},i))})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("h4",{className:"text-lg font-semibold text-white",children:"Get In Touch"}),P.jsx("div",{className:"space-y-3",children:Z7.map((i,r)=>{const a=i.icon;return P.jsxs("div",{className:"flex items-center space-x-3",children:[P.jsx(a,{className:"w-4 h-4 text-primary-400 flex-shrink-0"}),P.jsx("span",{className:"text-gray-400 text-sm",children:i.text})]},r)})})]})]}),P.jsx("div",{className:"mt-8 pt-8 border-t border-dark-800",children:P.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[P.jsxs("p",{className:"text-gray-400 text-sm flex items-center space-x-1",children:[P.jsxs("span",{children:["© ",e," Paul Kamani. Made with"]}),P.jsx(hw,{className:"w-4 h-4 text-red-500",fill:"currentColor"}),P.jsx("span",{children:"and lots of coffee ☕"})]}),P.jsx("p",{className:"text-gray-500 text-xs",children:"Built with React, TypeScript, Framer Motion & Tailwind CSS"})]})})]})});return t?P.jsx(n,{}):P.jsx(dt.div,{variants:Go,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},children:P.jsx(n,{})})},J7=({children:t})=>P.jsxs("div",{className:"min-h-screen bg-dark-900 text-white",children:[P.jsx(Y7,{}),P.jsx("main",{className:"relative",children:t}),P.jsx(Q7,{})]});var mE={exports:{}},Tu={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3;function $7(){return h3||(h3=1,Tu.ConcurrentRoot=1,Tu.ContinuousEventPriority=8,Tu.DefaultEventPriority=32,Tu.DiscreteEventPriority=2,Tu.IdleEventPriority=268435456,Tu.LegacyRoot=0,Tu.NoEventPriority=0),Tu}var d3;function eq(){return d3||(d3=1,mE.exports=$7()),mE.exports}var c_=eq();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const K0="180",tq={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},nq={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},fz=0,dw=1,hz=2,iq=3,dz=0,ZS=1,Zv=2,jo=3,ku=0,Oa=1,Bl=2,Bu=0,id=1,pw=2,mw=3,gw=4,pz=5,lf=100,mz=101,gz=102,vz=103,yz=104,xz=200,bz=201,_z=202,Sz=203,S_=204,M_=205,Mz=206,Ez=207,Tz=208,Az=209,wz=210,Cz=211,Rz=212,Dz=213,Nz=214,E_=0,T_=1,A_=2,fd=3,w_=4,C_=5,R_=6,D_=7,Z0=0,Oz=1,Pz=2,Wl=0,Uz=1,Lz=2,Iz=3,G2=4,Bz=5,zz=6,Vz=7,vw="attached",Hz="detached",QS=300,Gu=301,vf=302,d0=303,p0=304,Hm=306,m0=1e3,ro=1001,g0=1002,Vr=1003,q2=1004,rq=1004,am=1005,aq=1005,ur=1006,Qv=1007,sq=1007,Hl=1008,oq=1008,oo=1009,X2=1010,W2=1011,ym=1012,JS=1013,qu=1014,is=1015,Fm=1016,$S=1017,e1=1018,xm=1020,Y2=35902,K2=35899,Z2=1021,Q2=1022,ra=1023,bm=1026,_m=1027,t1=1028,Q0=1029,J2=1030,n1=1031,lq=1032,i1=1033,Jv=33776,$v=33777,e0=33778,t0=33779,N_=35840,O_=35841,P_=35842,U_=35843,L_=36196,I_=37492,B_=37496,z_=37808,V_=37809,H_=37810,F_=37811,j_=37812,k_=37813,G_=37814,q_=37815,X_=37816,W_=37817,Y_=37818,K_=37819,Z_=37820,Q_=37821,J_=36492,$_=36494,eS=36495,tS=36283,nS=36284,iS=36285,rS=36286,Fz=2200,jz=2201,kz=2202,v0=2300,aS=2301,f_=2302,Kh=2400,Zh=2401,y0=2402,r1=2500,$2=2501,uq=0,cq=1,fq=2,Gz=3200,qz=3201,hq=3202,dq=3203,_f=0,Xz=1,Ou="",na="srgb",yf="srgb-linear",x0="linear",Hn="srgb",pq=0,jh=7680,mq=7681,gq=7682,vq=7683,yq=34055,xq=34056,bq=5386,_q=512,Sq=513,Mq=514,Eq=515,Tq=516,Aq=517,wq=518,yw=519,Wz=512,Yz=513,Kz=514,eC=515,Zz=516,Qz=517,Jz=518,$z=519,b0=35044,rd=35048,Cq=35040,Rq=35045,Dq=35049,Nq=35041,Oq=35046,Pq=35050,Uq=35042,Lq="100",xw="300 es",As=2e3,Sm=2001,Iq={COMPUTE:"compute",RENDER:"render"},Bq={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},zq={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Jl{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}const $r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let p3=1234567;const ad=Math.PI/180,Mm=180/Math.PI;function ws(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return($r[t&255]+$r[t>>8&255]+$r[t>>16&255]+$r[t>>24&255]+"-"+$r[e&255]+$r[e>>8&255]+"-"+$r[e>>16&15|64]+$r[e>>24&255]+"-"+$r[n&63|128]+$r[n>>8&255]+"-"+$r[n>>16&255]+$r[n>>24&255]+$r[i&255]+$r[i>>8&255]+$r[i>>16&255]+$r[i>>24&255]).toLowerCase()}function kt(t,e,n){return Math.max(e,Math.min(n,t))}function tC(t,e){return(t%e+e)%e}function Vq(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function Hq(t,e,n){return t!==e?(n-t)/(e-t):0}function n0(t,e,n){return(1-n)*t+n*e}function Fq(t,e,n,i){return n0(t,e,1-Math.exp(-n*i))}function jq(t,e=1){return e-Math.abs(tC(t,e*2)-e)}function kq(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Gq(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function qq(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Xq(t,e){return t+Math.random()*(e-t)}function Wq(t){return t*(.5-Math.random())}function Yq(t){t!==void 0&&(p3=t);let e=p3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Kq(t){return t*ad}function Zq(t){return t*Mm}function Qq(t){return(t&t-1)===0&&t!==0}function Jq(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function $q(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function eX(t,e,n,i,r){const a=Math.cos,o=Math.sin,u=a(n/2),f=o(n/2),d=a((e+i)/2),m=o((e+i)/2),g=a((e-i)/2),y=o((e-i)/2),b=a((i-e)/2),_=o((i-e)/2);switch(r){case"XYX":t.set(u*m,f*g,f*y,u*d);break;case"YZY":t.set(f*y,u*m,f*g,u*d);break;case"ZXZ":t.set(f*g,f*y,u*m,u*d);break;case"XZX":t.set(u*m,f*_,f*b,u*d);break;case"YXY":t.set(f*b,u*m,f*_,u*d);break;case"ZYZ":t.set(f*_,f*b,u*m,u*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ra(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function nn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const tX={DEG2RAD:ad,RAD2DEG:Mm,generateUUID:ws,clamp:kt,euclideanModulo:tC,mapLinear:Vq,inverseLerp:Hq,lerp:n0,damp:Fq,pingpong:jq,smoothstep:kq,smootherstep:Gq,randInt:qq,randFloat:Xq,randFloatSpread:Wq,seededRandom:Yq,degToRad:Kq,radToDeg:Zq,isPowerOfTwo:Qq,ceilPowerOfTwo:Jq,floorPowerOfTwo:$q,setQuaternionFromProperEuler:eX,normalize:nn,denormalize:Ra};class Ge{constructor(e=0,n=0){Ge.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=kt(this.x,e.x,n.x),this.y=kt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=kt(this.x,e,n),this.y=kt(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(kt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(kt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*r+e.x,this.y=a*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class as{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,o,u){let f=i[r+0],d=i[r+1],m=i[r+2],g=i[r+3];const y=a[o+0],b=a[o+1],_=a[o+2],A=a[o+3];if(u===0){e[n+0]=f,e[n+1]=d,e[n+2]=m,e[n+3]=g;return}if(u===1){e[n+0]=y,e[n+1]=b,e[n+2]=_,e[n+3]=A;return}if(g!==A||f!==y||d!==b||m!==_){let T=1-u;const M=f*y+d*b+m*_+g*A,R=M>=0?1:-1,D=1-M*M;if(D>Number.EPSILON){const U=Math.sqrt(D),L=Math.atan2(U,M*R);T=Math.sin(T*L)/U,u=Math.sin(u*L)/U}const N=u*R;if(f=f*T+y*N,d=d*T+b*N,m=m*T+_*N,g=g*T+A*N,T===1-u){const U=1/Math.sqrt(f*f+d*d+m*m+g*g);f*=U,d*=U,m*=U,g*=U}}e[n]=f,e[n+1]=d,e[n+2]=m,e[n+3]=g}static multiplyQuaternionsFlat(e,n,i,r,a,o){const u=i[r],f=i[r+1],d=i[r+2],m=i[r+3],g=a[o],y=a[o+1],b=a[o+2],_=a[o+3];return e[n]=u*_+m*g+f*b-d*y,e[n+1]=f*_+m*y+d*g-u*b,e[n+2]=d*_+m*b+u*y-f*g,e[n+3]=m*_-u*g-f*y-d*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,a=e._z,o=e._order,u=Math.cos,f=Math.sin,d=u(i/2),m=u(r/2),g=u(a/2),y=f(i/2),b=f(r/2),_=f(a/2);switch(o){case"XYZ":this._x=y*m*g+d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g-y*b*_;break;case"YXZ":this._x=y*m*g+d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g+y*b*_;break;case"ZXY":this._x=y*m*g-d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g-y*b*_;break;case"ZYX":this._x=y*m*g-d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g+y*b*_;break;case"YZX":this._x=y*m*g+d*b*_,this._y=d*b*g+y*m*_,this._z=d*m*_-y*b*g,this._w=d*m*g-y*b*_;break;case"XZY":this._x=y*m*g-d*b*_,this._y=d*b*g-y*m*_,this._z=d*m*_+y*b*g,this._w=d*m*g+y*b*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],o=n[1],u=n[5],f=n[9],d=n[2],m=n[6],g=n[10],y=i+u+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-f)*b,this._y=(a-d)*b,this._z=(o-r)*b}else if(i>u&&i>g){const b=2*Math.sqrt(1+i-u-g);this._w=(m-f)/b,this._x=.25*b,this._y=(r+o)/b,this._z=(a+d)/b}else if(u>g){const b=2*Math.sqrt(1+u-i-g);this._w=(a-d)/b,this._x=(r+o)/b,this._y=.25*b,this._z=(f+m)/b}else{const b=2*Math.sqrt(1+g-i-u);this._w=(o-r)/b,this._x=(a+d)/b,this._y=(f+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(kt(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,o=e._w,u=n._x,f=n._y,d=n._z,m=n._w;return this._x=i*m+o*u+r*d-a*f,this._y=r*m+o*f+a*u-i*d,this._z=a*m+o*d+i*f-r*u,this._w=o*m-i*u-r*f-a*d,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,o=this._w;let u=o*e._w+i*e._x+r*e._y+a*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const f=1-u*u;if(f<=Number.EPSILON){const b=1-n;return this._w=b*o+n*this._w,this._x=b*i+n*this._x,this._y=b*r+n*this._y,this._z=b*a+n*this._z,this.normalize(),this}const d=Math.sqrt(f),m=Math.atan2(d,u),g=Math.sin((1-n)*m)/d,y=Math.sin(n*m)/d;return this._w=o*g+this._w*y,this._x=i*g+this._x*y,this._y=r*g+this._y*y,this._z=a*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,n=0,i=0){Z.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(m3.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(m3.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,o=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,o=e.y,u=e.z,f=e.w,d=2*(o*r-u*i),m=2*(u*n-a*r),g=2*(a*i-o*n);return this.x=n+f*d+o*g-u*m,this.y=i+f*m+u*d-a*g,this.z=r+f*g+a*m-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=kt(this.x,e.x,n.x),this.y=kt(this.y,e.y,n.y),this.z=kt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=kt(this.x,e,n),this.y=kt(this.y,e,n),this.z=kt(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(kt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,o=n.x,u=n.y,f=n.z;return this.x=r*f-a*u,this.y=a*o-i*f,this.z=i*u-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return gE.copy(this).projectOnVector(e),this.sub(gE)}reflect(e){return this.sub(gE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(kt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gE=new Z,m3=new as;class en{constructor(e,n,i,r,a,o,u,f,d){en.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,o,u,f,d)}set(e,n,i,r,a,o,u,f,d){const m=this.elements;return m[0]=e,m[1]=r,m[2]=u,m[3]=n,m[4]=a,m[5]=f,m[6]=i,m[7]=o,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,o=i[0],u=i[3],f=i[6],d=i[1],m=i[4],g=i[7],y=i[2],b=i[5],_=i[8],A=r[0],T=r[3],M=r[6],R=r[1],D=r[4],N=r[7],U=r[2],L=r[5],V=r[8];return a[0]=o*A+u*R+f*U,a[3]=o*T+u*D+f*L,a[6]=o*M+u*N+f*V,a[1]=d*A+m*R+g*U,a[4]=d*T+m*D+g*L,a[7]=d*M+m*N+g*V,a[2]=y*A+b*R+_*U,a[5]=y*T+b*D+_*L,a[8]=y*M+b*N+_*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],u=e[5],f=e[6],d=e[7],m=e[8];return n*o*m-n*u*d-i*a*m+i*u*f+r*a*d-r*o*f}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],u=e[5],f=e[6],d=e[7],m=e[8],g=m*o-u*d,y=u*f-m*a,b=d*a-o*f,_=n*g+i*y+r*b;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const A=1/_;return e[0]=g*A,e[1]=(r*d-m*i)*A,e[2]=(u*i-r*o)*A,e[3]=y*A,e[4]=(m*n-r*f)*A,e[5]=(r*a-u*n)*A,e[6]=b*A,e[7]=(i*f-d*n)*A,e[8]=(o*n-i*a)*A,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,o,u){const f=Math.cos(a),d=Math.sin(a);return this.set(i*f,i*d,-i*(f*o+d*u)+o+e,-r*d,r*f,-r*(-d*o+f*u)+u+n,0,0,1),this}scale(e,n){return this.premultiply(vE.makeScale(e,n)),this}rotate(e){return this.premultiply(vE.makeRotation(-e)),this}translate(e,n){return this.premultiply(vE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const vE=new en;function e4(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const nX={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function sm(t,e){return new nX[t](e)}function _0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function t4(){const t=_0("canvas");return t.style.display="block",t}const g3={};function S0(t){t in g3||(g3[t]=!0,console.warn(t))}function iX(t,e,n){return new Promise(function(i,r){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:i()}}setTimeout(a,n)})}const v3=new en().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),y3=new en().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function rX(){const t={enabled:!0,workingColorSpace:yf,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Hn&&(r.r=zu(r.r),r.g=zu(r.g),r.b=zu(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Hn&&(r.r=dm(r.r),r.g=dm(r.g),r.b=dm(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Ou?x0:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return S0("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return S0("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[yf]:{primaries:e,whitePoint:i,transfer:x0,toXYZ:v3,fromXYZ:y3,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:na},outputColorSpaceConfig:{drawingBufferColorSpace:na}},[na]:{primaries:e,whitePoint:i,transfer:Hn,toXYZ:v3,fromXYZ:y3,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:na}}}),t}const xn=rX();function zu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function dm(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Cp;class n4{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Cp===void 0&&(Cp=_0("canvas")),Cp.width=e.width,Cp.height=e.height;const r=Cp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Cp}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=_0("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=zu(a[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(zu(n[i]/255)*255):n[i]=zu(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let aX=0;class ff{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:aX++}),this.uuid=ws(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,u=r.length;o<u;o++)r[o].isDataTexture?a.push(yE(r[o].image)):a.push(yE(r[o]))}else a=yE(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function yE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?n4.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let sX=0;const xE=new Z;class Ni extends Jl{constructor(e=Ni.DEFAULT_IMAGE,n=Ni.DEFAULT_MAPPING,i=ro,r=ro,a=ur,o=Hl,u=ra,f=oo,d=Ni.DEFAULT_ANISOTROPY,m=Ou){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:sX++}),this.uuid=ws(),this.name="",this.source=new ff(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=d,this.format=u,this.internalFormat=null,this.type=f,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new en,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(xE).x}get height(){return this.source.getSize(xE).y}get depth(){return this.source.getSize(xE).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==QS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case m0:e.x=e.x-Math.floor(e.x);break;case ro:e.x=e.x<0?0:1;break;case g0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case m0:e.y=e.y-Math.floor(e.y);break;case ro:e.y=e.y<0?0:1;break;case g0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ni.DEFAULT_IMAGE=null;Ni.DEFAULT_MAPPING=QS;Ni.DEFAULT_ANISOTROPY=1;class Mn{constructor(e=0,n=0,i=0,r=1){Mn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const f=e.elements,d=f[0],m=f[4],g=f[8],y=f[1],b=f[5],_=f[9],A=f[2],T=f[6],M=f[10];if(Math.abs(m-y)<.01&&Math.abs(g-A)<.01&&Math.abs(_-T)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+A)<.1&&Math.abs(_+T)<.1&&Math.abs(d+b+M-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const D=(d+1)/2,N=(b+1)/2,U=(M+1)/2,L=(m+y)/4,V=(g+A)/4,F=(_+T)/4;return D>N&&D>U?D<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(D),r=L/i,a=V/i):N>U?N<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(N),i=L/r,a=F/r):U<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(U),i=V/a,r=F/a),this.set(i,r,a,n),this}let R=Math.sqrt((T-_)*(T-_)+(g-A)*(g-A)+(y-m)*(y-m));return Math.abs(R)<.001&&(R=1),this.x=(T-_)/R,this.y=(g-A)/R,this.z=(y-m)/R,this.w=Math.acos((d+b+M-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=kt(this.x,e.x,n.x),this.y=kt(this.y,e.y,n.y),this.z=kt(this.z,e.z,n.z),this.w=kt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=kt(this.x,e,n),this.y=kt(this.y,e,n),this.z=kt(this.z,e,n),this.w=kt(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(kt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class nC extends Jl{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ur,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new Mn(0,0,e,n),this.scissorTest=!1,this.viewport=new Mn(0,0,e,n);const r={width:e,height:n,depth:i.depth},a=new Ni(r);this.textures=[];const o=i.count;for(let u=0;u<o;u++)this.textures[u]=a.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:ur,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new ff(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Zl extends nC{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class a1 extends Ni{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Vr,this.minFilter=Vr,this.wrapR=ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class oX extends Zl{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new a1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class s1 extends Ni{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Vr,this.minFilter=Vr,this.wrapR=ro,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class lX extends Zl{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new s1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class aa{constructor(e=new Z(1/0,1/0,1/0),n=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(zo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(zo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=zo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,u=a.count;o<u;o++)e.isMesh===!0?e.getVertexPosition(o,zo):zo.fromBufferAttribute(a,o),zo.applyMatrix4(e.matrixWorld),this.expandByPoint(zo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),tb.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),tb.copy(i.boundingBox)),tb.applyMatrix4(e.matrixWorld),this.union(tb)}const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,zo),zo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Sv),nb.subVectors(this.max,Sv),Rp.subVectors(e.a,Sv),Dp.subVectors(e.b,Sv),Np.subVectors(e.c,Sv),Zc.subVectors(Dp,Rp),Qc.subVectors(Np,Dp),Th.subVectors(Rp,Np);let n=[0,-Zc.z,Zc.y,0,-Qc.z,Qc.y,0,-Th.z,Th.y,Zc.z,0,-Zc.x,Qc.z,0,-Qc.x,Th.z,0,-Th.x,-Zc.y,Zc.x,0,-Qc.y,Qc.x,0,-Th.y,Th.x,0];return!bE(n,Rp,Dp,Np,nb)||(n=[1,0,0,0,1,0,0,0,1],!bE(n,Rp,Dp,Np,nb))?!1:(ib.crossVectors(Zc,Qc),n=[ib.x,ib.y,ib.z],bE(n,Rp,Dp,Np,nb))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(zo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Au[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Au[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Au[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Au[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Au[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Au[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Au[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Au[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Au),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Au=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],zo=new Z,tb=new aa,Rp=new Z,Dp=new Z,Np=new Z,Zc=new Z,Qc=new Z,Th=new Z,Sv=new Z,nb=new Z,ib=new Z,Ah=new Z;function bE(t,e,n,i,r){for(let a=0,o=t.length-3;a<=o;a+=3){Ah.fromArray(t,a);const u=r.x*Math.abs(Ah.x)+r.y*Math.abs(Ah.y)+r.z*Math.abs(Ah.z),f=e.dot(Ah),d=n.dot(Ah),m=i.dot(Ah);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>u)return!1}return!0}const uX=new aa,Mv=new Z,_E=new Z;class Hr{constructor(e=new Z,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):uX.setFromPoints(e).getCenter(i);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Mv.subVectors(e,this.center);const n=Mv.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Mv,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_E.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Mv.copy(e.center).add(_E)),this.expandByPoint(Mv.copy(e.center).sub(_E))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const wu=new Z,SE=new Z,rb=new Z,Jc=new Z,ME=new Z,ab=new Z,EE=new Z;class jm{constructor(e=new Z,n=new Z(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wu)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=wu.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(wu.copy(this.origin).addScaledVector(this.direction,n),wu.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){SE.copy(e).add(n).multiplyScalar(.5),rb.copy(n).sub(e).normalize(),Jc.copy(this.origin).sub(SE);const a=e.distanceTo(n)*.5,o=-this.direction.dot(rb),u=Jc.dot(this.direction),f=-Jc.dot(rb),d=Jc.lengthSq(),m=Math.abs(1-o*o);let g,y,b,_;if(m>0)if(g=o*f-u,y=o*u-f,_=a*m,g>=0)if(y>=-_)if(y<=_){const A=1/m;g*=A,y*=A,b=g*(g+o*y+2*u)+y*(o*g+y+2*f)+d}else y=a,g=Math.max(0,-(o*y+u)),b=-g*g+y*(y+2*f)+d;else y=-a,g=Math.max(0,-(o*y+u)),b=-g*g+y*(y+2*f)+d;else y<=-_?(g=Math.max(0,-(-o*a+u)),y=g>0?-a:Math.min(Math.max(-a,-f),a),b=-g*g+y*(y+2*f)+d):y<=_?(g=0,y=Math.min(Math.max(-a,-f),a),b=y*(y+2*f)+d):(g=Math.max(0,-(o*a+u)),y=g>0?a:Math.min(Math.max(-a,-f),a),b=-g*g+y*(y+2*f)+d);else y=o>0?-a:a,g=Math.max(0,-(o*y+u)),b=-g*g+y*(y+2*f)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(SE).addScaledVector(rb,y),b}intersectSphere(e,n){wu.subVectors(e.center,this.origin);const i=wu.dot(this.direction),r=wu.dot(wu)-i*i,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),u=i-o,f=i+o;return f<0?null:u<0?this.at(f,n):this.at(u,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,o,u,f;const d=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return d>=0?(i=(e.min.x-y.x)*d,r=(e.max.x-y.x)*d):(i=(e.max.x-y.x)*d,r=(e.min.x-y.x)*d),m>=0?(a=(e.min.y-y.y)*m,o=(e.max.y-y.y)*m):(a=(e.max.y-y.y)*m,o=(e.min.y-y.y)*m),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),g>=0?(u=(e.min.z-y.z)*g,f=(e.max.z-y.z)*g):(u=(e.max.z-y.z)*g,f=(e.min.z-y.z)*g),i>f||u>r)||((u>i||i!==i)&&(i=u),(f<r||r!==r)&&(r=f),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,wu)!==null}intersectTriangle(e,n,i,r,a){ME.subVectors(n,e),ab.subVectors(i,e),EE.crossVectors(ME,ab);let o=this.direction.dot(EE),u;if(o>0){if(r)return null;u=1}else if(o<0)u=-1,o=-o;else return null;Jc.subVectors(this.origin,e);const f=u*this.direction.dot(ab.crossVectors(Jc,ab));if(f<0)return null;const d=u*this.direction.dot(ME.cross(Jc));if(d<0||f+d>o)return null;const m=-u*Jc.dot(EE);return m<0?null:this.at(m/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Gt{constructor(e,n,i,r,a,o,u,f,d,m,g,y,b,_,A,T){Gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,a,o,u,f,d,m,g,y,b,_,A,T)}set(e,n,i,r,a,o,u,f,d,m,g,y,b,_,A,T){const M=this.elements;return M[0]=e,M[4]=n,M[8]=i,M[12]=r,M[1]=a,M[5]=o,M[9]=u,M[13]=f,M[2]=d,M[6]=m,M[10]=g,M[14]=y,M[3]=b,M[7]=_,M[11]=A,M[15]=T,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Gt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Op.setFromMatrixColumn(e,0).length(),a=1/Op.setFromMatrixColumn(e,1).length(),o=1/Op.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,o=Math.cos(i),u=Math.sin(i),f=Math.cos(r),d=Math.sin(r),m=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const y=o*m,b=o*g,_=u*m,A=u*g;n[0]=f*m,n[4]=-f*g,n[8]=d,n[1]=b+_*d,n[5]=y-A*d,n[9]=-u*f,n[2]=A-y*d,n[6]=_+b*d,n[10]=o*f}else if(e.order==="YXZ"){const y=f*m,b=f*g,_=d*m,A=d*g;n[0]=y+A*u,n[4]=_*u-b,n[8]=o*d,n[1]=o*g,n[5]=o*m,n[9]=-u,n[2]=b*u-_,n[6]=A+y*u,n[10]=o*f}else if(e.order==="ZXY"){const y=f*m,b=f*g,_=d*m,A=d*g;n[0]=y-A*u,n[4]=-o*g,n[8]=_+b*u,n[1]=b+_*u,n[5]=o*m,n[9]=A-y*u,n[2]=-o*d,n[6]=u,n[10]=o*f}else if(e.order==="ZYX"){const y=o*m,b=o*g,_=u*m,A=u*g;n[0]=f*m,n[4]=_*d-b,n[8]=y*d+A,n[1]=f*g,n[5]=A*d+y,n[9]=b*d-_,n[2]=-d,n[6]=u*f,n[10]=o*f}else if(e.order==="YZX"){const y=o*f,b=o*d,_=u*f,A=u*d;n[0]=f*m,n[4]=A-y*g,n[8]=_*g+b,n[1]=g,n[5]=o*m,n[9]=-u*m,n[2]=-d*m,n[6]=b*g+_,n[10]=y-A*g}else if(e.order==="XZY"){const y=o*f,b=o*d,_=u*f,A=u*d;n[0]=f*m,n[4]=-g,n[8]=d*m,n[1]=y*g+A,n[5]=o*m,n[9]=b*g-_,n[2]=_*g-b,n[6]=u*m,n[10]=A*g+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cX,e,fX)}lookAt(e,n,i){const r=this.elements;return Ms.subVectors(e,n),Ms.lengthSq()===0&&(Ms.z=1),Ms.normalize(),$c.crossVectors(i,Ms),$c.lengthSq()===0&&(Math.abs(i.z)===1?Ms.x+=1e-4:Ms.z+=1e-4,Ms.normalize(),$c.crossVectors(i,Ms)),$c.normalize(),sb.crossVectors(Ms,$c),r[0]=$c.x,r[4]=sb.x,r[8]=Ms.x,r[1]=$c.y,r[5]=sb.y,r[9]=Ms.y,r[2]=$c.z,r[6]=sb.z,r[10]=Ms.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,o=i[0],u=i[4],f=i[8],d=i[12],m=i[1],g=i[5],y=i[9],b=i[13],_=i[2],A=i[6],T=i[10],M=i[14],R=i[3],D=i[7],N=i[11],U=i[15],L=r[0],V=r[4],F=r[8],B=r[12],z=r[1],G=r[5],ee=r[9],ie=r[13],pe=r[2],ue=r[6],X=r[10],Q=r[14],$=r[3],me=r[7],Y=r[11],re=r[15];return a[0]=o*L+u*z+f*pe+d*$,a[4]=o*V+u*G+f*ue+d*me,a[8]=o*F+u*ee+f*X+d*Y,a[12]=o*B+u*ie+f*Q+d*re,a[1]=m*L+g*z+y*pe+b*$,a[5]=m*V+g*G+y*ue+b*me,a[9]=m*F+g*ee+y*X+b*Y,a[13]=m*B+g*ie+y*Q+b*re,a[2]=_*L+A*z+T*pe+M*$,a[6]=_*V+A*G+T*ue+M*me,a[10]=_*F+A*ee+T*X+M*Y,a[14]=_*B+A*ie+T*Q+M*re,a[3]=R*L+D*z+N*pe+U*$,a[7]=R*V+D*G+N*ue+U*me,a[11]=R*F+D*ee+N*X+U*Y,a[15]=R*B+D*ie+N*Q+U*re,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],o=e[1],u=e[5],f=e[9],d=e[13],m=e[2],g=e[6],y=e[10],b=e[14],_=e[3],A=e[7],T=e[11],M=e[15];return _*(+a*f*g-r*d*g-a*u*y+i*d*y+r*u*b-i*f*b)+A*(+n*f*b-n*d*y+a*o*y-r*o*b+r*d*m-a*f*m)+T*(+n*d*g-n*u*b-a*o*g+i*o*b+a*u*m-i*d*m)+M*(-r*u*m-n*f*g+n*u*y+r*o*g-i*o*y+i*f*m)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],u=e[5],f=e[6],d=e[7],m=e[8],g=e[9],y=e[10],b=e[11],_=e[12],A=e[13],T=e[14],M=e[15],R=g*T*d-A*y*d+A*f*b-u*T*b-g*f*M+u*y*M,D=_*y*d-m*T*d-_*f*b+o*T*b+m*f*M-o*y*M,N=m*A*d-_*g*d+_*u*b-o*A*b-m*u*M+o*g*M,U=_*g*f-m*A*f-_*u*y+o*A*y+m*u*T-o*g*T,L=n*R+i*D+r*N+a*U;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const V=1/L;return e[0]=R*V,e[1]=(A*y*a-g*T*a-A*r*b+i*T*b+g*r*M-i*y*M)*V,e[2]=(u*T*a-A*f*a+A*r*d-i*T*d-u*r*M+i*f*M)*V,e[3]=(g*f*a-u*y*a-g*r*d+i*y*d+u*r*b-i*f*b)*V,e[4]=D*V,e[5]=(m*T*a-_*y*a+_*r*b-n*T*b-m*r*M+n*y*M)*V,e[6]=(_*f*a-o*T*a-_*r*d+n*T*d+o*r*M-n*f*M)*V,e[7]=(o*y*a-m*f*a+m*r*d-n*y*d-o*r*b+n*f*b)*V,e[8]=N*V,e[9]=(_*g*a-m*A*a-_*i*b+n*A*b+m*i*M-n*g*M)*V,e[10]=(o*A*a-_*u*a+_*i*d-n*A*d-o*i*M+n*u*M)*V,e[11]=(m*u*a-o*g*a-m*i*d+n*g*d+o*i*b-n*u*b)*V,e[12]=U*V,e[13]=(m*A*r-_*g*r+_*i*y-n*A*y-m*i*T+n*g*T)*V,e[14]=(_*u*r-o*A*r-_*i*f+n*A*f+o*i*T-n*u*T)*V,e[15]=(o*g*r-m*u*r+m*i*f-n*g*f-o*i*y+n*u*y)*V,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,o=e.x,u=e.y,f=e.z,d=a*o,m=a*u;return this.set(d*o+i,d*u-r*f,d*f+r*u,0,d*u+r*f,m*u+i,m*f-r*o,0,d*f-r*u,m*f+r*o,a*f*f+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,o){return this.set(1,i,a,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,o=n._y,u=n._z,f=n._w,d=a+a,m=o+o,g=u+u,y=a*d,b=a*m,_=a*g,A=o*m,T=o*g,M=u*g,R=f*d,D=f*m,N=f*g,U=i.x,L=i.y,V=i.z;return r[0]=(1-(A+M))*U,r[1]=(b+N)*U,r[2]=(_-D)*U,r[3]=0,r[4]=(b-N)*L,r[5]=(1-(y+M))*L,r[6]=(T+R)*L,r[7]=0,r[8]=(_+D)*V,r[9]=(T-R)*V,r[10]=(1-(y+A))*V,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let a=Op.set(r[0],r[1],r[2]).length();const o=Op.set(r[4],r[5],r[6]).length(),u=Op.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Vo.copy(this);const d=1/a,m=1/o,g=1/u;return Vo.elements[0]*=d,Vo.elements[1]*=d,Vo.elements[2]*=d,Vo.elements[4]*=m,Vo.elements[5]*=m,Vo.elements[6]*=m,Vo.elements[8]*=g,Vo.elements[9]*=g,Vo.elements[10]*=g,n.setFromRotationMatrix(Vo),i.x=a,i.y=o,i.z=u,this}makePerspective(e,n,i,r,a,o,u=As,f=!1){const d=this.elements,m=2*a/(n-e),g=2*a/(i-r),y=(n+e)/(n-e),b=(i+r)/(i-r);let _,A;if(f)_=a/(o-a),A=o*a/(o-a);else if(u===As)_=-(o+a)/(o-a),A=-2*o*a/(o-a);else if(u===Sm)_=-o/(o-a),A=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return d[0]=m,d[4]=0,d[8]=y,d[12]=0,d[1]=0,d[5]=g,d[9]=b,d[13]=0,d[2]=0,d[6]=0,d[10]=_,d[14]=A,d[3]=0,d[7]=0,d[11]=-1,d[15]=0,this}makeOrthographic(e,n,i,r,a,o,u=As,f=!1){const d=this.elements,m=2/(n-e),g=2/(i-r),y=-(n+e)/(n-e),b=-(i+r)/(i-r);let _,A;if(f)_=1/(o-a),A=o/(o-a);else if(u===As)_=-2/(o-a),A=-(o+a)/(o-a);else if(u===Sm)_=-1/(o-a),A=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return d[0]=m,d[4]=0,d[8]=0,d[12]=y,d[1]=0,d[5]=g,d[9]=0,d[13]=b,d[2]=0,d[6]=0,d[10]=_,d[14]=A,d[3]=0,d[7]=0,d[11]=0,d[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Op=new Z,Vo=new Gt,cX=new Z(0,0,0),fX=new Z(1,1,1),$c=new Z,sb=new Z,Ms=new Z,x3=new Gt,b3=new as;class Ds{constructor(e=0,n=0,i=0,r=Ds.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],o=r[4],u=r[8],f=r[1],d=r[5],m=r[9],g=r[2],y=r[6],b=r[10];switch(n){case"XYZ":this._y=Math.asin(kt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-kt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,b),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(kt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(f,a));break;case"ZYX":this._y=Math.asin(-kt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(f,a)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(kt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(u,b));break;case"XZY":this._z=Math.asin(-kt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return x3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(x3,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return b3.setFromEuler(this),this.setFromQuaternion(b3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ds.DEFAULT_ORDER="XYZ";class Em{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let hX=0;const _3=new Z,Pp=new as,Cu=new Gt,ob=new Z,Ev=new Z,dX=new Z,pX=new as,S3=new Z(1,0,0),M3=new Z(0,1,0),E3=new Z(0,0,1),T3={type:"added"},mX={type:"removed"},Up={type:"childadded",child:null},TE={type:"childremoved",child:null};class En extends Jl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hX++}),this.uuid=ws(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=En.DEFAULT_UP.clone();const e=new Z,n=new Ds,i=new as,r=new Z(1,1,1);function a(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Gt},normalMatrix:{value:new en}}),this.matrix=new Gt,this.matrixWorld=new Gt,this.matrixAutoUpdate=En.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=En.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Em,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Pp.setFromAxisAngle(e,n),this.quaternion.multiply(Pp),this}rotateOnWorldAxis(e,n){return Pp.setFromAxisAngle(e,n),this.quaternion.premultiply(Pp),this}rotateX(e){return this.rotateOnAxis(S3,e)}rotateY(e){return this.rotateOnAxis(M3,e)}rotateZ(e){return this.rotateOnAxis(E3,e)}translateOnAxis(e,n){return _3.copy(e).applyQuaternion(this.quaternion),this.position.add(_3.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(S3,e)}translateY(e){return this.translateOnAxis(M3,e)}translateZ(e){return this.translateOnAxis(E3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Cu.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?ob.copy(e):ob.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ev.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Cu.lookAt(Ev,ob,this.up):Cu.lookAt(ob,Ev,this.up),this.quaternion.setFromRotationMatrix(Cu),r&&(Cu.extractRotation(r.matrixWorld),Pp.setFromRotationMatrix(Cu),this.quaternion.premultiply(Pp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(T3),Up.child=e,this.dispatchEvent(Up),Up.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(mX),TE.child=e,this.dispatchEvent(TE),TE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Cu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Cu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Cu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(T3),Up.child=e,this.dispatchEvent(Up),Up.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ev,e,dX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ev,pX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(u=>({...u})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(u,f){return u[f.uuid]===void 0&&(u[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const f=u.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const g=f[d];a(e.shapes,g)}else a(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let f=0,d=this.material.length;f<d;f++)u.push(a(e.materials,this.material[f]));r.material=u}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let u=0;u<this.children.length;u++)r.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let u=0;u<this.animations.length;u++){const f=this.animations[u];r.animations.push(a(e.animations,f))}}if(n){const u=o(e.geometries),f=o(e.materials),d=o(e.textures),m=o(e.images),g=o(e.shapes),y=o(e.skeletons),b=o(e.animations),_=o(e.nodes);u.length>0&&(i.geometries=u),f.length>0&&(i.materials=f),d.length>0&&(i.textures=d),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),b.length>0&&(i.animations=b),_.length>0&&(i.nodes=_)}return i.object=r,i;function o(u){const f=[];for(const d in u){const m=u[d];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}En.DEFAULT_UP=new Z(0,1,0);En.DEFAULT_MATRIX_AUTO_UPDATE=!0;En.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ho=new Z,Ru=new Z,AE=new Z,Du=new Z,Lp=new Z,Ip=new Z,A3=new Z,wE=new Z,CE=new Z,RE=new Z,DE=new Mn,NE=new Mn,OE=new Mn;class ts{constructor(e=new Z,n=new Z,i=new Z){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ho.subVectors(e,n),r.cross(Ho);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){Ho.subVectors(r,n),Ru.subVectors(i,n),AE.subVectors(e,n);const o=Ho.dot(Ho),u=Ho.dot(Ru),f=Ho.dot(AE),d=Ru.dot(Ru),m=Ru.dot(AE),g=o*d-u*u;if(g===0)return a.set(0,0,0),null;const y=1/g,b=(d*f-u*m)*y,_=(o*m-u*f)*y;return a.set(1-b-_,_,b)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Du)===null?!1:Du.x>=0&&Du.y>=0&&Du.x+Du.y<=1}static getInterpolation(e,n,i,r,a,o,u,f){return this.getBarycoord(e,n,i,r,Du)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(a,Du.x),f.addScaledVector(o,Du.y),f.addScaledVector(u,Du.z),f)}static getInterpolatedAttribute(e,n,i,r,a,o){return DE.setScalar(0),NE.setScalar(0),OE.setScalar(0),DE.fromBufferAttribute(e,n),NE.fromBufferAttribute(e,i),OE.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(DE,a.x),o.addScaledVector(NE,a.y),o.addScaledVector(OE,a.z),o}static isFrontFacing(e,n,i,r){return Ho.subVectors(i,n),Ru.subVectors(e,n),Ho.cross(Ru).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ho.subVectors(this.c,this.b),Ru.subVectors(this.a,this.b),Ho.cross(Ru).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ts.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ts.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,a){return ts.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return ts.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ts.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let o,u;Lp.subVectors(r,i),Ip.subVectors(a,i),wE.subVectors(e,i);const f=Lp.dot(wE),d=Ip.dot(wE);if(f<=0&&d<=0)return n.copy(i);CE.subVectors(e,r);const m=Lp.dot(CE),g=Ip.dot(CE);if(m>=0&&g<=m)return n.copy(r);const y=f*g-m*d;if(y<=0&&f>=0&&m<=0)return o=f/(f-m),n.copy(i).addScaledVector(Lp,o);RE.subVectors(e,a);const b=Lp.dot(RE),_=Ip.dot(RE);if(_>=0&&b<=_)return n.copy(a);const A=b*d-f*_;if(A<=0&&d>=0&&_<=0)return u=d/(d-_),n.copy(i).addScaledVector(Ip,u);const T=m*_-b*g;if(T<=0&&g-m>=0&&b-_>=0)return A3.subVectors(a,r),u=(g-m)/(g-m+(b-_)),n.copy(r).addScaledVector(A3,u);const M=1/(T+A+y);return o=A*M,u=y*M,n.copy(i).addScaledVector(Lp,o).addScaledVector(Ip,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const i4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ef={h:0,s:0,l:0},lb={h:0,s:0,l:0};function PE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let vt=class{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=na){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,xn.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=xn.workingColorSpace){return this.r=e,this.g=n,this.b=i,xn.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=xn.workingColorSpace){if(e=tC(e,1),n=kt(n,0,1),i=kt(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,o=2*i-a;this.r=PE(o,a,e+1/3),this.g=PE(o,a,e),this.b=PE(o,a,e-1/3)}return xn.colorSpaceToWorking(this,r),this}setStyle(e,n=na){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=r[1],u=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=na){const i=i4[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zu(e.r),this.g=zu(e.g),this.b=zu(e.b),this}copyLinearToSRGB(e){return this.r=dm(e.r),this.g=dm(e.g),this.b=dm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=na){return xn.workingToColorSpace(ea.copy(this),e),Math.round(kt(ea.r*255,0,255))*65536+Math.round(kt(ea.g*255,0,255))*256+Math.round(kt(ea.b*255,0,255))}getHexString(e=na){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=xn.workingColorSpace){xn.workingToColorSpace(ea.copy(this),n);const i=ea.r,r=ea.g,a=ea.b,o=Math.max(i,r,a),u=Math.min(i,r,a);let f,d;const m=(u+o)/2;if(u===o)f=0,d=0;else{const g=o-u;switch(d=m<=.5?g/(o+u):g/(2-o-u),o){case i:f=(r-a)/g+(r<a?6:0);break;case r:f=(a-i)/g+2;break;case a:f=(i-r)/g+4;break}f/=6}return e.h=f,e.s=d,e.l=m,e}getRGB(e,n=xn.workingColorSpace){return xn.workingToColorSpace(ea.copy(this),n),e.r=ea.r,e.g=ea.g,e.b=ea.b,e}getStyle(e=na){xn.workingToColorSpace(ea.copy(this),e);const n=ea.r,i=ea.g,r=ea.b;return e!==na?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(ef),this.setHSL(ef.h+e,ef.s+n,ef.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(ef),e.getHSL(lb);const i=n0(ef.h,lb.h,n),r=n0(ef.s,lb.s,n),a=n0(ef.l,lb.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ea=new vt;vt.NAMES=i4;let gX=0;class oa extends Jl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:gX++}),this.uuid=ws(),this.name="",this.type="Material",this.blending=id,this.side=ku,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=S_,this.blendDst=M_,this.blendEquation=lf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new vt(0,0,0),this.blendAlpha=0,this.depthFunc=fd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jh,this.stencilZFail=jh,this.stencilZPass=jh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==id&&(i.blending=this.blending),this.side!==ku&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==S_&&(i.blendSrc=this.blendSrc),this.blendDst!==M_&&(i.blendDst=this.blendDst),this.blendEquation!==lf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==fd&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==yw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==jh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==jh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const u in a){const f=a[u];delete f.metadata,o.push(f)}return o}if(n){const a=r(e.textures),o=r(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Sf extends oa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=Z0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Pu=vX();function vX(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(i[f]=0,i[f|256]=32768,r[f]=24,r[f|256]=24):d<-14?(i[f]=1024>>-d-14,i[f|256]=1024>>-d-14|32768,r[f]=-d-1,r[f|256]=-d-1):d<=15?(i[f]=d+15<<10,i[f|256]=d+15<<10|32768,r[f]=13,r[f|256]=13):d<128?(i[f]=31744,i[f|256]=64512,r[f]=24,r[f|256]=24):(i[f]=31744,i[f|256]=64512,r[f]=13,r[f|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),u=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;(d&8388608)===0;)d<<=1,m-=8388608;d&=-8388609,m+=947912704,a[f]=d|m}for(let f=1024;f<2048;++f)a[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)o[f]=f<<23;o[31]=1199570944,o[32]=2147483648;for(let f=33;f<63;++f)o[f]=2147483648+(f-32<<23);o[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(u[f]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:u}}function Qa(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=kt(t,-65504,65504),Pu.floatView[0]=t;const e=Pu.uint32View[0],n=e>>23&511;return Pu.baseTable[n]+((e&8388607)>>Pu.shiftTable[n])}function Hv(t){const e=t>>10;return Pu.uint32View[0]=Pu.mantissaTable[Pu.offsetTable[e]+(t&1023)]+Pu.exponentTable[e],Pu.floatView[0]}class yX{static toHalfFloat(e){return Qa(e)}static fromHalfFloat(e){return Hv(e)}}const Wi=new Z,ub=new Ge;let xX=0;class Yn{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:xX++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=b0,this.updateRanges=[],this.gpuType=is,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)ub.fromBufferAttribute(this,n),ub.applyMatrix3(e),this.setXY(n,ub.x,ub.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Wi.fromBufferAttribute(this,n),Wi.applyMatrix3(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Wi.fromBufferAttribute(this,n),Wi.applyMatrix4(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Wi.fromBufferAttribute(this,n),Wi.applyNormalMatrix(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Wi.fromBufferAttribute(this,n),Wi.transformDirection(e),this.setXYZ(n,Wi.x,Wi.y,Wi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Ra(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=nn(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ra(n,this.array)),n}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ra(n,this.array)),n}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ra(n,this.array)),n}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ra(n,this.array)),n}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==b0&&(e.usage=this.usage),e}}class bX extends Yn{constructor(e,n,i){super(new Int8Array(e),n,i)}}class _X extends Yn{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class SX extends Yn{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class MX extends Yn{constructor(e,n,i){super(new Int16Array(e),n,i)}}class iC extends Yn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class EX extends Yn{constructor(e,n,i){super(new Int32Array(e),n,i)}}class rC extends Yn{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class TX extends Yn{constructor(e,n,i){super(new Uint16Array(e),n,i),this.isFloat16BufferAttribute=!0}getX(e){let n=Hv(this.array[e*this.itemSize]);return this.normalized&&(n=Ra(n,this.array)),n}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize]=Qa(n),this}getY(e){let n=Hv(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ra(n,this.array)),n}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+1]=Qa(n),this}getZ(e){let n=Hv(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ra(n,this.array)),n}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+2]=Qa(n),this}getW(e){let n=Hv(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ra(n,this.array)),n}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.array[e*this.itemSize+3]=Qa(n),this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array)),this.array[e+0]=Qa(n),this.array[e+1]=Qa(i),this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.array[e+0]=Qa(n),this.array[e+1]=Qa(i),this.array[e+2]=Qa(r),this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.array[e+0]=Qa(n),this.array[e+1]=Qa(i),this.array[e+2]=Qa(r),this.array[e+3]=Qa(a),this}}class Et extends Yn{constructor(e,n,i){super(new Float32Array(e),n,i)}}let AX=0;const $s=new Gt,UE=new En,Bp=new Z,Es=new aa,Tv=new aa,_r=new Z;class rn extends Jl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:AX++}),this.uuid=ws(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(e4(e)?rC:iC)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new en().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return $s.makeRotationFromQuaternion(e),this.applyMatrix4($s),this}rotateX(e){return $s.makeRotationX(e),this.applyMatrix4($s),this}rotateY(e){return $s.makeRotationY(e),this.applyMatrix4($s),this}rotateZ(e){return $s.makeRotationZ(e),this.applyMatrix4($s),this}translate(e,n,i){return $s.makeTranslation(e,n,i),this.applyMatrix4($s),this}scale(e,n,i){return $s.makeScale(e,n,i),this.applyMatrix4($s),this}lookAt(e){return UE.lookAt(e),UE.updateMatrix(),this.applyMatrix4(UE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bp).negate(),this.translate(Bp.x,Bp.y,Bp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Et(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const a=e[r];n.setXYZ(r,a.x,a.y,a.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new aa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];Es.setFromBufferAttribute(a),this.morphTargetsRelative?(_r.addVectors(this.boundingBox.min,Es.min),this.boundingBox.expandByPoint(_r),_r.addVectors(this.boundingBox.max,Es.max),this.boundingBox.expandByPoint(_r)):(this.boundingBox.expandByPoint(Es.min),this.boundingBox.expandByPoint(Es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Z,1/0);return}if(e){const i=this.boundingSphere.center;if(Es.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const u=n[a];Tv.setFromBufferAttribute(u),this.morphTargetsRelative?(_r.addVectors(Es.min,Tv.min),Es.expandByPoint(_r),_r.addVectors(Es.max,Tv.max),Es.expandByPoint(_r)):(Es.expandByPoint(Tv.min),Es.expandByPoint(Tv.max))}Es.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)_r.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(_r));if(n)for(let a=0,o=n.length;a<o;a++){const u=n[a],f=this.morphTargetsRelative;for(let d=0,m=u.count;d<m;d++)_r.fromBufferAttribute(u,d),f&&(Bp.fromBufferAttribute(e,d),_r.add(Bp)),r=Math.max(r,i.distanceToSquared(_r))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),u=[],f=[];for(let F=0;F<i.count;F++)u[F]=new Z,f[F]=new Z;const d=new Z,m=new Z,g=new Z,y=new Ge,b=new Ge,_=new Ge,A=new Z,T=new Z;function M(F,B,z){d.fromBufferAttribute(i,F),m.fromBufferAttribute(i,B),g.fromBufferAttribute(i,z),y.fromBufferAttribute(a,F),b.fromBufferAttribute(a,B),_.fromBufferAttribute(a,z),m.sub(d),g.sub(d),b.sub(y),_.sub(y);const G=1/(b.x*_.y-_.x*b.y);isFinite(G)&&(A.copy(m).multiplyScalar(_.y).addScaledVector(g,-b.y).multiplyScalar(G),T.copy(g).multiplyScalar(b.x).addScaledVector(m,-_.x).multiplyScalar(G),u[F].add(A),u[B].add(A),u[z].add(A),f[F].add(T),f[B].add(T),f[z].add(T))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let F=0,B=R.length;F<B;++F){const z=R[F],G=z.start,ee=z.count;for(let ie=G,pe=G+ee;ie<pe;ie+=3)M(e.getX(ie+0),e.getX(ie+1),e.getX(ie+2))}const D=new Z,N=new Z,U=new Z,L=new Z;function V(F){U.fromBufferAttribute(r,F),L.copy(U);const B=u[F];D.copy(B),D.sub(U.multiplyScalar(U.dot(B))).normalize(),N.crossVectors(L,B);const G=N.dot(f[F])<0?-1:1;o.setXYZW(F,D.x,D.y,D.z,G)}for(let F=0,B=R.length;F<B;++F){const z=R[F],G=z.start,ee=z.count;for(let ie=G,pe=G+ee;ie<pe;ie+=3)V(e.getX(ie+0)),V(e.getX(ie+1)),V(e.getX(ie+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Yn(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let y=0,b=i.count;y<b;y++)i.setXYZ(y,0,0,0);const r=new Z,a=new Z,o=new Z,u=new Z,f=new Z,d=new Z,m=new Z,g=new Z;if(e)for(let y=0,b=e.count;y<b;y+=3){const _=e.getX(y+0),A=e.getX(y+1),T=e.getX(y+2);r.fromBufferAttribute(n,_),a.fromBufferAttribute(n,A),o.fromBufferAttribute(n,T),m.subVectors(o,a),g.subVectors(r,a),m.cross(g),u.fromBufferAttribute(i,_),f.fromBufferAttribute(i,A),d.fromBufferAttribute(i,T),u.add(m),f.add(m),d.add(m),i.setXYZ(_,u.x,u.y,u.z),i.setXYZ(A,f.x,f.y,f.z),i.setXYZ(T,d.x,d.y,d.z)}else for(let y=0,b=n.count;y<b;y+=3)r.fromBufferAttribute(n,y+0),a.fromBufferAttribute(n,y+1),o.fromBufferAttribute(n,y+2),m.subVectors(o,a),g.subVectors(r,a),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)_r.fromBufferAttribute(e,n),_r.normalize(),e.setXYZ(n,_r.x,_r.y,_r.z)}toNonIndexed(){function e(u,f){const d=u.array,m=u.itemSize,g=u.normalized,y=new d.constructor(f.length*m);let b=0,_=0;for(let A=0,T=f.length;A<T;A++){u.isInterleavedBufferAttribute?b=f[A]*u.data.stride+u.offset:b=f[A]*m;for(let M=0;M<m;M++)y[_++]=d[b++]}return new Yn(y,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new rn,i=this.index.array,r=this.attributes;for(const u in r){const f=r[u],d=e(f,i);n.setAttribute(u,d)}const a=this.morphAttributes;for(const u in a){const f=[],d=a[u];for(let m=0,g=d.length;m<g;m++){const y=d[m],b=e(y,i);f.push(b)}n.morphAttributes[u]=f}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let u=0,f=o.length;u<f;u++){const d=o[u];n.addGroup(d.start,d.count,d.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(e[d]=f[d]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const f in i){const d=i[f];e.data.attributes[f]=d.toJSON(e.data)}const r={};let a=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let g=0,y=d.length;g<y;g++){const b=d[g];m.push(b.toJSON(e.data))}m.length>0&&(r[f]=m,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const d in r){const m=r[d];this.setAttribute(d,m.clone(n))}const a=e.morphAttributes;for(const d in a){const m=[],g=a[d];for(let y=0,b=g.length;y<b;y++)m.push(g[y].clone(n));this.morphAttributes[d]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,m=o.length;d<m;d++){const g=o[d];this.addGroup(g.start,g.count,g.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const w3=new Gt,wh=new jm,cb=new Hr,C3=new Z,fb=new Z,hb=new Z,db=new Z,LE=new Z,pb=new Z,R3=new Z,mb=new Z;class Ki extends En{constructor(e=new rn,n=new Sf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const u=this.morphTargetInfluences;if(a&&u){pb.set(0,0,0);for(let f=0,d=a.length;f<d;f++){const m=u[f],g=a[f];m!==0&&(LE.fromBufferAttribute(g,e),o?pb.addScaledVector(LE,m):pb.addScaledVector(LE.sub(n),m))}n.add(pb)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),cb.copy(i.boundingSphere),cb.applyMatrix4(a),wh.copy(e.ray).recast(e.near),!(cb.containsPoint(wh.origin)===!1&&(wh.intersectSphere(cb,C3)===null||wh.origin.distanceToSquared(C3)>(e.far-e.near)**2))&&(w3.copy(a).invert(),wh.copy(e.ray).applyMatrix4(w3),!(i.boundingBox!==null&&wh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,wh)))}_computeIntersections(e,n,i){let r;const a=this.geometry,o=this.material,u=a.index,f=a.attributes.position,d=a.attributes.uv,m=a.attributes.uv1,g=a.attributes.normal,y=a.groups,b=a.drawRange;if(u!==null)if(Array.isArray(o))for(let _=0,A=y.length;_<A;_++){const T=y[_],M=o[T.materialIndex],R=Math.max(T.start,b.start),D=Math.min(u.count,Math.min(T.start+T.count,b.start+b.count));for(let N=R,U=D;N<U;N+=3){const L=u.getX(N),V=u.getX(N+1),F=u.getX(N+2);r=gb(this,M,e,i,d,m,g,L,V,F),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=T.materialIndex,n.push(r))}}else{const _=Math.max(0,b.start),A=Math.min(u.count,b.start+b.count);for(let T=_,M=A;T<M;T+=3){const R=u.getX(T),D=u.getX(T+1),N=u.getX(T+2);r=gb(this,o,e,i,d,m,g,R,D,N),r&&(r.faceIndex=Math.floor(T/3),n.push(r))}}else if(f!==void 0)if(Array.isArray(o))for(let _=0,A=y.length;_<A;_++){const T=y[_],M=o[T.materialIndex],R=Math.max(T.start,b.start),D=Math.min(f.count,Math.min(T.start+T.count,b.start+b.count));for(let N=R,U=D;N<U;N+=3){const L=N,V=N+1,F=N+2;r=gb(this,M,e,i,d,m,g,L,V,F),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=T.materialIndex,n.push(r))}}else{const _=Math.max(0,b.start),A=Math.min(f.count,b.start+b.count);for(let T=_,M=A;T<M;T+=3){const R=T,D=T+1,N=T+2;r=gb(this,o,e,i,d,m,g,R,D,N),r&&(r.faceIndex=Math.floor(T/3),n.push(r))}}}}function wX(t,e,n,i,r,a,o,u){let f;if(e.side===Oa?f=i.intersectTriangle(o,a,r,!0,u):f=i.intersectTriangle(r,a,o,e.side===ku,u),f===null)return null;mb.copy(u),mb.applyMatrix4(t.matrixWorld);const d=n.ray.origin.distanceTo(mb);return d<n.near||d>n.far?null:{distance:d,point:mb.clone(),object:t}}function gb(t,e,n,i,r,a,o,u,f,d){t.getVertexPosition(u,fb),t.getVertexPosition(f,hb),t.getVertexPosition(d,db);const m=wX(t,e,n,i,fb,hb,db,R3);if(m){const g=new Z;ts.getBarycoord(R3,fb,hb,db,g),r&&(m.uv=ts.getInterpolatedAttribute(r,u,f,d,g,new Ge)),a&&(m.uv1=ts.getInterpolatedAttribute(a,u,f,d,g,new Ge)),o&&(m.normal=ts.getInterpolatedAttribute(o,u,f,d,g,new Z),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:u,b:f,c:d,normal:new Z,materialIndex:0};ts.getNormal(fb,hb,db,y.normal),m.face=y,m.barycoord=g}return m}class _d extends rn{constructor(e=1,n=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const u=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const f=[],d=[],m=[],g=[];let y=0,b=0;_("z","y","x",-1,-1,i,n,e,o,a,0),_("z","y","x",1,-1,i,n,-e,o,a,1),_("x","z","y",1,1,e,i,n,r,o,2),_("x","z","y",1,-1,e,i,-n,r,o,3),_("x","y","z",1,-1,e,n,i,r,a,4),_("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(f),this.setAttribute("position",new Et(d,3)),this.setAttribute("normal",new Et(m,3)),this.setAttribute("uv",new Et(g,2));function _(A,T,M,R,D,N,U,L,V,F,B){const z=N/V,G=U/F,ee=N/2,ie=U/2,pe=L/2,ue=V+1,X=F+1;let Q=0,$=0;const me=new Z;for(let Y=0;Y<X;Y++){const re=Y*G-ie;for(let he=0;he<ue;he++){const Pe=he*z-ee;me[A]=Pe*R,me[T]=re*D,me[M]=pe,d.push(me.x,me.y,me.z),me[A]=0,me[T]=0,me[M]=L>0?1:-1,m.push(me.x,me.y,me.z),g.push(he/V),g.push(1-Y/F),Q+=1}}for(let Y=0;Y<F;Y++)for(let re=0;re<V;re++){const he=y+re+ue*Y,Pe=y+re+ue*(Y+1),je=y+(re+1)+ue*(Y+1),ot=y+(re+1)+ue*Y;f.push(he,Pe,ot),f.push(Pe,je,ot),$+=6}u.addGroup(b,$,B),b+=$,y+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _d(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Tm(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Ca(t){const e={};for(let n=0;n<t.length;n++){const i=Tm(t[n]);for(const r in i)e[r]=i[r]}return e}function CX(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function r4(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:xn.workingColorSpace}const a4={clone:Tm,merge:Ca};var RX=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,DX=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ko extends oa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=RX,this.fragmentShader=DX,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Tm(e.uniforms),this.uniformsGroups=CX(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class o1 extends En{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gt,this.projectionMatrix=new Gt,this.projectionMatrixInverse=new Gt,this.coordinateSystem=As,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const tf=new Z,D3=new Ge,N3=new Ge;class Mr extends o1{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Mm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ad*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mm*2*Math.atan(Math.tan(ad*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){tf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(tf.x,tf.y).multiplyScalar(-e/tf.z),tf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(tf.x,tf.y).multiplyScalar(-e/tf.z)}getViewSize(e,n){return this.getViewBounds(e,D3,N3),n.subVectors(N3,D3)}setViewOffset(e,n,i,r,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ad*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const f=o.fullWidth,d=o.fullHeight;a+=o.offsetX*r/f,n-=o.offsetY*i/d,r*=o.width/f,i*=o.height/d}const u=this.filmOffset;u!==0&&(a+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const zp=-90,Vp=1;class s4 extends En{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Mr(zp,Vp,e,n);r.layers=this.layers,this.add(r);const a=new Mr(zp,Vp,e,n);a.layers=this.layers,this.add(a);const o=new Mr(zp,Vp,e,n);o.layers=this.layers,this.add(o);const u=new Mr(zp,Vp,e,n);u.layers=this.layers,this.add(u);const f=new Mr(zp,Vp,e,n);f.layers=this.layers,this.add(f);const d=new Mr(zp,Vp,e,n);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,a,o,u,f]=n;for(const d of n)this.remove(d);if(e===As)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===Sm)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of n)this.add(d),d.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,u,f,d,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const A=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,a),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,u),e.setRenderTarget(i,3,r),e.render(n,f),e.setRenderTarget(i,4,r),e.render(n,d),i.texture.generateMipmaps=A,e.setRenderTarget(i,5,r),e.render(n,m),e.setRenderTarget(g,y,b),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class J0 extends Ni{constructor(e=[],n=Gu,i,r,a,o,u,f,d,m){super(e,n,i,r,a,o,u,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class o4 extends Zl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new J0(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new _d(5,5,5),a=new Ko({name:"CubemapFromEquirect",uniforms:Tm(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Oa,blending:Bu});a.uniforms.tEquirect.value=n;const o=new Ki(r,a),u=n.minFilter;return n.minFilter===Hl&&(n.minFilter=ur),new s4(1,10,this).update(e,o),n.minFilter=u,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(a)}}class om extends En{constructor(){super(),this.isGroup=!0,this.type="Group"}}const NX={type:"move"};class h_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new om,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new om,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new om,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,o=null;const u=this._targetRay,f=this._grip,d=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const A of e.hand.values()){const T=n.getJointPose(A,i),M=this._getHandJoint(d,A);T!==null&&(M.matrix.fromArray(T.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=T.radius),M.visible=T!==null}const m=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],y=m.position.distanceTo(g.position),b=.02,_=.005;d.inputState.pinching&&y>b+_?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=b-_&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(f.matrix.fromArray(a.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,a.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(a.linearVelocity)):f.hasLinearVelocity=!1,a.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(a.angularVelocity)):f.hasAngularVelocity=!1));u!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(u.matrix.fromArray(r.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,r.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(r.linearVelocity)):u.hasLinearVelocity=!1,r.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(r.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(NX)))}return u!==null&&(u.visible=r!==null),f!==null&&(f.visible=a!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new om;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class l1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new vt(e),this.density=n}clone(){return new l1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class u1{constructor(e,n=1,i=1e3){this.isFog=!0,this.name="",this.color=new vt(e),this.near=n,this.far=i}clone(){return new u1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class aC extends En{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ds,this.environmentIntensity=1,this.environmentRotation=new Ds,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class c1{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=b0,this.updateRanges=[],this.version=0,this.uuid=ws()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ws()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ws()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const wa=new Z;class hd{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)wa.fromBufferAttribute(this,n),wa.applyMatrix4(e),this.setXYZ(n,wa.x,wa.y,wa.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)wa.fromBufferAttribute(this,n),wa.applyNormalMatrix(e),this.setXYZ(n,wa.x,wa.y,wa.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)wa.fromBufferAttribute(this,n),wa.transformDirection(e),this.setXYZ(n,wa.x,wa.y,wa.z);return this}getComponent(e,n){let i=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(i=Ra(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=nn(i,this.array)),this.data.array[e*this.data.stride+this.offset+n]=i,this}setX(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=nn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ra(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ra(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ra(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ra(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=nn(n,this.array),i=nn(i,this.array),r=nn(r,this.array),a=nn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new Yn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new hd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class sC extends oa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Hp;const Av=new Z,Fp=new Z,jp=new Z,kp=new Ge,wv=new Ge,l4=new Gt,vb=new Z,Cv=new Z,yb=new Z,O3=new Ge,IE=new Ge,P3=new Ge;class u4 extends En{constructor(e=new sC){if(super(),this.isSprite=!0,this.type="Sprite",Hp===void 0){Hp=new rn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new c1(n,5);Hp.setIndex([0,1,2,0,2,3]),Hp.setAttribute("position",new hd(i,3,0,!1)),Hp.setAttribute("uv",new hd(i,2,3,!1))}this.geometry=Hp,this.material=e,this.center=new Ge(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fp.setFromMatrixScale(this.matrixWorld),l4.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fp.multiplyScalar(-jp.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;xb(vb.set(-.5,-.5,0),jp,o,Fp,r,a),xb(Cv.set(.5,-.5,0),jp,o,Fp,r,a),xb(yb.set(.5,.5,0),jp,o,Fp,r,a),O3.set(0,0),IE.set(1,0),P3.set(1,1);let u=e.ray.intersectTriangle(vb,Cv,yb,!1,Av);if(u===null&&(xb(Cv.set(-.5,.5,0),jp,o,Fp,r,a),IE.set(0,1),u=e.ray.intersectTriangle(vb,yb,Cv,!1,Av),u===null))return;const f=e.ray.origin.distanceTo(Av);f<e.near||f>e.far||n.push({distance:f,point:Av.clone(),uv:ts.getInterpolation(Av,vb,Cv,yb,O3,IE,P3,new Ge),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function xb(t,e,n,i,r,a){kp.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(wv.x=a*kp.x-r*kp.y,wv.y=r*kp.x+a*kp.y):wv.copy(kp),t.copy(e),t.x+=wv.x,t.y+=wv.y,t.applyMatrix4(l4)}const bb=new Z,U3=new Z;class c4 extends En{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const a=n[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,i=0){n=Math.abs(n);const r=this.levels;let a;for(a=0;a<r.length&&!(n<r[a].distance);a++);return r.splice(a,0,{distance:n,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let i=0;i<n.length;i++)if(n[i].distance===e){const r=n.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),e<a)break}return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){bb.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(bb);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){bb.setFromMatrixPosition(e.matrixWorld),U3.setFromMatrixPosition(this.matrixWorld);const i=bb.distanceTo(U3)/e.zoom;n[0].object.visible=!0;let r,a;for(r=1,a=n.length;r<a;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),i>=o)n[r-1].object.visible=!1,n[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const L3=new Z,I3=new Mn,B3=new Mn,OX=new Z,z3=new Gt,_b=new Z,BE=new Hr,V3=new Gt,zE=new jm;class f4 extends Ki{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=vw,this.bindMatrix=new Gt,this.bindMatrixInverse=new Gt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new aa),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,_b),this.boundingBox.expandByPoint(_b)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Hr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)this.getVertexPosition(i,_b),this.boundingSphere.expandByPoint(_b)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),BE.copy(this.boundingSphere),BE.applyMatrix4(r),e.ray.intersectsSphere(BE)!==!1&&(V3.copy(r).invert(),zE.copy(e.ray).applyMatrix4(V3),!(this.boundingBox!==null&&zE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,zE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Mn,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===vw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Hz?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;I3.fromBufferAttribute(r.attributes.skinIndex,e),B3.fromBufferAttribute(r.attributes.skinWeight,e),L3.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=B3.getComponent(a);if(o!==0){const u=I3.getComponent(a);z3.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),n.addScaledVector(OX.copy(L3).applyMatrix4(z3),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class oC extends En{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yl extends Ni{constructor(e=null,n=1,i=1,r,a,o,u,f,d=Vr,m=Vr,g,y){super(null,o,u,f,d,m,r,a,g,y),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const H3=new Gt,PX=new Gt;class f1{constructor(e=[],n=[]){this.uuid=ws(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Gt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const u=e[a]?e[a].matrixWorld:PX;H3.multiplyMatrices(u,n[a]),H3.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new f1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Yl(n,e,e,ra,is);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let o=n[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new oC),this.bones.push(o),this.boneInverses.push(new Gt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const o=n[r];e.bones.push(o.uuid);const u=i[r];e.boneInverses.push(u.toArray())}return e}}class Am extends Yn{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Gp=new Gt,F3=new Gt,Sb=[],j3=new aa,UX=new Gt,Rv=new Ki,Dv=new Hr;class h4 extends Ki{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Am(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,UX)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new aa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Gp),j3.copy(e.boundingBox).applyMatrix4(Gp),this.boundingBox.union(j3)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Hr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Gp),Dv.copy(e.boundingSphere).applyMatrix4(Gp),this.boundingSphere.union(Dv)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const i=n.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=e*a+1;for(let u=0;u<i.length;u++)i[u]=r[o+u]}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Rv.geometry=this.geometry,Rv.material=this.material,Rv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Dv.copy(this.boundingSphere),Dv.applyMatrix4(i),e.ray.intersectsSphere(Dv)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Gp),F3.multiplyMatrices(i,Gp),Rv.matrixWorld=F3,Rv.raycast(e,Sb);for(let o=0,u=Sb.length;o<u;o++){const f=Sb[o];f.instanceId=a,f.object=this,n.push(f)}Sb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Am(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const i=n.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Yl(new Float32Array(r*this.count),r,this.count,t1,is));const a=this.morphTexture.source.data.data;let o=0;for(let d=0;d<i.length;d++)o+=i[d];const u=this.geometry.morphTargetsRelative?1:1-o,f=r*e;a[f]=u,a.set(i,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const VE=new Z,LX=new Z,IX=new en;class af{constructor(e=new Z(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=VE.subVectors(i,n).cross(LX.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(VE),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||IX.getNormalMatrix(e),r=this.coplanarPoint(VE).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ch=new Hr,BX=new Ge(.5,.5),Mb=new Z;class km{constructor(e=new af,n=new af,i=new af,r=new af,a=new af,o=new af){this.planes=[e,n,i,r,a,o]}set(e,n,i,r,a,o){const u=this.planes;return u[0].copy(e),u[1].copy(n),u[2].copy(i),u[3].copy(r),u[4].copy(a),u[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=As,i=!1){const r=this.planes,a=e.elements,o=a[0],u=a[1],f=a[2],d=a[3],m=a[4],g=a[5],y=a[6],b=a[7],_=a[8],A=a[9],T=a[10],M=a[11],R=a[12],D=a[13],N=a[14],U=a[15];if(r[0].setComponents(d-o,b-m,M-_,U-R).normalize(),r[1].setComponents(d+o,b+m,M+_,U+R).normalize(),r[2].setComponents(d+u,b+g,M+A,U+D).normalize(),r[3].setComponents(d-u,b-g,M-A,U-D).normalize(),i)r[4].setComponents(f,y,T,N).normalize(),r[5].setComponents(d-f,b-y,M-T,U-N).normalize();else if(r[4].setComponents(d-f,b-y,M-T,U-N).normalize(),n===As)r[5].setComponents(d+f,b+y,M+T,U+N).normalize();else if(n===Sm)r[5].setComponents(f,y,T,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ch.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ch.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ch)}intersectsSprite(e){Ch.center.set(0,0,0);const n=BX.distanceTo(e.center);return Ch.radius=.7071067811865476+n,Ch.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ch)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Mb.x=r.normal.x>0?e.max.x:e.min.x,Mb.y=r.normal.y>0?e.max.y:e.min.y,Mb.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Mb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Ll=new Gt,Il=new km;class h1{constructor(){this.coordinateSystem=As}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ll.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Il.setFromProjectionMatrix(Ll,r.coordinateSystem,r.reversedDepth),Il.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ll.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Il.setFromProjectionMatrix(Ll,r.coordinateSystem,r.reversedDepth),Il.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ll.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Il.setFromProjectionMatrix(Ll,r.coordinateSystem,r.reversedDepth),Il.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ll.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Il.setFromProjectionMatrix(Ll,r.coordinateSystem,r.reversedDepth),Il.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let i=0;i<n.cameras.length;i++){const r=n.cameras[i];if(Ll.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Il.setFromProjectionMatrix(Ll,r.coordinateSystem,r.reversedDepth),Il.containsPoint(e))return!0}return!1}clone(){return new h1}}function HE(t,e){return t-e}function zX(t,e){return t.z-e.z}function VX(t,e){return e.z-t.z}class HX{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const u=a[this.index];o.push(u),this.index++,u.start=e,u.count=n,u.z=i,u.index=r}reset(){this.list.length=0,this.index=0}}const Za=new Gt,FX=new vt(1,1,1),k3=new km,jX=new h1,Eb=new aa,Rh=new Hr,Nv=new Z,G3=new Z,kX=new Z,FE=new HX,ta=new Ki,Tb=[];function GX(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)e.setComponent(a+n,o,t.getComponent(a,o))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function Dh(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class d4 extends Ki{constructor(e,n,i=n*2,r){super(new rn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),i=new Yl(n,e,e,ra,is);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),i=new Yl(n,e,e,Q0,qu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),i=new Yl(n,e,e,ra,is);i.colorSpace=xn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const n=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:u,itemSize:f,normalized:d}=o,m=new u.constructor(i*f),g=new Yn(m,f,d);n.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);n.setIndex(new Yn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in n.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=n.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new aa);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Za),this.getBoundingBoxAt(a,Eb).applyMatrix4(Za),e.union(Eb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hr);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let i=0,r=n.length;i<r;i++){if(n[i].active===!1)continue;const a=n[i].geometryIndex;this.getMatrixAt(i,Za),this.getBoundingSphereAt(a,Rh).applyMatrix4(Za),e.union(Rh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(HE),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;Za.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(FX.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,n=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(HE),f=this._availableGeometryIds.shift(),a[f]=r):(f=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(f,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,f}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=n.getIndex(),u=this._geometryInfo[e];if(r&&o.count>u.reservedIndexCount||n.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=u.vertexStart,d=u.reservedVertexCount;u.vertexCount=n.getAttribute("position").count;for(const m in i.attributes){const g=n.getAttribute(m),y=i.getAttribute(m);GX(g,y,f);const b=g.itemSize;for(let _=g.count,A=d;_<A;_++){const T=f+_;for(let M=0;M<b;M++)y.setComponent(T,M,0)}y.needsUpdate=!0,y.addUpdateRange(f*b,d*b)}if(r){const m=u.indexStart,g=u.reservedIndexCount;u.indexCount=n.getIndex().count;for(let y=0;y<o.count;y++)a.setX(m+y,f+o.getX(y));for(let y=o.count,b=g;y<b;y++)a.setX(m+y,f);a.needsUpdate=!0,a.addUpdateRange(m,u.reservedIndexCount)}return u.start=r?u.indexStart:u.vertexStart,u.count=r?u.indexCount:u.vertexCount,u.boundingBox=null,n.boundingBox!==null&&(u.boundingBox=n.boundingBox.clone()),u.boundingSphere=null,n.boundingSphere!==null&&(u.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const i=this._geometryInfo,r=i.map((o,u)=>u).sort((o,u)=>i[o].vertexStart-i[u].vertexStart),a=this.geometry;for(let o=0,u=i.length;o<u;o++){const f=r[o],d=i[f];if(d.active!==!1){if(a.index!==null){if(d.indexStart!==n){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=d,b=a.index,_=b.array,A=e-g;for(let T=m;T<m+y;T++)_[T]=_[T]+A;b.array.copyWithin(n,m,m+y),b.addUpdateRange(n,y),d.indexStart=n}n+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=d,y=a.attributes;for(const b in y){const _=y[b],{array:A,itemSize:T}=_;A.copyWithin(e*T,m*T,(m+g)*T),_.addUpdateRange(e*T,g*T)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=a.index?d.indexStart:d.vertexStart,this._nextIndexStart=a.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new aa,o=i.index,u=i.attributes.position;for(let f=r.start,d=r.start+r.count;f<d;f++){let m=f;o&&(m=o.getX(m)),a.expandByPoint(Nv.fromBufferAttribute(u,m))}r.boundingBox=a}return n.copy(r.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Hr;this.getBoundingBoxAt(e,Eb),Eb.getCenter(a.center);const o=i.index,u=i.attributes.position;let f=0;for(let d=r.start,m=r.start+r.count;d<m;d++){let g=d;o&&(g=o.getX(g)),Nv.fromBufferAttribute(u,g),f=Math.max(f,a.center.distanceToSquared(Nv))}a.radius=Math.sqrt(f),r.boundingSphere=a}return n.copy(r.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return n.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return n.vertexStart=i.vertexStart,n.vertexCount=i.vertexCount,n.reservedVertexCount=i.reservedVertexCount,n.indexStart=i.indexStart,n.indexCount=i.indexCount,n.reservedIndexCount=i.reservedIndexCount,n.start=i.start,n.count=i.count,n}setInstanceCount(e){const n=this._availableInstanceIds,i=this._instanceInfo;for(n.sort(HE);n[n.length-1]===i.length-1;)i.pop(),n.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Dh(this._multiDrawCounts,r),Dh(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,u=this._matricesTexture,f=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Dh(o.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),Dh(u.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),Dh(f.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(f=>f.indexStart+f.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new rn,this._initializeGeometry(a));const o=this.geometry;a.index&&Dh(a.index.array,o.index.array);for(const u in a.attributes)Dh(a.attributes[u].array,o.attributes[u].array)}raycast(e,n){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;ta.material=this.material,ta.geometry.index=o.index,ta.geometry.attributes=o.attributes,ta.geometry.boundingBox===null&&(ta.geometry.boundingBox=new aa),ta.geometry.boundingSphere===null&&(ta.geometry.boundingSphere=new Hr);for(let u=0,f=i.length;u<f;u++){if(!i[u].visible||!i[u].active)continue;const d=i[u].geometryIndex,m=r[d];ta.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,ta.matrixWorld).premultiply(a),this.getBoundingBoxAt(d,ta.geometry.boundingBox),this.getBoundingSphereAt(d,ta.geometry.boundingSphere),ta.raycast(e,Tb);for(let g=0,y=Tb.length;g<y;g++){const b=Tb[g];b.object=this,b.batchId=u,n.push(b)}Tb.length=0}ta.material=null,ta.geometry.index=null,ta.geometry.attributes={},ta.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),u=o===null?1:o.array.BYTES_PER_ELEMENT,f=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,_=b.image.data,A=i.isArrayCamera?jX:k3;y&&!i.isArrayCamera&&(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),k3.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth));let T=0;if(this.sortObjects){Za.copy(this.matrixWorld).invert(),Nv.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Za),G3.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Za);for(let D=0,N=f.length;D<N;D++)if(f[D].visible&&f[D].active){const U=f[D].geometryIndex;this.getMatrixAt(D,Za),this.getBoundingSphereAt(U,Rh).applyMatrix4(Za);let L=!1;if(y&&(L=!A.intersectsSphere(Rh,i)),!L){const V=g[U],F=kX.subVectors(Rh.center,Nv).dot(G3);FE.push(V.start,V.count,F,D)}}const M=FE.list,R=this.customSort;R===null?M.sort(a.transparent?VX:zX):R.call(this,M,i);for(let D=0,N=M.length;D<N;D++){const U=M[D];d[T]=U.start*u,m[T]=U.count,_[T]=U.index,T++}FE.reset()}else for(let M=0,R=f.length;M<R;M++)if(f[M].visible&&f[M].active){const D=f[M].geometryIndex;let N=!1;if(y&&(this.getMatrixAt(M,Za),this.getBoundingSphereAt(D,Rh).applyMatrix4(Za),N=!A.intersectsSphere(Rh,i)),!N){const U=g[D];d[T]=U.start*u,m[T]=U.count,_[T]=M,T++}}b.needsUpdate=!0,this._multiDrawCount=T,this._visibilityChanged=!1}onBeforeShadow(e,n,i,r,a,o){this.onBeforeRender(e,null,r,a,o)}}class Pa extends oa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const sS=new Z,oS=new Z,q3=new Gt,Ov=new jm,Ab=new Hr,jE=new Z,X3=new Z;class xf extends En{constructor(e=new rn,n=new Pa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)sS.fromBufferAttribute(n,r-1),oS.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=sS.distanceTo(oS);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ab.copy(i.boundingSphere),Ab.applyMatrix4(r),Ab.radius+=a,e.ray.intersectsSphere(Ab)===!1)return;q3.copy(r).invert(),Ov.copy(e.ray).applyMatrix4(q3);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=u*u,d=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const b=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let A=b,T=_-1;A<T;A+=d){const M=m.getX(A),R=m.getX(A+1),D=wb(this,e,Ov,f,M,R,A);D&&n.push(D)}if(this.isLineLoop){const A=m.getX(_-1),T=m.getX(b),M=wb(this,e,Ov,f,A,T,_-1);M&&n.push(M)}}else{const b=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let A=b,T=_-1;A<T;A+=d){const M=wb(this,e,Ov,f,A,A+1,A);M&&n.push(M)}if(this.isLineLoop){const A=wb(this,e,Ov,f,_-1,b,_-1);A&&n.push(A)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}}function wb(t,e,n,i,r,a,o){const u=t.geometry.attributes.position;if(sS.fromBufferAttribute(u,r),oS.fromBufferAttribute(u,a),n.distanceSqToSegment(sS,oS,jE,X3)>i)return;jE.applyMatrix4(t.matrixWorld);const d=e.ray.origin.distanceTo(jE);if(!(d<e.near||d>e.far))return{distance:d,point:X3.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const W3=new Z,Y3=new Z;class $l extends xf{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)W3.fromBufferAttribute(n,r),Y3.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+W3.distanceTo(Y3);e.setAttribute("lineDistance",new Et(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class p4 extends xf{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class d1 extends oa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const K3=new Gt,bw=new jm,Cb=new Hr,Rb=new Z;let m4=class extends En{constructor(e=new rn,n=new d1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Cb.copy(i.boundingSphere),Cb.applyMatrix4(r),Cb.radius+=a,e.ray.intersectsSphere(Cb)===!1)return;K3.copy(r).invert(),bw.copy(e.ray).applyMatrix4(K3);const u=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=u*u,d=i.index,g=i.attributes.position;if(d!==null){const y=Math.max(0,o.start),b=Math.min(d.count,o.start+o.count);for(let _=y,A=b;_<A;_++){const T=d.getX(_);Rb.fromBufferAttribute(g,T),Z3(Rb,T,f,r,e,n,this)}}else{const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let _=y,A=b;_<A;_++)Rb.fromBufferAttribute(g,_),Z3(Rb,_,f,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const u=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=a}}}}};function Z3(t,e,n,i,r,a,o){const u=bw.distanceSqToPoint(t);if(u<n){const f=new Z;bw.closestPointToPoint(t,f),f.applyMatrix4(i);const d=r.ray.origin.distanceTo(f);if(d<r.near||d>r.far)return;a.push({distance:d,distanceToRay:Math.sqrt(u),point:f,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class g4 extends Ni{constructor(e,n,i,r,a=ur,o=ur,u,f,d){super(e,n,i,r,a,o,u,f,d),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function g(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class qX extends g4{constructor(e,n,i,r,a,o,u,f){super({},e,n,i,r,a,o,u,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class XX extends Ni{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Vr,this.minFilter=Vr,this.generateMipmaps=!1,this.needsUpdate=!0}}class p1 extends Ni{constructor(e,n,i,r,a,o,u,f,d,m,g,y){super(null,o,u,f,d,m,r,a,g,y),this.isCompressedTexture=!0,this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class WX extends p1{constructor(e,n,i,r,a,o){super(e,n,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ro,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class YX extends p1{constructor(e,n,i){super(void 0,e[0].width,e[0].height,n,i,Gu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class KX extends Ni{constructor(e,n,i,r,a,o,u,f,d){super(e,n,i,r,a,o,u,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class lC extends Ni{constructor(e,n,i=qu,r,a,o,u=Vr,f=Vr,d,m=bm,g=1){if(m!==bm&&m!==_m)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:n,depth:g};super(y,r,a,o,u,f,m,i,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new ff(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class uC extends Ni{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class m1 extends rn{constructor(e=1,n=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:i,radialSegments:r,heightSegments:a},n=Math.max(0,n),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],u=[],f=[],d=[],m=n/2,g=Math.PI/2*e,y=n,b=2*g+y,_=i*2+a,A=r+1,T=new Z,M=new Z;for(let R=0;R<=_;R++){let D=0,N=0,U=0,L=0;if(R<=i){const B=R/i,z=B*Math.PI/2;N=-m-e*Math.cos(z),U=e*Math.sin(z),L=-e*Math.cos(z),D=B*g}else if(R<=i+a){const B=(R-i)/a;N=-m+B*n,U=e,L=0,D=g+B*y}else{const B=(R-i-a)/i,z=B*Math.PI/2;N=m+e*Math.sin(z),U=e*Math.cos(z),L=e*Math.sin(z),D=g+y+B*g}const V=Math.max(0,Math.min(1,D/b));let F=0;R===0?F=.5/r:R===_&&(F=-.5/r);for(let B=0;B<=r;B++){const z=B/r,G=z*Math.PI*2,ee=Math.sin(G),ie=Math.cos(G);M.x=-U*ie,M.y=N,M.z=U*ee,u.push(M.x,M.y,M.z),T.set(-U*ie,L,U*ee),T.normalize(),f.push(T.x,T.y,T.z),d.push(z+F,V)}if(R>0){const B=(R-1)*A;for(let z=0;z<r;z++){const G=B+z,ee=B+z+1,ie=R*A+z,pe=R*A+z+1;o.push(G,ee,ie),o.push(ee,pe,ie)}}}this.setIndex(o),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m1(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class g1 extends rn{constructor(e=1,n=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const a=[],o=[],u=[],f=[],d=new Z,m=new Ge;o.push(0,0,0),u.push(0,0,1),f.push(.5,.5);for(let g=0,y=3;g<=n;g++,y+=3){const b=i+g/n*r;d.x=e*Math.cos(b),d.y=e*Math.sin(b),o.push(d.x,d.y,d.z),u.push(0,0,1),m.x=(o[y]/e+1)/2,m.y=(o[y+1]/e+1)/2,f.push(m.x,m.y)}for(let g=1;g<=n;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Et(o,3)),this.setAttribute("normal",new Et(u,3)),this.setAttribute("uv",new Et(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class $0 extends rn{constructor(e=1,n=1,i=1,r=32,a=1,o=!1,u=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:u,thetaLength:f};const d=this;r=Math.floor(r),a=Math.floor(a);const m=[],g=[],y=[],b=[];let _=0;const A=[],T=i/2;let M=0;R(),o===!1&&(e>0&&D(!0),n>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new Et(g,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(b,2));function R(){const N=new Z,U=new Z;let L=0;const V=(n-e)/i;for(let F=0;F<=a;F++){const B=[],z=F/a,G=z*(n-e)+e;for(let ee=0;ee<=r;ee++){const ie=ee/r,pe=ie*f+u,ue=Math.sin(pe),X=Math.cos(pe);U.x=G*ue,U.y=-z*i+T,U.z=G*X,g.push(U.x,U.y,U.z),N.set(ue,V,X).normalize(),y.push(N.x,N.y,N.z),b.push(ie,1-z),B.push(_++)}A.push(B)}for(let F=0;F<r;F++)for(let B=0;B<a;B++){const z=A[B][F],G=A[B+1][F],ee=A[B+1][F+1],ie=A[B][F+1];(e>0||B!==0)&&(m.push(z,G,ie),L+=3),(n>0||B!==a-1)&&(m.push(G,ee,ie),L+=3)}d.addGroup(M,L,0),M+=L}function D(N){const U=_,L=new Ge,V=new Z;let F=0;const B=N===!0?e:n,z=N===!0?1:-1;for(let ee=1;ee<=r;ee++)g.push(0,T*z,0),y.push(0,z,0),b.push(.5,.5),_++;const G=_;for(let ee=0;ee<=r;ee++){const pe=ee/r*f+u,ue=Math.cos(pe),X=Math.sin(pe);V.x=B*X,V.y=T*z,V.z=B*ue,g.push(V.x,V.y,V.z),y.push(0,z,0),L.x=ue*.5+.5,L.y=X*.5*z+.5,b.push(L.x,L.y),_++}for(let ee=0;ee<r;ee++){const ie=U+ee,pe=G+ee;N===!0?m.push(pe,pe+1,ie):m.push(pe+1,pe,ie),F+=3}d.addGroup(M,F,N===!0?1:2),M+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ey extends $0{constructor(e=1,n=1,i=32,r=1,a=!1,o=0,u=Math.PI*2){super(0,e,n,i,r,a,o,u),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:u}}static fromJSON(e){return new ey(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Mf extends rn{constructor(e=[],n=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const a=[],o=[];u(r),d(i),m(),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(a.slice(),3)),this.setAttribute("uv",new Et(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function u(R){const D=new Z,N=new Z,U=new Z;for(let L=0;L<n.length;L+=3)b(n[L+0],D),b(n[L+1],N),b(n[L+2],U),f(D,N,U,R)}function f(R,D,N,U){const L=U+1,V=[];for(let F=0;F<=L;F++){V[F]=[];const B=R.clone().lerp(N,F/L),z=D.clone().lerp(N,F/L),G=L-F;for(let ee=0;ee<=G;ee++)ee===0&&F===L?V[F][ee]=B:V[F][ee]=B.clone().lerp(z,ee/G)}for(let F=0;F<L;F++)for(let B=0;B<2*(L-F)-1;B++){const z=Math.floor(B/2);B%2===0?(y(V[F][z+1]),y(V[F+1][z]),y(V[F][z])):(y(V[F][z+1]),y(V[F+1][z+1]),y(V[F+1][z]))}}function d(R){const D=new Z;for(let N=0;N<a.length;N+=3)D.x=a[N+0],D.y=a[N+1],D.z=a[N+2],D.normalize().multiplyScalar(R),a[N+0]=D.x,a[N+1]=D.y,a[N+2]=D.z}function m(){const R=new Z;for(let D=0;D<a.length;D+=3){R.x=a[D+0],R.y=a[D+1],R.z=a[D+2];const N=T(R)/2/Math.PI+.5,U=M(R)/Math.PI+.5;o.push(N,1-U)}_(),g()}function g(){for(let R=0;R<o.length;R+=6){const D=o[R+0],N=o[R+2],U=o[R+4],L=Math.max(D,N,U),V=Math.min(D,N,U);L>.9&&V<.1&&(D<.2&&(o[R+0]+=1),N<.2&&(o[R+2]+=1),U<.2&&(o[R+4]+=1))}}function y(R){a.push(R.x,R.y,R.z)}function b(R,D){const N=R*3;D.x=e[N+0],D.y=e[N+1],D.z=e[N+2]}function _(){const R=new Z,D=new Z,N=new Z,U=new Z,L=new Ge,V=new Ge,F=new Ge;for(let B=0,z=0;B<a.length;B+=9,z+=6){R.set(a[B+0],a[B+1],a[B+2]),D.set(a[B+3],a[B+4],a[B+5]),N.set(a[B+6],a[B+7],a[B+8]),L.set(o[z+0],o[z+1]),V.set(o[z+2],o[z+3]),F.set(o[z+4],o[z+5]),U.copy(R).add(D).add(N).divideScalar(3);const G=T(U);A(L,z+0,R,G),A(V,z+2,D,G),A(F,z+4,N,G)}}function A(R,D,N,U){U<0&&R.x===1&&(o[D]=R.x-1),N.x===0&&N.z===0&&(o[D]=U/2/Math.PI+.5)}function T(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mf(e.vertices,e.indices,e.radius,e.details)}}class v1 extends Mf{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new v1(e.radius,e.detail)}}const Db=new Z,Nb=new Z,kE=new Z,Ob=new ts;class v4 extends rn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),a=Math.cos(ad*n),o=e.getIndex(),u=e.getAttribute("position"),f=o?o.count:u.count,d=[0,0,0],m=["a","b","c"],g=new Array(3),y={},b=[];for(let _=0;_<f;_+=3){o?(d[0]=o.getX(_),d[1]=o.getX(_+1),d[2]=o.getX(_+2)):(d[0]=_,d[1]=_+1,d[2]=_+2);const{a:A,b:T,c:M}=Ob;if(A.fromBufferAttribute(u,d[0]),T.fromBufferAttribute(u,d[1]),M.fromBufferAttribute(u,d[2]),Ob.getNormal(kE),g[0]=`${Math.round(A.x*r)},${Math.round(A.y*r)},${Math.round(A.z*r)}`,g[1]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,g[2]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let R=0;R<3;R++){const D=(R+1)%3,N=g[R],U=g[D],L=Ob[m[R]],V=Ob[m[D]],F=`${N}_${U}`,B=`${U}_${N}`;B in y&&y[B]?(kE.dot(y[B].normal)<=a&&(b.push(L.x,L.y,L.z),b.push(V.x,V.y,V.z)),y[B]=null):F in y||(y[F]={index0:d[R],index1:d[D],normal:kE.clone()})}}for(const _ in y)if(y[_]){const{index0:A,index1:T}=y[_];Db.fromBufferAttribute(u,A),Nb.fromBufferAttribute(u,T),b.push(Db.x,Db.y,Db.z),b.push(Nb.x,Nb.y,Nb.z)}this.setAttribute("position",new Et(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class $o{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(r),n.push(a),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const i=this.getLengths();let r=0;const a=i.length;let o;n?o=n:o=e*i[a-1];let u=0,f=a-1,d;for(;u<=f;)if(r=Math.floor(u+(f-u)/2),d=i[r]-o,d<0)u=r+1;else if(d>0)f=r-1;else{f=r;break}if(r=f,i[r]===o)return r/(a-1);const m=i[r],y=i[r+1]-m,b=(o-m)/y;return(r+b)/(a-1)}getTangent(e,n){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),u=this.getPoint(a),f=n||(o.isVector2?new Ge:new Z);return f.copy(u).sub(o).normalize(),f}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n=!1){const i=new Z,r=[],a=[],o=[],u=new Z,f=new Gt;for(let b=0;b<=e;b++){const _=b/e;r[b]=this.getTangentAt(_,new Z)}a[0]=new Z,o[0]=new Z;let d=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);m<=d&&(d=m,i.set(1,0,0)),g<=d&&(d=g,i.set(0,1,0)),y<=d&&i.set(0,0,1),u.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],u),o[0].crossVectors(r[0],a[0]);for(let b=1;b<=e;b++){if(a[b]=a[b-1].clone(),o[b]=o[b-1].clone(),u.crossVectors(r[b-1],r[b]),u.length()>Number.EPSILON){u.normalize();const _=Math.acos(kt(r[b-1].dot(r[b]),-1,1));a[b].applyMatrix4(f.makeRotationAxis(u,_))}o[b].crossVectors(r[b],a[b])}if(n===!0){let b=Math.acos(kt(a[0].dot(a[e]),-1,1));b/=e,r[0].dot(u.crossVectors(a[0],a[e]))>0&&(b=-b);for(let _=1;_<=e;_++)a[_].applyMatrix4(f.makeRotationAxis(r[_],b*_)),o[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class y1 extends $o{constructor(e=0,n=0,i=1,r=1,a=0,o=Math.PI*2,u=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=u,this.aRotation=f}getPoint(e,n=new Ge){const i=n,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const u=this.aStartAngle+e*a;let f=this.aX+this.xRadius*Math.cos(u),d=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=f-this.aX,b=d-this.aY;f=y*m-b*g+this.aX,d=y*g+b*m+this.aY}return i.set(f,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class y4 extends y1{constructor(e,n,i,r,a,o){super(e,n,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function cC(){let t=0,e=0,n=0,i=0;function r(a,o,u,f){t=a,e=u,n=-3*a+3*o-2*u-f,i=2*a-2*o+u+f}return{initCatmullRom:function(a,o,u,f,d){r(o,u,d*(u-a),d*(f-o))},initNonuniformCatmullRom:function(a,o,u,f,d,m,g){let y=(o-a)/d-(u-a)/(d+m)+(u-o)/m,b=(u-o)/m-(f-o)/(m+g)+(f-u)/g;y*=m,b*=m,r(o,u,y,b)},calc:function(a){const o=a*a,u=o*a;return t+e*a+n*o+i*u}}}const Pb=new Z,GE=new cC,qE=new cC,XE=new cC;class x4 extends $o{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new Z){const i=n,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e;let u=Math.floor(o),f=o-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/a)+1)*a:f===0&&u===a-1&&(u=a-2,f=1);let d,m;this.closed||u>0?d=r[(u-1)%a]:(Pb.subVectors(r[0],r[1]).add(r[0]),d=Pb);const g=r[u%a],y=r[(u+1)%a];if(this.closed||u+2<a?m=r[(u+2)%a]:(Pb.subVectors(r[a-1],r[a-2]).add(r[a-1]),m=Pb),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let _=Math.pow(d.distanceToSquared(g),b),A=Math.pow(g.distanceToSquared(y),b),T=Math.pow(y.distanceToSquared(m),b);A<1e-4&&(A=1),_<1e-4&&(_=A),T<1e-4&&(T=A),GE.initNonuniformCatmullRom(d.x,g.x,y.x,m.x,_,A,T),qE.initNonuniformCatmullRom(d.y,g.y,y.y,m.y,_,A,T),XE.initNonuniformCatmullRom(d.z,g.z,y.z,m.z,_,A,T)}else this.curveType==="catmullrom"&&(GE.initCatmullRom(d.x,g.x,y.x,m.x,this.tension),qE.initCatmullRom(d.y,g.y,y.y,m.y,this.tension),XE.initCatmullRom(d.z,g.z,y.z,m.z,this.tension));return i.set(GE.calc(f),qE.calc(f),XE.calc(f)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Z().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Q3(t,e,n,i,r){const a=(i-e)*.5,o=(r-n)*.5,u=t*t,f=t*u;return(2*n-2*i+a+o)*f+(-3*n+3*i-2*a-o)*u+a*t+n}function ZX(t,e){const n=1-t;return n*n*e}function QX(t,e){return 2*(1-t)*t*e}function JX(t,e){return t*t*e}function i0(t,e,n,i){return ZX(t,e)+QX(t,n)+JX(t,i)}function $X(t,e){const n=1-t;return n*n*n*e}function eW(t,e){const n=1-t;return 3*n*n*t*e}function tW(t,e){return 3*(1-t)*t*t*e}function nW(t,e){return t*t*t*e}function r0(t,e,n,i,r){return $X(t,e)+eW(t,n)+tW(t,i)+nW(t,r)}class fC extends $o{constructor(e=new Ge,n=new Ge,i=new Ge,r=new Ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Ge){const i=n,r=this.v0,a=this.v1,o=this.v2,u=this.v3;return i.set(r0(e,r.x,a.x,o.x,u.x),r0(e,r.y,a.y,o.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class b4 extends $o{constructor(e=new Z,n=new Z,i=new Z,r=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Z){const i=n,r=this.v0,a=this.v1,o=this.v2,u=this.v3;return i.set(r0(e,r.x,a.x,o.x,u.x),r0(e,r.y,a.y,o.y,u.y),r0(e,r.z,a.z,o.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hC extends $o{constructor(e=new Ge,n=new Ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ge){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ge){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _4 extends $o{constructor(e=new Z,n=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Z){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Z){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dC extends $o{constructor(e=new Ge,n=new Ge,i=new Ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Ge){const i=n,r=this.v0,a=this.v1,o=this.v2;return i.set(i0(e,r.x,a.x,o.x),i0(e,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pC extends $o{constructor(e=new Z,n=new Z,i=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Z){const i=n,r=this.v0,a=this.v1,o=this.v2;return i.set(i0(e,r.x,a.x,o.x),i0(e,r.y,a.y,o.y),i0(e,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mC extends $o{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ge){const i=n,r=this.points,a=(r.length-1)*e,o=Math.floor(a),u=a-o,f=r[o===0?o:o-1],d=r[o],m=r[o>r.length-2?r.length-1:o+1],g=r[o>r.length-3?r.length-1:o+2];return i.set(Q3(u,f.x,d.x,m.x,g.x),Q3(u,f.y,d.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Ge().fromArray(r))}return this}}var lS=Object.freeze({__proto__:null,ArcCurve:y4,CatmullRomCurve3:x4,CubicBezierCurve:fC,CubicBezierCurve3:b4,EllipseCurve:y1,LineCurve:hC,LineCurve3:_4,QuadraticBezierCurve:dC,QuadraticBezierCurve3:pC,SplineCurve:mC});class S4 extends $o{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new lS[i](n,e))}return this}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,u=this.curves[a],f=u.getLength(),d=f===0?0:1-o/f;return u.getPointAt(d,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],u=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,f=o.getPoints(u);for(let d=0;d<f.length;d++){const m=f[d];i&&i.equals(m)||(n.push(m),i=m)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new lS[r.type]().fromJSON(r))}return this}}class uS extends S4{constructor(e){super(),this.type="Path",this.currentPoint=new Ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new hC(this.currentPoint.clone(),new Ge(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const a=new dC(this.currentPoint.clone(),new Ge(e,n),new Ge(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,a,o){const u=new fC(this.currentPoint.clone(),new Ge(e,n),new Ge(i,r),new Ge(a,o));return this.curves.push(u),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new mC(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,a,o){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+u,n+f,i,r,a,o),this}absarc(e,n,i,r,a,o){return this.absellipse(e,n,i,i,r,a,o),this}ellipse(e,n,i,r,a,o,u,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+d,n+m,i,r,a,o,u,f),this}absellipse(e,n,i,r,a,o,u,f){const d=new y1(e,n,i,r,a,o,u,f);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class sd extends uS{constructor(e){super(e),this.uuid=ws(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new uS().fromJSON(r))}return this}}function iW(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let a=M4(t,0,r,n,!0);const o=[];if(!a||a.next===a.prev)return o;let u,f,d;if(i&&(a=lW(t,e,a,n)),t.length>80*n){u=1/0,f=1/0;let m=-1/0,g=-1/0;for(let y=n;y<r;y+=n){const b=t[y],_=t[y+1];b<u&&(u=b),_<f&&(f=_),b>m&&(m=b),_>g&&(g=_)}d=Math.max(m-u,g-f),d=d!==0?32767/d:0}return M0(a,o,n,u,f,d,0),o}function M4(t,e,n,i,r){let a;if(r===xW(t,e,n,i)>0)for(let o=e;o<n;o+=i)a=J3(o/i|0,t[o],t[o+1],a);else for(let o=n-i;o>=e;o-=i)a=J3(o/i|0,t[o],t[o+1],a);return a&&wm(a,a.next)&&(T0(a),a=a.next),a}function dd(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(wm(n,n.next)||_i(n.prev,n,n.next)===0)){if(T0(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function M0(t,e,n,i,r,a,o){if(!t)return;!o&&a&&dW(t,i,r,a);let u=t;for(;t.prev!==t.next;){const f=t.prev,d=t.next;if(a?aW(t,i,r,a):rW(t)){e.push(f.i,t.i,d.i),T0(t),t=d.next,u=d.next;continue}if(t=d,t===u){o?o===1?(t=sW(dd(t),e),M0(t,e,n,i,r,a,2)):o===2&&oW(t,e,n,i,r,a):M0(dd(t),e,n,i,r,a,1);break}}}function rW(t){const e=t.prev,n=t,i=t.next;if(_i(e,n,i)>=0)return!1;const r=e.x,a=n.x,o=i.x,u=e.y,f=n.y,d=i.y,m=Math.min(r,a,o),g=Math.min(u,f,d),y=Math.max(r,a,o),b=Math.max(u,f,d);let _=i.next;for(;_!==e;){if(_.x>=m&&_.x<=y&&_.y>=g&&_.y<=b&&Fv(r,u,a,f,o,d,_.x,_.y)&&_i(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function aW(t,e,n,i){const r=t.prev,a=t,o=t.next;if(_i(r,a,o)>=0)return!1;const u=r.x,f=a.x,d=o.x,m=r.y,g=a.y,y=o.y,b=Math.min(u,f,d),_=Math.min(m,g,y),A=Math.max(u,f,d),T=Math.max(m,g,y),M=_w(b,_,e,n,i),R=_w(A,T,e,n,i);let D=t.prevZ,N=t.nextZ;for(;D&&D.z>=M&&N&&N.z<=R;){if(D.x>=b&&D.x<=A&&D.y>=_&&D.y<=T&&D!==r&&D!==o&&Fv(u,m,f,g,d,y,D.x,D.y)&&_i(D.prev,D,D.next)>=0||(D=D.prevZ,N.x>=b&&N.x<=A&&N.y>=_&&N.y<=T&&N!==r&&N!==o&&Fv(u,m,f,g,d,y,N.x,N.y)&&_i(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;D&&D.z>=M;){if(D.x>=b&&D.x<=A&&D.y>=_&&D.y<=T&&D!==r&&D!==o&&Fv(u,m,f,g,d,y,D.x,D.y)&&_i(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;N&&N.z<=R;){if(N.x>=b&&N.x<=A&&N.y>=_&&N.y<=T&&N!==r&&N!==o&&Fv(u,m,f,g,d,y,N.x,N.y)&&_i(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function sW(t,e){let n=t;do{const i=n.prev,r=n.next.next;!wm(i,r)&&T4(i,n,n.next,r)&&E0(i,r)&&E0(r,i)&&(e.push(i.i,n.i,r.i),T0(n),T0(n.next),n=t=r),n=n.next}while(n!==t);return dd(n)}function oW(t,e,n,i,r,a){let o=t;do{let u=o.next.next;for(;u!==o.prev;){if(o.i!==u.i&&gW(o,u)){let f=A4(o,u);o=dd(o,o.next),f=dd(f,f.next),M0(o,e,n,i,r,a,0),M0(f,e,n,i,r,a,0);return}u=u.next}o=o.next}while(o!==t)}function lW(t,e,n,i){const r=[];for(let a=0,o=e.length;a<o;a++){const u=e[a]*i,f=a<o-1?e[a+1]*i:t.length,d=M4(t,u,f,i,!1);d===d.next&&(d.steiner=!0),r.push(mW(d))}r.sort(uW);for(let a=0;a<r.length;a++)n=cW(r[a],n);return n}function uW(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const i=(t.next.y-t.y)/(t.next.x-t.x),r=(e.next.y-e.y)/(e.next.x-e.x);n=i-r}return n}function cW(t,e){const n=fW(t,e);if(!n)return e;const i=A4(n,t);return dd(i,i.next),dd(n,n.next)}function fW(t,e){let n=e;const i=t.x,r=t.y;let a=-1/0,o;if(wm(t,n))return n;do{if(wm(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const g=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=i&&g>a&&(a=g,o=n.x<n.next.x?n:n.next,g===i))return o}n=n.next}while(n!==e);if(!o)return null;const u=o,f=o.x,d=o.y;let m=1/0;n=o;do{if(i>=n.x&&n.x>=f&&i!==n.x&&E4(r<d?i:a,r,f,d,r<d?a:i,r,n.x,n.y)){const g=Math.abs(r-n.y)/(i-n.x);E0(n,t)&&(g<m||g===m&&(n.x>o.x||n.x===o.x&&hW(o,n)))&&(o=n,m=g)}n=n.next}while(n!==u);return o}function hW(t,e){return _i(t.prev,t,e.prev)<0&&_i(e.next,t,t.next)<0}function dW(t,e,n,i){let r=t;do r.z===0&&(r.z=_w(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,pW(r)}function pW(t){let e,n=1;do{let i=t,r;t=null;let a=null;for(e=0;i;){e++;let o=i,u=0;for(let d=0;d<n&&(u++,o=o.nextZ,!!o);d++);let f=n;for(;u>0||f>0&&o;)u!==0&&(f===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,u--):(r=o,o=o.nextZ,f--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=o}a.nextZ=null,n*=2}while(e>1);return t}function _w(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function mW(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function E4(t,e,n,i,r,a,o,u){return(r-o)*(e-u)>=(t-o)*(a-u)&&(t-o)*(i-u)>=(n-o)*(e-u)&&(n-o)*(a-u)>=(r-o)*(i-u)}function Fv(t,e,n,i,r,a,o,u){return!(t===o&&e===u)&&E4(t,e,n,i,r,a,o,u)}function gW(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!vW(t,e)&&(E0(t,e)&&E0(e,t)&&yW(t,e)&&(_i(t.prev,t,e.prev)||_i(t,e.prev,e))||wm(t,e)&&_i(t.prev,t,t.next)>0&&_i(e.prev,e,e.next)>0)}function _i(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function wm(t,e){return t.x===e.x&&t.y===e.y}function T4(t,e,n,i){const r=Lb(_i(t,e,n)),a=Lb(_i(t,e,i)),o=Lb(_i(n,i,t)),u=Lb(_i(n,i,e));return!!(r!==a&&o!==u||r===0&&Ub(t,n,e)||a===0&&Ub(t,i,e)||o===0&&Ub(n,t,i)||u===0&&Ub(n,e,i))}function Ub(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Lb(t){return t>0?1:t<0?-1:0}function vW(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&T4(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function E0(t,e){return _i(t.prev,t,t.next)<0?_i(t,e,t.next)>=0&&_i(t,t.prev,e)>=0:_i(t,e,t.prev)<0||_i(t,t.next,e)<0}function yW(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function A4(t,e){const n=Sw(t.i,t.x,t.y),i=Sw(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function J3(t,e,n,i){const r=Sw(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function T0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Sw(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function xW(t,e,n,i){let r=0;for(let a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}class bW{static triangulate(e,n,i=2){return iW(e,n,i)}}class Wo{static area(e){const n=e.length;let i=0;for(let r=n-1,a=0;a<n;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Wo.area(e)<0}static triangulateShape(e,n){const i=[],r=[],a=[];$3(e),eO(i,e);let o=e.length;n.forEach($3);for(let f=0;f<n.length;f++)r.push(o),o+=n[f].length,eO(i,n[f]);const u=bW.triangulate(i,r);for(let f=0;f<u.length;f+=3)a.push(u.slice(f,f+3));return a}}function $3(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function eO(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class x1 extends rn{constructor(e=new sd([new Ge(.5,.5),new Ge(-.5,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let u=0,f=e.length;u<f;u++){const d=e[u];o(d)}this.setAttribute("position",new Et(r,3)),this.setAttribute("uv",new Et(a,2)),this.computeVertexNormals();function o(u){const f=[],d=n.curveSegments!==void 0?n.curveSegments:12,m=n.steps!==void 0?n.steps:1,g=n.depth!==void 0?n.depth:1;let y=n.bevelEnabled!==void 0?n.bevelEnabled:!0,b=n.bevelThickness!==void 0?n.bevelThickness:.2,_=n.bevelSize!==void 0?n.bevelSize:b-.1,A=n.bevelOffset!==void 0?n.bevelOffset:0,T=n.bevelSegments!==void 0?n.bevelSegments:3;const M=n.extrudePath,R=n.UVGenerator!==void 0?n.UVGenerator:_W;let D,N=!1,U,L,V,F;M&&(D=M.getSpacedPoints(m),N=!0,y=!1,U=M.computeFrenetFrames(m,!1),L=new Z,V=new Z,F=new Z),y||(T=0,b=0,_=0,A=0);const B=u.extractPoints(d);let z=B.shape;const G=B.holes;if(!Wo.isClockWise(z)){z=z.reverse();for(let De=0,Ue=G.length;De<Ue;De++){const Ne=G[De];Wo.isClockWise(Ne)&&(G[De]=Ne.reverse())}}function ie(De){const Ne=10000000000000001e-36;let we=De[0];for(let tt=1;tt<=De.length;tt++){const We=tt%De.length,Qe=De[We],Nt=Qe.x-we.x,Vt=Qe.y-we.y,K=Nt*Nt+Vt*Vt,j=Math.max(Math.abs(Qe.x),Math.abs(Qe.y),Math.abs(we.x),Math.abs(we.y)),ge=Ne*j*j;if(K<=ge){De.splice(We,1),tt--;continue}we=Qe}}ie(z),G.forEach(ie);const pe=G.length,ue=z;for(let De=0;De<pe;De++){const Ue=G[De];z=z.concat(Ue)}function X(De,Ue,Ne){return Ue||console.error("THREE.ExtrudeGeometry: vec does not exist"),De.clone().addScaledVector(Ue,Ne)}const Q=z.length;function $(De,Ue,Ne){let we,tt,We;const Qe=De.x-Ue.x,Nt=De.y-Ue.y,Vt=Ne.x-De.x,K=Ne.y-De.y,j=Qe*Qe+Nt*Nt,ge=Qe*K-Nt*Vt;if(Math.abs(ge)>Number.EPSILON){const Ce=Math.sqrt(j),Ve=Math.sqrt(Vt*Vt+K*K),Re=Ue.x-Nt/Ce,ct=Ue.y+Qe/Ce,nt=Ne.x-K/Ve,yt=Ne.y+Vt/Ve,xt=((nt-Re)*K-(yt-ct)*Vt)/(Qe*K-Nt*Vt);we=Re+Qe*xt-De.x,tt=ct+Nt*xt-De.y;const qe=we*we+tt*tt;if(qe<=2)return new Ge(we,tt);We=Math.sqrt(qe/2)}else{let Ce=!1;Qe>Number.EPSILON?Vt>Number.EPSILON&&(Ce=!0):Qe<-Number.EPSILON?Vt<-Number.EPSILON&&(Ce=!0):Math.sign(Nt)===Math.sign(K)&&(Ce=!0),Ce?(we=-Nt,tt=Qe,We=Math.sqrt(j)):(we=Qe,tt=Nt,We=Math.sqrt(j/2))}return new Ge(we/We,tt/We)}const me=[];for(let De=0,Ue=ue.length,Ne=Ue-1,we=De+1;De<Ue;De++,Ne++,we++)Ne===Ue&&(Ne=0),we===Ue&&(we=0),me[De]=$(ue[De],ue[Ne],ue[we]);const Y=[];let re,he=me.concat();for(let De=0,Ue=pe;De<Ue;De++){const Ne=G[De];re=[];for(let we=0,tt=Ne.length,We=tt-1,Qe=we+1;we<tt;we++,We++,Qe++)We===tt&&(We=0),Qe===tt&&(Qe=0),re[we]=$(Ne[we],Ne[We],Ne[Qe]);Y.push(re),he=he.concat(re)}let Pe;if(T===0)Pe=Wo.triangulateShape(ue,G);else{const De=[],Ue=[];for(let Ne=0;Ne<T;Ne++){const we=Ne/T,tt=b*Math.cos(we*Math.PI/2),We=_*Math.sin(we*Math.PI/2)+A;for(let Qe=0,Nt=ue.length;Qe<Nt;Qe++){const Vt=X(ue[Qe],me[Qe],We);Oe(Vt.x,Vt.y,-tt),we===0&&De.push(Vt)}for(let Qe=0,Nt=pe;Qe<Nt;Qe++){const Vt=G[Qe];re=Y[Qe];const K=[];for(let j=0,ge=Vt.length;j<ge;j++){const Ce=X(Vt[j],re[j],We);Oe(Ce.x,Ce.y,-tt),we===0&&K.push(Ce)}we===0&&Ue.push(K)}}Pe=Wo.triangulateShape(De,Ue)}const je=Pe.length,ot=_+A;for(let De=0;De<Q;De++){const Ue=y?X(z[De],he[De],ot):z[De];N?(V.copy(U.normals[0]).multiplyScalar(Ue.x),L.copy(U.binormals[0]).multiplyScalar(Ue.y),F.copy(D[0]).add(V).add(L),Oe(F.x,F.y,F.z)):Oe(Ue.x,Ue.y,0)}for(let De=1;De<=m;De++)for(let Ue=0;Ue<Q;Ue++){const Ne=y?X(z[Ue],he[Ue],ot):z[Ue];N?(V.copy(U.normals[De]).multiplyScalar(Ne.x),L.copy(U.binormals[De]).multiplyScalar(Ne.y),F.copy(D[De]).add(V).add(L),Oe(F.x,F.y,F.z)):Oe(Ne.x,Ne.y,g/m*De)}for(let De=T-1;De>=0;De--){const Ue=De/T,Ne=b*Math.cos(Ue*Math.PI/2),we=_*Math.sin(Ue*Math.PI/2)+A;for(let tt=0,We=ue.length;tt<We;tt++){const Qe=X(ue[tt],me[tt],we);Oe(Qe.x,Qe.y,g+Ne)}for(let tt=0,We=G.length;tt<We;tt++){const Qe=G[tt];re=Y[tt];for(let Nt=0,Vt=Qe.length;Nt<Vt;Nt++){const K=X(Qe[Nt],re[Nt],we);N?Oe(K.x,K.y+D[m-1].y,D[m-1].x+Ne):Oe(K.x,K.y,g+Ne)}}}ve(),ze();function ve(){const De=r.length/3;if(y){let Ue=0,Ne=Q*Ue;for(let we=0;we<je;we++){const tt=Pe[we];Xe(tt[2]+Ne,tt[1]+Ne,tt[0]+Ne)}Ue=m+T*2,Ne=Q*Ue;for(let we=0;we<je;we++){const tt=Pe[we];Xe(tt[0]+Ne,tt[1]+Ne,tt[2]+Ne)}}else{for(let Ue=0;Ue<je;Ue++){const Ne=Pe[Ue];Xe(Ne[2],Ne[1],Ne[0])}for(let Ue=0;Ue<je;Ue++){const Ne=Pe[Ue];Xe(Ne[0]+Q*m,Ne[1]+Q*m,Ne[2]+Q*m)}}i.addGroup(De,r.length/3-De,0)}function ze(){const De=r.length/3;let Ue=0;Ye(ue,Ue),Ue+=ue.length;for(let Ne=0,we=G.length;Ne<we;Ne++){const tt=G[Ne];Ye(tt,Ue),Ue+=tt.length}i.addGroup(De,r.length/3-De,1)}function Ye(De,Ue){let Ne=De.length;for(;--Ne>=0;){const we=Ne;let tt=Ne-1;tt<0&&(tt=De.length-1);for(let We=0,Qe=m+T*2;We<Qe;We++){const Nt=Q*We,Vt=Q*(We+1),K=Ue+we+Nt,j=Ue+tt+Nt,ge=Ue+tt+Vt,Ce=Ue+we+Vt;lt(K,j,ge,Ce)}}}function Oe(De,Ue,Ne){f.push(De),f.push(Ue),f.push(Ne)}function Xe(De,Ue,Ne){Le(De),Le(Ue),Le(Ne);const we=r.length/3,tt=R.generateTopUV(i,r,we-3,we-2,we-1);J(tt[0]),J(tt[1]),J(tt[2])}function lt(De,Ue,Ne,we){Le(De),Le(Ue),Le(we),Le(Ue),Le(Ne),Le(we);const tt=r.length/3,We=R.generateSideWallUV(i,r,tt-6,tt-3,tt-2,tt-1);J(We[0]),J(We[1]),J(We[3]),J(We[1]),J(We[2]),J(We[3])}function Le(De){r.push(f[De*3+0]),r.push(f[De*3+1]),r.push(f[De*3+2])}function J(De){a.push(De.x),a.push(De.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return SW(n,i,e)}static fromJSON(e,n){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const u=n[e.shapes[a]];i.push(u)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new lS[r.type]().fromJSON(r)),new x1(i,e.options)}}const _W={generateTopUV:function(t,e,n,i,r){const a=e[n*3],o=e[n*3+1],u=e[i*3],f=e[i*3+1],d=e[r*3],m=e[r*3+1];return[new Ge(a,o),new Ge(u,f),new Ge(d,m)]},generateSideWallUV:function(t,e,n,i,r,a){const o=e[n*3],u=e[n*3+1],f=e[n*3+2],d=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[r*3],b=e[r*3+1],_=e[r*3+2],A=e[a*3],T=e[a*3+1],M=e[a*3+2];return Math.abs(u-m)<Math.abs(o-d)?[new Ge(o,1-f),new Ge(d,1-g),new Ge(y,1-_),new Ge(A,1-M)]:[new Ge(u,1-f),new Ge(m,1-g),new Ge(b,1-_),new Ge(T,1-M)]}};function SW(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const a=t[i];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class b1 extends Mf{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new b1(e.radius,e.detail)}}class _1 extends rn{constructor(e=[new Ge(0,-.5),new Ge(.5,0),new Ge(0,.5)],n=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=kt(r,0,Math.PI*2);const a=[],o=[],u=[],f=[],d=[],m=1/n,g=new Z,y=new Ge,b=new Z,_=new Z,A=new Z;let T=0,M=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:T=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,b.x=M*1,b.y=-T,b.z=M*0,A.copy(b),b.normalize(),f.push(b.x,b.y,b.z);break;case e.length-1:f.push(A.x,A.y,A.z);break;default:T=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,b.x=M*1,b.y=-T,b.z=M*0,_.copy(b),b.x+=A.x,b.y+=A.y,b.z+=A.z,b.normalize(),f.push(b.x,b.y,b.z),A.copy(_)}for(let R=0;R<=n;R++){const D=i+R*m*r,N=Math.sin(D),U=Math.cos(D);for(let L=0;L<=e.length-1;L++){g.x=e[L].x*N,g.y=e[L].y,g.z=e[L].x*U,o.push(g.x,g.y,g.z),y.x=R/n,y.y=L/(e.length-1),u.push(y.x,y.y);const V=f[3*L+0]*N,F=f[3*L+1],B=f[3*L+0]*U;d.push(V,F,B)}}for(let R=0;R<n;R++)for(let D=0;D<e.length-1;D++){const N=D+R*e.length,U=N,L=N+e.length,V=N+e.length+1,F=N+1;a.push(U,L,F),a.push(V,F,L)}this.setIndex(a),this.setAttribute("position",new Et(o,3)),this.setAttribute("uv",new Et(u,2)),this.setAttribute("normal",new Et(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _1(e.points,e.segments,e.phiStart,e.phiLength)}}class ty extends Mf{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ty(e.radius,e.detail)}}class Gm extends rn{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,o=n/2,u=Math.floor(i),f=Math.floor(r),d=u+1,m=f+1,g=e/u,y=n/f,b=[],_=[],A=[],T=[];for(let M=0;M<m;M++){const R=M*y-o;for(let D=0;D<d;D++){const N=D*g-a;_.push(N,-R,0),A.push(0,0,1),T.push(D/u),T.push(1-M/f)}}for(let M=0;M<f;M++)for(let R=0;R<u;R++){const D=R+d*M,N=R+d*(M+1),U=R+1+d*(M+1),L=R+1+d*M;b.push(D,N,L),b.push(N,U,L)}this.setIndex(b),this.setAttribute("position",new Et(_,3)),this.setAttribute("normal",new Et(A,3)),this.setAttribute("uv",new Et(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gm(e.width,e.height,e.widthSegments,e.heightSegments)}}class S1 extends rn{constructor(e=.5,n=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const u=[],f=[],d=[],m=[];let g=e;const y=(n-e)/r,b=new Z,_=new Ge;for(let A=0;A<=r;A++){for(let T=0;T<=i;T++){const M=a+T/i*o;b.x=g*Math.cos(M),b.y=g*Math.sin(M),f.push(b.x,b.y,b.z),d.push(0,0,1),_.x=(b.x/n+1)/2,_.y=(b.y/n+1)/2,m.push(_.x,_.y)}g+=y}for(let A=0;A<r;A++){const T=A*(i+1);for(let M=0;M<i;M++){const R=M+T,D=R,N=R+i+1,U=R+i+2,L=R+1;u.push(D,N,L),u.push(N,U,L)}}this.setIndex(u),this.setAttribute("position",new Et(f,3)),this.setAttribute("normal",new Et(d,3)),this.setAttribute("uv",new Et(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class M1 extends rn{constructor(e=new sd([new Ge(0,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],a=[],o=[];let u=0,f=0;if(Array.isArray(e)===!1)d(e);else for(let m=0;m<e.length;m++)d(e[m]),this.addGroup(u,f,m),u+=f,f=0;this.setIndex(i),this.setAttribute("position",new Et(r,3)),this.setAttribute("normal",new Et(a,3)),this.setAttribute("uv",new Et(o,2));function d(m){const g=r.length/3,y=m.extractPoints(n);let b=y.shape;const _=y.holes;Wo.isClockWise(b)===!1&&(b=b.reverse());for(let T=0,M=_.length;T<M;T++){const R=_[T];Wo.isClockWise(R)===!0&&(_[T]=R.reverse())}const A=Wo.triangulateShape(b,_);for(let T=0,M=_.length;T<M;T++){const R=_[T];b=b.concat(R)}for(let T=0,M=b.length;T<M;T++){const R=b[T];r.push(R.x,R.y,0),a.push(0,0,1),o.push(R.x,R.y)}for(let T=0,M=A.length;T<M;T++){const R=A[T],D=R[0]+g,N=R[1]+g,U=R[2]+g;i.push(D,N,U),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return MW(n,e)}static fromJSON(e,n){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=n[e.shapes[r]];i.push(o)}return new M1(i,e.curveSegments)}}function MW(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class ny extends rn{constructor(e=1,n=32,i=16,r=0,a=Math.PI*2,o=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:u},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const f=Math.min(o+u,Math.PI);let d=0;const m=[],g=new Z,y=new Z,b=[],_=[],A=[],T=[];for(let M=0;M<=i;M++){const R=[],D=M/i;let N=0;M===0&&o===0?N=.5/n:M===i&&f===Math.PI&&(N=-.5/n);for(let U=0;U<=n;U++){const L=U/n;g.x=-e*Math.cos(r+L*a)*Math.sin(o+D*u),g.y=e*Math.cos(o+D*u),g.z=e*Math.sin(r+L*a)*Math.sin(o+D*u),_.push(g.x,g.y,g.z),y.copy(g).normalize(),A.push(y.x,y.y,y.z),T.push(L+N,1-D),R.push(d++)}m.push(R)}for(let M=0;M<i;M++)for(let R=0;R<n;R++){const D=m[M][R+1],N=m[M][R],U=m[M+1][R],L=m[M+1][R+1];(M!==0||o>0)&&b.push(D,N,L),(M!==i-1||f<Math.PI)&&b.push(N,U,L)}this.setIndex(b),this.setAttribute("position",new Et(_,3)),this.setAttribute("normal",new Et(A,3)),this.setAttribute("uv",new Et(T,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ny(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class E1 extends Mf{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new E1(e.radius,e.detail)}}class T1 extends rn{constructor(e=1,n=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],u=[],f=[],d=[],m=new Z,g=new Z,y=new Z;for(let b=0;b<=i;b++)for(let _=0;_<=r;_++){const A=_/r*a,T=b/i*Math.PI*2;g.x=(e+n*Math.cos(T))*Math.cos(A),g.y=(e+n*Math.cos(T))*Math.sin(A),g.z=n*Math.sin(T),u.push(g.x,g.y,g.z),m.x=e*Math.cos(A),m.y=e*Math.sin(A),y.subVectors(g,m).normalize(),f.push(y.x,y.y,y.z),d.push(_/r),d.push(b/i)}for(let b=1;b<=i;b++)for(let _=1;_<=r;_++){const A=(r+1)*b+_-1,T=(r+1)*(b-1)+_-1,M=(r+1)*(b-1)+_,R=(r+1)*b+_;o.push(A,T,R),o.push(T,M,R)}this.setIndex(o),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class A1 extends rn{constructor(e=1,n=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const u=[],f=[],d=[],m=[],g=new Z,y=new Z,b=new Z,_=new Z,A=new Z,T=new Z,M=new Z;for(let D=0;D<=i;++D){const N=D/i*a*Math.PI*2;R(N,a,o,e,b),R(N+.01,a,o,e,_),T.subVectors(_,b),M.addVectors(_,b),A.crossVectors(T,M),M.crossVectors(A,T),A.normalize(),M.normalize();for(let U=0;U<=r;++U){const L=U/r*Math.PI*2,V=-n*Math.cos(L),F=n*Math.sin(L);g.x=b.x+(V*M.x+F*A.x),g.y=b.y+(V*M.y+F*A.y),g.z=b.z+(V*M.z+F*A.z),f.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),d.push(y.x,y.y,y.z),m.push(D/i),m.push(U/r)}}for(let D=1;D<=i;D++)for(let N=1;N<=r;N++){const U=(r+1)*(D-1)+(N-1),L=(r+1)*D+(N-1),V=(r+1)*D+N,F=(r+1)*(D-1)+N;u.push(U,L,F),u.push(L,V,F)}this.setIndex(u),this.setAttribute("position",new Et(f,3)),this.setAttribute("normal",new Et(d,3)),this.setAttribute("uv",new Et(m,2));function R(D,N,U,L,V){const F=Math.cos(D),B=Math.sin(D),z=U/N*D,G=Math.cos(z);V.x=L*(2+G)*.5*F,V.y=L*(2+G)*B*.5,V.z=L*Math.sin(z)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class w1 extends rn{constructor(e=new pC(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),n=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const u=new Z,f=new Z,d=new Ge;let m=new Z;const g=[],y=[],b=[],_=[];A(),this.setIndex(_),this.setAttribute("position",new Et(g,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(b,2));function A(){for(let D=0;D<n;D++)T(D);T(a===!1?n:0),R(),M()}function T(D){m=e.getPointAt(D/n,m);const N=o.normals[D],U=o.binormals[D];for(let L=0;L<=r;L++){const V=L/r*Math.PI*2,F=Math.sin(V),B=-Math.cos(V);f.x=B*N.x+F*U.x,f.y=B*N.y+F*U.y,f.z=B*N.z+F*U.z,f.normalize(),y.push(f.x,f.y,f.z),u.x=m.x+i*f.x,u.y=m.y+i*f.y,u.z=m.z+i*f.z,g.push(u.x,u.y,u.z)}}function M(){for(let D=1;D<=n;D++)for(let N=1;N<=r;N++){const U=(r+1)*(D-1)+(N-1),L=(r+1)*D+(N-1),V=(r+1)*D+N,F=(r+1)*(D-1)+N;_.push(U,L,F),_.push(L,V,F)}}function R(){for(let D=0;D<=n;D++)for(let N=0;N<=r;N++)d.x=D/n,d.y=N/r,b.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new w1(new lS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class w4 extends rn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new Z,a=new Z;if(e.index!==null){const o=e.attributes.position,u=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:u.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const g=f[d],y=g.start,b=g.count;for(let _=y,A=y+b;_<A;_+=3)for(let T=0;T<3;T++){const M=u.getX(_+T),R=u.getX(_+(T+1)%3);r.fromBufferAttribute(o,M),a.fromBufferAttribute(o,R),tO(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let u=0,f=o.count/3;u<f;u++)for(let d=0;d<3;d++){const m=3*u+d,g=3*u+(d+1)%3;r.fromBufferAttribute(o,m),a.fromBufferAttribute(o,g),tO(r,a,i)===!0&&(n.push(r.x,r.y,r.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function tO(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i),n.add(r),!0)}var nO=Object.freeze({__proto__:null,BoxGeometry:_d,CapsuleGeometry:m1,CircleGeometry:g1,ConeGeometry:ey,CylinderGeometry:$0,DodecahedronGeometry:v1,EdgesGeometry:v4,ExtrudeGeometry:x1,IcosahedronGeometry:b1,LatheGeometry:_1,OctahedronGeometry:ty,PlaneGeometry:Gm,PolyhedronGeometry:Mf,RingGeometry:S1,ShapeGeometry:M1,SphereGeometry:ny,TetrahedronGeometry:E1,TorusGeometry:T1,TorusKnotGeometry:A1,TubeGeometry:w1,WireframeGeometry:w4});class C4 extends oa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new vt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class R4 extends Ko{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class gC extends oa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class D4 extends gC{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return kt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new vt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class N4 extends oa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new vt(16777215),this.specular=new vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=Z0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class O4 extends oa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new vt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class P4 extends oa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class U4 extends oa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ds,this.combine=Z0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class vC extends oa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Gz,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class yC extends oa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class L4 extends oa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new vt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class I4 extends Pa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qh(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function B4(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function z4(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function Mw(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,o=0;o!==i;++a){const u=n[a]*e;for(let f=0;f!==e;++f)r[o++]=t[u+f]}return r}function xC(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(e.push(a.time),n.push(...o)),a=t[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(e.push(a.time),n.push(o)),a=t[r++];while(a!==void 0)}function EW(t,e,n,i,r=30){const a=t.clone();a.name=e;const o=[];for(let f=0;f<a.tracks.length;++f){const d=a.tracks[f],m=d.getValueSize(),g=[],y=[];for(let b=0;b<d.times.length;++b){const _=d.times[b]*r;if(!(_<n||_>=i)){g.push(d.times[b]);for(let A=0;A<m;++A)y.push(d.values[b*m+A])}}g.length!==0&&(d.times=Qh(g,d.times.constructor),d.values=Qh(y,d.values.constructor),o.push(d))}a.tracks=o;let u=1/0;for(let f=0;f<a.tracks.length;++f)u>a.tracks[f].times[0]&&(u=a.tracks[f].times[0]);for(let f=0;f<a.tracks.length;++f)a.tracks[f].shift(-1*u);return a.resetDuration(),a}function TW(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,a=e/i;for(let o=0;o<r;++o){const u=n.tracks[o],f=u.ValueTypeName;if(f==="bool"||f==="string")continue;const d=t.tracks.find(function(M){return M.name===u.name&&M.ValueTypeName===f});if(d===void 0)continue;let m=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const b=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const _=u.times.length-1;let A;if(a<=u.times[0]){const M=m,R=g-m;A=u.values.slice(M,R)}else if(a>=u.times[_]){const M=_*g+m,R=M+g-m;A=u.values.slice(M,R)}else{const M=u.createInterpolant(),R=m,D=g-m;M.evaluate(a),A=M.resultBuffer.slice(R,D)}f==="quaternion"&&new as().fromArray(A).normalize().conjugate().toArray(A);const T=d.times.length;for(let M=0;M<T;++M){const R=M*b+y;if(f==="quaternion")as.multiplyQuaternionsFlat(d.values,R,A,0,d.values,R);else{const D=b-y*2;for(let N=0;N<D;++N)d.values[R+N]-=A[N]}}}return t.blendMode=$2,t}class AW{static convertArray(e,n){return Qh(e,n)}static isTypedArray(e){return B4(e)}static getKeyframeOrder(e){return z4(e)}static sortedArray(e,n,i){return Mw(e,n,i)}static flattenJSON(e,n,i,r){xC(e,n,i,r)}static subclip(e,n,i,r,a=30){return EW(e,n,i,r,a)}static makeClipAdditive(e,n=0,i=e,r=30){return TW(e,n,i,r)}}class iy{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let u=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(a=r,r=n[++i],e<r)break t}o=n.length;break n}if(!(e>=a)){const u=n[1];e<u&&(i=2,a=u);for(let f=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===f)break;if(r=a,a=n[--i-1],e>=a)break t}o=i,i=0;break n}break e}for(;i<o;){const u=i+o>>>1;e<n[u]?o=u:i=u+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)n[o]=i[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class V4 extends iy{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Kh,endingEnd:Kh}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,o=e+1,u=r[a],f=r[o];if(u===void 0)switch(this.getSettings_().endingStart){case Zh:a=e,u=2*n-i;break;case y0:a=r.length-2,u=n+r[a]-r[a+1];break;default:a=e,u=i}if(f===void 0)switch(this.getSettings_().endingEnd){case Zh:o=e,f=2*i-n;break;case y0:o=1,f=i+r[1]-r[0];break;default:o=e-1,f=n}const d=(i-n)*.5,m=this.valueSize;this._weightPrev=d/(n-u),this._weightNext=d/(f-i),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(e,n,i,r){const a=this.resultBuffer,o=this.sampleValues,u=this.valueSize,f=e*u,d=f-u,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,_=(i-n)/(r-n),A=_*_,T=A*_,M=-y*T+2*y*A-y*_,R=(1+y)*T+(-1.5-2*y)*A+(-.5+y)*_+1,D=(-1-b)*T+(1.5+b)*A+.5*_,N=b*T-b*A;for(let U=0;U!==u;++U)a[U]=M*o[m+U]+R*o[d+U]+D*o[f+U]+N*o[g+U];return a}}class bC extends iy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,o=this.sampleValues,u=this.valueSize,f=e*u,d=f-u,m=(i-n)/(r-n),g=1-m;for(let y=0;y!==u;++y)a[y]=o[d+y]*g+o[f+y]*m;return a}}class H4 extends iy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class co{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Qh(n,this.TimeBufferType),this.values=Qh(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Qh(e.times,Array),values:Qh(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new H4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new bC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new V4(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case v0:n=this.InterpolantFactoryMethodDiscrete;break;case aS:n=this.InterpolantFactoryMethodLinear;break;case f_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return v0;case this.InterpolantFactoryMethodLinear:return aS;case this.InterpolantFactoryMethodSmooth:return f_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;o!==-1&&i[o]>n;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const u=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*u,o*u)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let u=0;u!==a;u++){const f=i[u];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,f),e=!1;break}if(o!==null&&o>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,f,o),e=!1;break}o=f}if(r!==void 0&&B4(r))for(let u=0,f=r.length;u!==f;++u){const d=r[u];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===f_,a=e.length-1;let o=1;for(let u=1;u<a;++u){let f=!1;const d=e[u],m=e[u+1];if(d!==m&&(u!==1||d!==e[0]))if(r)f=!0;else{const g=u*i,y=g-i,b=g+i;for(let _=0;_!==i;++_){const A=n[g+_];if(A!==n[y+_]||A!==n[b+_]){f=!0;break}}}if(f){if(u!==o){e[o]=e[u];const g=u*i,y=o*i;for(let b=0;b!==i;++b)n[y+b]=n[g+b]}++o}}if(a>0){e[o]=e[a];for(let u=a*i,f=o*i,d=0;d!==i;++d)n[f+d]=n[u+d];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*i)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}co.prototype.ValueTypeName="";co.prototype.TimeBufferType=Float32Array;co.prototype.ValueBufferType=Float32Array;co.prototype.DefaultInterpolation=aS;class Sd extends co{constructor(e,n,i){super(e,n,i)}}Sd.prototype.ValueTypeName="bool";Sd.prototype.ValueBufferType=Array;Sd.prototype.DefaultInterpolation=v0;Sd.prototype.InterpolantFactoryMethodLinear=void 0;Sd.prototype.InterpolantFactoryMethodSmooth=void 0;class _C extends co{constructor(e,n,i,r){super(e,n,i,r)}}_C.prototype.ValueTypeName="color";class A0 extends co{constructor(e,n,i,r){super(e,n,i,r)}}A0.prototype.ValueTypeName="number";class F4 extends iy{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,o=this.sampleValues,u=this.valueSize,f=(i-n)/(r-n);let d=e*u;for(let m=d+u;d!==m;d+=4)as.slerpFlat(a,0,o,d-u,o,d,f);return a}}class ry extends co{constructor(e,n,i,r){super(e,n,i,r)}InterpolantFactoryMethodLinear(e){return new F4(this.times,this.values,this.getValueSize(),e)}}ry.prototype.ValueTypeName="quaternion";ry.prototype.InterpolantFactoryMethodSmooth=void 0;class Md extends co{constructor(e,n,i){super(e,n,i)}}Md.prototype.ValueTypeName="string";Md.prototype.ValueBufferType=Array;Md.prototype.DefaultInterpolation=v0;Md.prototype.InterpolantFactoryMethodLinear=void 0;Md.prototype.InterpolantFactoryMethodSmooth=void 0;class w0 extends co{constructor(e,n,i,r){super(e,n,i,r)}}w0.prototype.ValueTypeName="vector";class C0{constructor(e="",n=-1,i=[],r=r1){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=ws(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,u=i.length;o!==u;++o)n.push(CW(i[o]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,o=i.length;a!==o;++a)n.push(co.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,o=[];for(let u=0;u<a;u++){let f=[],d=[];f.push((u+a-1)%a,u,(u+1)%a),d.push(0,1,0);const m=z4(f);f=Mw(f,1,m),d=Mw(d,1,m),!r&&f[0]===0&&(f.push(a),d.push(d[0])),o.push(new A0(".morphTargetInfluences["+n[u].name+"]",f,d).scale(1/i))}return new this(e,-1,o)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let u=0,f=e.length;u<f;u++){const d=e[u],m=d.name.match(a);if(m&&m.length>1){const g=m[1];let y=r[g];y||(r[g]=y=[]),y.push(d)}}const o=[];for(const u in r)o.push(this.CreateFromMorphTargetSequence(u,r[u],n,i));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,b,_,A){if(b.length!==0){const T=[],M=[];xC(b,T,M,_),T.length!==0&&A.push(new g(y,T,M))}},r=[],a=e.name||"default",o=e.fps||30,u=e.blendMode;let f=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const y=d[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let A=0;A<y[_].morphTargets.length;A++)b[y[_].morphTargets[A]]=-1;for(const A in b){const T=[],M=[];for(let R=0;R!==y[_].morphTargets.length;++R){const D=y[_];T.push(D.time),M.push(D.morphTarget===A?1:0)}r.push(new A0(".morphTargetInfluence["+A+"]",T,M))}f=b.length*o}else{const b=".bones["+n[g].name+"]";i(w0,b+".position",y,"pos",r),i(ry,b+".quaternion",y,"rot",r),i(w0,b+".scale",y,"scl",r)}}return r.length===0?null:new this(a,f,r,u)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function wW(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return A0;case"vector":case"vector2":case"vector3":case"vector4":return w0;case"color":return _C;case"quaternion":return ry;case"bool":case"boolean":return Sd;case"string":return Md}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function CW(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=wW(t.type);if(t.times===void 0){const n=[],i=[];xC(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Fl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class SC{constructor(e,n,i){const r=this;let a=!1,o=0,u=0,f;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.abortController=new AbortController,this.itemStart=function(m){u++,a===!1&&r.onStart!==void 0&&r.onStart(m,o,u),a=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,u),o===u&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return d.push(m,g),this},this.removeHandler=function(m){const g=d.indexOf(m);return g!==-1&&d.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=d.length;g<y;g+=2){const b=d[g],_=d[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return _}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const j4=new SC;class os{constructor(e){this.manager=e!==void 0?e:j4,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}os.DEFAULT_MATERIAL_NAME="__DEFAULT";const Nu={};class RW extends Error{constructor(e,n){super(e),this.response=n}}class Xu extends os{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Fl.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Nu[e]!==void 0){Nu[e].push({onLoad:n,onProgress:i,onError:r});return}Nu[e]=[],Nu[e].push({onLoad:n,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,f=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=Nu[e],g=d.body.getReader(),y=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),b=y?parseInt(y):0,_=b!==0;let A=0;const T=new ReadableStream({start(M){R();function R(){g.read().then(({done:D,value:N})=>{if(D)M.close();else{A+=N.byteLength;const U=new ProgressEvent("progress",{lengthComputable:_,loaded:A,total:b});for(let L=0,V=m.length;L<V;L++){const F=m[L];F.onProgress&&F.onProgress(U)}M.enqueue(N),R()}},D=>{M.error(D)})}}});return new Response(T)}else throw new RW(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return d.json();default:if(u==="")return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(u),y=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(y);return d.arrayBuffer().then(_=>b.decode(_))}}}).then(d=>{Fl.add(`file:${e}`,d);const m=Nu[e];delete Nu[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onLoad&&b.onLoad(d)}}).catch(d=>{const m=Nu[e];if(m===void 0)throw this.manager.itemError(e),d;delete Nu[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onError&&b.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class DW extends os{constructor(e){super(e)}load(e,n,i,r){const a=this,o=new Xu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{n(a.parse(JSON.parse(u)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=C0.parse(e[i]);n.push(r)}return n}}class NW extends os{constructor(e){super(e)}load(e,n,i,r){const a=this,o=[],u=new p1,f=new Xu(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(a.withCredentials);let d=0;function m(g){f.load(e[g],function(y){const b=a.parse(y,!0);o[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},d+=1,d===6&&(b.mipmapCount===1&&(u.minFilter=ur),u.image=o,u.format=b.format,u.needsUpdate=!0,n&&n(u))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else f.load(e,function(g){const y=a.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let _=0;_<b;_++){o[_]={mipmaps:[]};for(let A=0;A<y.mipmapCount;A++)o[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+A]),o[_].format=y.format,o[_].width=y.width,o[_].height=y.height}u.image=o}else u.image.width=y.width,u.image.height=y.height,u.mipmaps=y.mipmaps;y.mipmapCount===1&&(u.minFilter=ur),u.format=y.format,u.needsUpdate=!0,n&&n(u)},i,r);return u}}const qp=new WeakMap;class R0 extends os{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Fl.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0);else{let g=qp.get(o);g===void 0&&(g=[],qp.set(o,g)),g.push({onLoad:n,onError:r})}return o}const u=_0("img");function f(){m(),n&&n(this);const g=qp.get(this)||[];for(let y=0;y<g.length;y++){const b=g[y];b.onLoad&&b.onLoad(this)}qp.delete(this),a.manager.itemEnd(e)}function d(g){m(),r&&r(g),Fl.remove(`image:${e}`);const y=qp.get(this)||[];for(let b=0;b<y.length;b++){const _=y[b];_.onError&&_.onError(g)}qp.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){u.removeEventListener("load",f,!1),u.removeEventListener("error",d,!1)}return u.addEventListener("load",f,!1),u.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),Fl.add(`image:${e}`,u),a.manager.itemStart(e),u.src=e,u}}class OW extends os{constructor(e){super(e)}load(e,n,i,r){const a=new J0;a.colorSpace=na;const o=new R0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let u=0;function f(d){o.load(e[d],function(m){a.images[d]=m,u++,u===6&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}for(let d=0;d<e.length;++d)f(d);return a}}class PW extends os{constructor(e){super(e)}load(e,n,i,r){const a=this,o=new Yl,u=new Xu(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(a.withCredentials),u.load(e,function(f){let d;try{d=a.parse(f)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:ro,o.wrapT=d.wrapT!==void 0?d.wrapT:ro,o.magFilter=d.magFilter!==void 0?d.magFilter:ur,o.minFilter=d.minFilter!==void 0?d.minFilter:ur,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Hl),d.mipmapCount===1&&(o.minFilter=ur),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,n&&n(o,d)},i,r),o}}class UW extends os{constructor(e){super(e)}load(e,n,i,r){const a=new Ni,o=new R0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(u){a.image=u,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class Ef extends En{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new vt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class k4 extends Ef{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.groundColor=new vt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const WE=new Gt,iO=new Z,rO=new Z;class MC{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.mapType=oo,this.map=null,this.mapPass=null,this.matrix=new Gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new km,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new Mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;iO.setFromMatrixPosition(e.matrixWorld),n.position.copy(iO),rO.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(rO),n.updateMatrixWorld(),WE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WE,n.coordinateSystem,n.reversedDepth),n.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(WE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class LW extends MC{constructor(){super(new Mr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,i=Mm*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class G4 extends Ef{constructor(e,n,i=0,r=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.target=new En,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new LW}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const aO=new Gt,Pv=new Z,YE=new Z;class IW extends MC{constructor(){super(new Mr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ge(4,2),this._viewportCount=6,this._viewports=[new Mn(2,1,1,1),new Mn(0,1,1,1),new Mn(3,1,1,1),new Mn(1,1,1,1),new Mn(3,0,1,1),new Mn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Pv.setFromMatrixPosition(e.matrixWorld),i.position.copy(Pv),YE.copy(i.position),YE.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(YE),i.updateMatrixWorld(),r.makeTranslation(-Pv.x,-Pv.y,-Pv.z),aO.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aO,i.coordinateSystem,i.reversedDepth)}}class q4 extends Ef{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new IW}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ay extends o1{constructor(e=-1,n=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,o=i+e,u=r+n,f=r-n;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=d*this.view.offsetX,o=a+d*this.view.width,u-=m*this.view.offsetY,f=u-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,u,f,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class BW extends MC{constructor(){super(new ay(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class X4 extends Ef{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(En.DEFAULT_UP),this.updateMatrix(),this.target=new En,this.shadow=new BW}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class W4 extends Ef{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Y4 extends Ef{constructor(e,n,i=10,r=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class K4{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*r),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*i),n.addScaledVector(o[4],1.092548*(i*r)),n.addScaledVector(o[5],1.092548*(r*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(i*a)),n.addScaledVector(o[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*r),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*i),n.addScaledVector(o[4],2*.429043*i*r),n.addScaledVector(o[5],2*.429043*r*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*i*a),n.addScaledVector(o[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,a=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*a,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*i*a,n[8]=.546274*(i*i-r*r)}}class Z4 extends Ef{constructor(e=new K4,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class C1 extends os{constructor(e){super(e),this.textures={}}load(e,n,i,r){const a=this,o=new Xu(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(u){try{n(a.parse(JSON.parse(u)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new vt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new vt().setHex(o.value);break;case"v2":r.uniforms[a].value=new Ge().fromArray(o.value);break;case"v3":r.uniforms[a].value=new Z().fromArray(o.value);break;case"v4":r.uniforms[a].value=new Mn().fromArray(o.value);break;case"m3":r.uniforms[a].value=new en().fromArray(o.value);break;case"m4":r.uniforms[a].value=new Gt().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Ge().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return C1.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:C4,SpriteMaterial:sC,RawShaderMaterial:R4,ShaderMaterial:Ko,PointsMaterial:d1,MeshPhysicalMaterial:D4,MeshStandardMaterial:gC,MeshPhongMaterial:N4,MeshToonMaterial:O4,MeshNormalMaterial:P4,MeshLambertMaterial:U4,MeshDepthMaterial:vC,MeshDistanceMaterial:yC,MeshBasicMaterial:Sf,MeshMatcapMaterial:L4,LineDashedMaterial:I4,LineBasicMaterial:Pa,Material:oa};return new n[e]}}class Ew{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Q4 extends rn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class J4 extends os{constructor(e){super(e)}load(e,n,i,r){const a=this,o=new Xu(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(u){try{n(a.parse(JSON.parse(u)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(b,_){if(n[_]!==void 0)return n[_];const T=b.interleavedBuffers[_],M=a(b,T.buffer),R=sm(T.type,M),D=new c1(R,T.stride);return D.uuid=T.uuid,n[_]=D,D}function a(b,_){if(i[_]!==void 0)return i[_];const T=b.arrayBuffers[_],M=new Uint32Array(T).buffer;return i[_]=M,M}const o=e.isInstancedBufferGeometry?new Q4:new rn,u=e.data.index;if(u!==void 0){const b=sm(u.type,u.array);o.setIndex(new Yn(b,1))}const f=e.data.attributes;for(const b in f){const _=f[b];let A;if(_.isInterleavedBufferAttribute){const T=r(e.data,_.data);A=new hd(T,_.itemSize,_.offset,_.normalized)}else{const T=sm(_.type,_.array),M=_.isInstancedBufferAttribute?Am:Yn;A=new M(T,_.itemSize,_.normalized)}_.name!==void 0&&(A.name=_.name),_.usage!==void 0&&A.setUsage(_.usage),o.setAttribute(b,A)}const d=e.data.morphAttributes;if(d)for(const b in d){const _=d[b],A=[];for(let T=0,M=_.length;T<M;T++){const R=_[T];let D;if(R.isInterleavedBufferAttribute){const N=r(e.data,R.data);D=new hd(N,R.itemSize,R.offset,R.normalized)}else{const N=sm(R.type,R.array);D=new Yn(N,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),A.push(D)}o.morphAttributes[b]=A}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,_=g.length;b!==_;++b){const A=g[b];o.addGroup(A.start,A.count,A.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(o.boundingSphere=new Hr().fromJSON(y)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class zW extends os{constructor(e){super(e)}load(e,n,i,r){const a=this,o=this.path===""?Ew.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const u=new Xu(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(f){let d=null;try{d=JSON.parse(f)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(d,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?Ew.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new Xu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n),u=JSON.parse(o),f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){n!==void 0&&n(d)}),u=this.parseTextures(e.textures,o),f=this.parseMaterials(e.materials,u),d=this.parseObject(e.object,a,f,u,i),m=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),n!==void 0){let g=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&n(d)}return d}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,r,u,o,n),d=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,d),this.bindLightTargets(f),f}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new sd().fromJSON(e[i]);n[a.uuid]=a}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const u=new f1().fromJSON(e[a],r);i[u.uuid]=u}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new J4;for(let a=0,o=e.length;a<o;a++){let u;const f=e[a];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":u=r.parse(f);break;default:f.type in nO?u=nO[f.type].fromJSON(f,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}u.uuid=f.uuid,f.name!==void 0&&(u.name=f.name),f.userData!==void 0&&(u.userData=f.userData),i[f.uuid]=u}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const a=new C1;a.setTextures(n);for(let o=0,u=e.length;o<u;o++){const f=e[o];i[f.uuid]===void 0&&(i[f.uuid]=a.parse(f)),r[f.uuid]=i[f.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=C0.parse(r);n[a.uuid]=a}return n}parseImages(e,n){const i=this,r={};let a;function o(f){return i.manager.itemStart(f),a.load(f,function(){i.manager.itemEnd(f)},void 0,function(){i.manager.itemError(f),i.manager.itemEnd(f)})}function u(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return o(m)}else return f.data?{data:sm(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new SC(n);a=new R0(f),a.setCrossOrigin(this.crossOrigin);for(let d=0,m=e.length;d<m;d++){const g=e[d],y=g.url;if(Array.isArray(y)){const b=[];for(let _=0,A=y.length;_<A;_++){const T=y[_],M=u(T);M!==null&&(M instanceof HTMLImageElement?b.push(M):b.push(new Yl(M.data,M.width,M.height)))}r[g.uuid]=new ff(b)}else{const b=u(g.url);r[g.uuid]=new ff(b)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function a(o){if(typeof o=="string"){const u=o,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:n.resourcePath+u;return await r.loadAsync(f)}else return o.data?{data:sm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new R0(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,u=e.length;o<u;o++){const f=e[o],d=f.url;if(Array.isArray(d)){const m=[];for(let g=0,y=d.length;g<y;g++){const b=d[g],_=await a(b);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new Yl(_.data,_.width,_.height)))}i[f.uuid]=new ff(m)}else{const m=await a(f.url);i[f.uuid]=new ff(m)}}}return i}parseTextures(e,n){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const u=e[a];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),n[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const f=n[u.image],d=f.data;let m;Array.isArray(d)?(m=new J0,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new Yl:m=new Ni,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=i(u.mapping,VW)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=i(u.wrap[0],sO),m.wrapT=i(u.wrap[1],sO)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=i(u.minFilter,oO)),u.magFilter!==void 0&&(m.magFilter=i(u.magFilter,oO)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),r[u.uuid]=m}return r}parseObject(e,n,i,r,a){let o;function u(y){return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),n[y]}function f(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let _=0,A=y.length;_<A;_++){const T=y[_];i[T]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",T),b.push(i[T])}return b}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function d(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let m,g;switch(e.type){case"Scene":o=new aC,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new vt(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new u1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new l1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Mr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ay(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new W4(e.color,e.intensity);break;case"DirectionalLight":o=new X4(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new q4(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Y4(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new G4(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new k4(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Z4().fromJSON(e);break;case"SkinnedMesh":m=u(e.geometry),g=f(e.material),o=new f4(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=u(e.geometry),g=f(e.material),o=new Ki(m,g);break;case"InstancedMesh":m=u(e.geometry),g=f(e.material);const y=e.count,b=e.instanceMatrix,_=e.instanceColor;o=new h4(m,g,y),o.instanceMatrix=new Am(new Float32Array(b.array),16),_!==void 0&&(o.instanceColor=new Am(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":m=u(e.geometry),g=f(e.material),o=new d4(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(A=>{let T=null,M=null;return A.boundingBox!==void 0&&(T=new aa().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(M=new Hr().fromJSON(A.boundingSphere)),{...A,boundingBox:T,boundingSphere:M}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=d(e.matricesTexture.uuid),o._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Hr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new aa().fromJSON(e.boundingBox));break;case"LOD":o=new c4;break;case"Line":o=new xf(u(e.geometry),f(e.material));break;case"LineLoop":o=new p4(u(e.geometry),f(e.material));break;case"LineSegments":o=new $l(u(e.geometry),f(e.material));break;case"PointCloud":case"Points":o=new m4(u(e.geometry),f(e.material));break;case"Sprite":o=new u4(f(e.material));break;case"Group":o=new om;break;case"Bone":o=new oC;break;default:o=new En}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)o.add(this.parseObject(y[b],n,i,r,a))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const _=y[b];o.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const _=y[b],A=o.getObjectByProperty("uuid",_.object);A!==void 0&&o.addLevel(A,_.distance,_.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const i=n.target,r=e.getObjectByProperty("uuid",i);r!==void 0?n.target=r:n.target=new En}})}}const VW={UVMapping:QS,CubeReflectionMapping:Gu,CubeRefractionMapping:vf,EquirectangularReflectionMapping:d0,EquirectangularRefractionMapping:p0,CubeUVReflectionMapping:Hm},sO={RepeatWrapping:m0,ClampToEdgeWrapping:ro,MirroredRepeatWrapping:g0},oO={NearestFilter:Vr,NearestMipmapNearestFilter:q2,NearestMipmapLinearFilter:am,LinearFilter:ur,LinearMipmapNearestFilter:Qv,LinearMipmapLinearFilter:Hl},KE=new WeakMap;class HW extends os{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Fl.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(d=>{if(KE.has(o)===!0)r&&r(KE.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(d),a.manager.itemEnd(e),d});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const f=fetch(e,u).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(d){return Fl.add(`image-bitmap:${e}`,d),n&&n(d),a.manager.itemEnd(e),d}).catch(function(d){r&&r(d),KE.set(f,d),Fl.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Fl.add(`image-bitmap:${e}`,f),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Ib;class EC{static getContext(){return Ib===void 0&&(Ib=new(window.AudioContext||window.webkitAudioContext)),Ib}static setContext(e){Ib=e}}class FW extends os{constructor(e){super(e)}load(e,n,i,r){const a=this,o=new Xu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(f){try{const d=f.slice(0);EC.getContext().decodeAudioData(d,function(g){n(g)}).catch(u)}catch(d){u(d)}},i,r);function u(f){r?r(f):console.error(f),a.manager.itemError(e)}}}const lO=new Gt,uO=new Gt,Nh=new Gt;class jW{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Mr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Mr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Nh.copy(e.projectionMatrix);const r=n.eyeSep/2,a=r*n.near/n.focus,o=n.near*Math.tan(ad*n.fov*.5)/n.zoom;let u,f;uO.elements[12]=-r,lO.elements[12]=r,u=-o*n.aspect+a,f=o*n.aspect+a,Nh.elements[0]=2*n.near/(f-u),Nh.elements[8]=(f+u)/(f-u),this.cameraL.projectionMatrix.copy(Nh),u=-o*n.aspect-a,f=o*n.aspect-a,Nh.elements[0]=2*n.near/(f-u),Nh.elements[8]=(f+u)/(f-u),this.cameraR.projectionMatrix.copy(Nh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(uO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(lO)}}class $4 extends Mr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class TC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Oh=new Z,ZE=new as,kW=new Z,Ph=new Z,Uh=new Z;class GW extends En{constructor(){super(),this.type="AudioListener",this.context=EC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new TC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Oh,ZE,kW),Ph.set(0,0,-1).applyQuaternion(ZE),Uh.set(0,1,0).applyQuaternion(ZE),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Oh.x,i),n.positionY.linearRampToValueAtTime(Oh.y,i),n.positionZ.linearRampToValueAtTime(Oh.z,i),n.forwardX.linearRampToValueAtTime(Ph.x,i),n.forwardY.linearRampToValueAtTime(Ph.y,i),n.forwardZ.linearRampToValueAtTime(Ph.z,i),n.upX.linearRampToValueAtTime(Uh.x,i),n.upY.linearRampToValueAtTime(Uh.y,i),n.upZ.linearRampToValueAtTime(Uh.z,i)}else n.setPosition(Oh.x,Oh.y,Oh.z),n.setOrientation(Ph.x,Ph.y,Ph.z,Uh.x,Uh.y,Uh.z)}}class e5 extends En{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Lh=new Z,cO=new as,qW=new Z,Ih=new Z;class XW extends e5{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Lh,cO,qW),Ih.set(0,0,1).applyQuaternion(cO);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Lh.x,i),n.positionY.linearRampToValueAtTime(Lh.y,i),n.positionZ.linearRampToValueAtTime(Lh.z,i),n.orientationX.linearRampToValueAtTime(Ih.x,i),n.orientationY.linearRampToValueAtTime(Ih.y,i),n.orientationZ.linearRampToValueAtTime(Ih.z,i)}else n.setPosition(Lh.x,Lh.y,Lh.z),n.setOrientation(Ih.x,Ih.y,Ih.z)}}class WW{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class t5{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,a,o;switch(n){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,a=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let u=0;u!==r;++u)i[a+u]=i[u];o=n}else{o+=n;const u=n/o;this._mixBufferRegion(i,a,0,u,r)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const f=n*this._origIndex;this._mixBufferRegion(i,r,f,1-a,n)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let f=n,d=n+n;f!==d;++f)if(i[f]!==i[f+n]){u.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let a=i,o=r;a!==o;++a)n[a]=n[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)e[n+o]=e[i+o]}_slerp(e,n,i,r){as.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,a){const o=this._workIndex*a;as.multiplyQuaternionsFlat(e,o,e,n,e,i),as.slerpFlat(e,n,e,n,e,o,r)}_lerp(e,n,i,r,a){const o=1-r;for(let u=0;u!==a;++u){const f=n+u;e[f]=e[f]*o+e[i+u]*r}}_lerpAdditive(e,n,i,r,a){for(let o=0;o!==a;++o){const u=n+o;e[u]=e[u]+e[i+o]*r}}}const AC="\\[\\]\\.:\\/",YW=new RegExp("["+AC+"]","g"),wC="[^"+AC+"]",KW="[^"+AC.replace("\\.","")+"]",ZW=/((?:WC+[\/:])*)/.source.replace("WC",wC),QW=/(WCOD+)?/.source.replace("WCOD",KW),JW=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",wC),$W=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",wC),eY=new RegExp("^"+ZW+QW+JW+$W+"$"),tY=["material","materials","bones","map"];class nY{constructor(e,n,i){const r=i||Sn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class Sn{constructor(e,n,i){this.path=n,this.parsedPath=i||Sn.parseTrackName(n),this.node=Sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new Sn.Composite(e,n,i):new Sn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(YW,"")}static parseTrackName(e){const n=eY.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);tY.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let o=0;o<a.length;o++){const u=a[o];if(u.name===n||u.uuid===n)return u;const f=i(u.children);if(f)return f}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=Sn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===d){d=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[r];if(o===void 0){const d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+r+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}f=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(f=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Sn.Composite=nY;Sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Sn.prototype.GetterByBindingType=[Sn.prototype._getValue_direct,Sn.prototype._getValue_array,Sn.prototype._getValue_arrayElement,Sn.prototype._getValue_toArray];Sn.prototype.SetterByBindingTypeAndVersioning=[[Sn.prototype._setValue_direct,Sn.prototype._setValue_direct_setNeedsUpdate,Sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_array,Sn.prototype._setValue_array_setNeedsUpdate,Sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_arrayElement,Sn.prototype._setValue_arrayElement_setNeedsUpdate,Sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_fromArray,Sn.prototype._setValue_fromArray_setNeedsUpdate,Sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class iY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ws(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let u,f=e.length,d=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],b=y.uuid;let _=n[b];if(_===void 0){_=f++,n[b]=_,e.push(y);for(let A=0,T=o;A!==T;++A)a[A].push(new Sn(y,i[A],r[A]))}else if(_<d){u=e[_];const A=--d,T=e[A];n[T.uuid]=_,e[_]=T,n[b]=A,e[A]=y;for(let M=0,R=o;M!==R;++M){const D=a[M],N=D[A];let U=D[_];D[_]=N,U===void 0&&(U=new Sn(y,i[M],r[M])),D[A]=U}}else e[_]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,u=arguments.length;o!==u;++o){const f=arguments[o],d=f.uuid,m=n[d];if(m!==void 0&&m>=a){const g=a++,y=e[g];n[y.uuid]=m,e[m]=y,n[d]=g,e[g]=f;for(let b=0,_=r;b!==_;++b){const A=i[b],T=A[g],M=A[m];A[m]=T,A[g]=M}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=e.length;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],m=d.uuid,g=n[m];if(g!==void 0)if(delete n[m],g<a){const y=--a,b=e[y],_=--o,A=e[_];n[b.uuid]=g,e[g]=b,n[A.uuid]=y,e[y]=A,e.pop();for(let T=0,M=r;T!==M;++T){const R=i[T],D=R[y],N=R[_];R[g]=D,R[y]=N,R.pop()}}else{const y=--o,b=e[y];y>0&&(n[b.uuid]=g),e[g]=b,e.pop();for(let _=0,A=r;_!==A;++_){const T=i[_];T[g]=T[y],T.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,u=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,g=new Array(d);r=a.length,i[e]=r,o.push(e),u.push(n),a.push(g);for(let y=m,b=f.length;y!==b;++y){const _=f[y];g[y]=new Sn(_,e,n)}return g}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,u=o.length-1,f=o[u],d=e[u];n[d]=i,o[i]=f,o.pop(),a[i]=a[u],a.pop(),r[i]=r[u],r.pop()}}}class n5{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const a=n.tracks,o=a.length,u=new Array(o),f={endingStart:Kh,endingEnd:Kh};for(let d=0;d!==o;++d){const m=a[d].createInterpolant(null);u[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=u,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=jz,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i=!1){if(e.fadeOut(n),this.fadeIn(n),i===!0){const r=this._clip.duration,a=e._clip.duration,o=a/r,u=r/a;e.warp(1,o,n),this.warp(u,1,n)}return this}crossFadeTo(e,n,i=!1){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,a=r.time,o=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=r._lendControlInterpolant(),this._timeScaleInterpolant=u);const f=u.parameterPositions,d=u.sampleValues;return f[0]=a,f[1]=a+i,d[0]=e/o,d[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const f=(e-a)*i;f<0||i===0?n=0:(this._startTime=null,n=i*f)}n*=this._updateTimeScale(e);const o=this._updateTime(n),u=this._updateWeight(e);if(u>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case $2:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),d[m].accumulateAdditive(u);break;case r1:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),d[m].accumulate(r,u)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const o=i===kz;if(e===0)return a===-1?r:o&&(a&1)===1?n-r:r;if(i===Fz){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=n||r<0){const u=Math.floor(r/n);r-=n*u,a+=Math.abs(u);const f=this.repetitions-a;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=r;if(o&&(a&1)===1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=Zh,r.endingEnd=Zh):(e?r.endingStart=this.zeroSlopeAtStart?Zh:Kh:r.endingStart=y0,n?r.endingEnd=this.zeroSlopeAtEnd?Zh:Kh:r.endingEnd=y0)}_scheduleFading(e,n,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const u=o.parameterPositions,f=o.sampleValues;return u[0]=a,f[0]=n,u[1]=a+e,f[1]=i,this}}const rY=new Float32Array(1);class aY extends Jl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,u=e._interpolants,f=i.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let g=0;g!==a;++g){const y=r[g],b=y.name;let _=m[b];if(_!==void 0)++_.referenceCount,o[g]=_;else{if(_=o[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,f,b));continue}const A=n&&n._propertyBindings[g].binding.parsedPath;_=new t5(Sn.create(i,b,A),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,f,b),o[g]=_}u[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const u=o.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,u=o[a],f=u.knownActions,d=f[f.length-1],m=e._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),e._byClipCacheIndex=null;const g=u.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],f.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const a=n[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[n];o===void 0&&(o={},r[n]=o),o[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,u=o[r],f=n[n.length-1],d=e._cacheIndex;f._cacheIndex=d,n[d]=f,n.pop(),delete u[a],Object.keys(u).length===0&&delete o[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=n[r];e._cacheIndex=r,n[r]=e,a._cacheIndex=i,n[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new bC(new Float32Array(2),new Float32Array(2),1,rY),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=n[r];e.__cacheIndex=r,n[r]=e,a.__cacheIndex=i,n[i]=a}clipAction(e,n,i){const r=n||this._root,a=r.uuid;let o=typeof e=="string"?C0.findByName(r,e):e;const u=o!==null?o.uuid:e,f=this._actionsByClip[u];let d=null;if(i===void 0&&(o!==null?i=o.blendMode:i=r1),f!==void 0){const g=f.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;d=f.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const m=new n5(this,o,n,i);return this._bindAction(m,d),this._addInactiveAction(m,u,a),m}existingAction(e,n){const i=n||this._root,r=i.uuid,a=typeof e=="string"?C0.findByName(i,e):e,o=a?a.uuid:e,u=this._actionsByClip[o];return u!==void 0&&u.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==i;++d)n[d]._update(r,e,a,o);const u=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)u[d].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let u=0,f=o.length;u!==f;++u){const d=o[u];this._deactivateAction(d);const m=d._cacheIndex,g=n[n.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=m,n[m]=g,n.pop(),this._removeInactiveBindingsForAction(d)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const o in i){const u=i[o].actionByRoot,f=u[n];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,a=r[n];if(a!==void 0)for(const o in a){const u=a[o];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class sY extends nC{constructor(e=1,n=1,i=1,r={}){super(e,n,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new s1(null,e,n,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class CC{constructor(e){this.value=e}clone(){return new CC(this.value.clone===void 0?this.value:this.value.clone())}}let oY=0;class lY extends Jl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:oY++}),this.name="",this.usage=b0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let i=0,r=n.length;i<r;i++){const a=Array.isArray(n[i])?n[i]:[n[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class uY extends c1{constructor(e,n,i=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class cY{constructor(e,n,i,r,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const fO=new Gt;class i5{constructor(e,n,i=0,r=1/0){this.ray=new jm(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new Em,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return fO.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(fO),this}intersectObject(e,n=!0,i=[]){return Tw(e,this,i,n),i.sort(hO),i}intersectObjects(e,n=!0,i=[]){for(let r=0,a=e.length;r<a;r++)Tw(e[r],this,i,n);return i.sort(hO),i}}function hO(t,e){return t.distance-e.distance}function Tw(t,e,n,i){let r=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(r=!1),r===!0&&i===!0){const a=t.children;for(let o=0,u=a.length;o<u;o++)Tw(a[o],e,n,!0)}}class fY{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=hY.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function hY(){this._document.hidden===!1&&this.reset()}class dY{constructor(e=1,n=0,i=0){this.radius=e,this.phi=n,this.theta=i}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=kt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(kt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class pY{constructor(e=1,n=0,i=0){this.radius=e,this.theta=n,this.y=i}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}class RC{constructor(e,n,i,r){RC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let i=0;i<4;i++)this.elements[i]=e[i+n];return this}set(e,n,i,r){const a=this.elements;return a[0]=e,a[2]=n,a[1]=i,a[3]=r,this}}const dO=new Ge;class mY{constructor(e=new Ge(1/0,1/0),n=new Ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=dO.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,dO).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const pO=new Z,Bb=new Z,Xp=new Z,Wp=new Z,QE=new Z,gY=new Z,vY=new Z;class yY{constructor(e=new Z,n=new Z){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){pO.subVectors(e,this.start),Bb.subVectors(this.end,this.start);const i=Bb.dot(Bb);let a=Bb.dot(pO)/i;return n&&(a=kt(a,0,1)),a}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,n=gY,i=vY){const r=10000000000000001e-32;let a,o;const u=this.start,f=e.start,d=this.end,m=e.end;Xp.subVectors(d,u),Wp.subVectors(m,f),QE.subVectors(u,f);const g=Xp.dot(Xp),y=Wp.dot(Wp),b=Wp.dot(QE);if(g<=r&&y<=r)return n.copy(u),i.copy(f),n.sub(i),n.dot(n);if(g<=r)a=0,o=b/y,o=kt(o,0,1);else{const _=Xp.dot(QE);if(y<=r)o=0,a=kt(-_/g,0,1);else{const A=Xp.dot(Wp),T=g*y-A*A;T!==0?a=kt((A*b-_*y)/T,0,1):a=0,o=(A*a+b)/y,o<0?(o=0,a=kt(-_/g,0,1)):o>1&&(o=1,a=kt((A-_)/g,0,1))}}return n.copy(u).add(Xp.multiplyScalar(a)),i.copy(f).add(Wp.multiplyScalar(o)),n.sub(i),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const mO=new Z;class xY extends En{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const i=new rn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,u=1,f=32;o<f;o++,u++){const d=o/f*Math.PI*2,m=u/f*Math.PI*2;r.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Et(r,3));const a=new Pa({fog:!1,toneMapped:!1});this.cone=new $l(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),mO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(mO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const nf=new Z,zb=new Gt,JE=new Gt;class bY extends $l{constructor(e){const n=r5(e),i=new rn,r=[],a=[];for(let d=0;d<n.length;d++){const m=n[d];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Et(r,3)),i.setAttribute("color",new Et(a,3));const o=new Pa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const u=new vt(255),f=new vt(65280);this.setColors(u,f)}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");JE.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const u=n[a];u.parent&&u.parent.isBone&&(zb.multiplyMatrices(JE,u.matrixWorld),nf.setFromMatrixPosition(zb),r.setXYZ(o,nf.x,nf.y,nf.z),zb.multiplyMatrices(JE,u.parent.matrixWorld),nf.setFromMatrixPosition(zb),r.setXYZ(o+1,nf.x,nf.y,nf.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,n.r,n.g,n.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function r5(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...r5(t.children[n]));return e}class _Y extends Ki{constructor(e,n,i){const r=new ny(n,4,2),a=new Sf({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const SY=new Z,gO=new vt,vO=new vt;class MY extends En{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new ty(n);r.rotateY(Math.PI*.5),this.material=new Sf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new Yn(o,3)),this.add(new Ki(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");gO.copy(this.light.color),vO.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const a=i<r/2?gO:vO;n.setXYZ(i,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(SY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class EY extends $l{constructor(e=10,n=10,i=4473924,r=8947848){i=new vt(i),r=new vt(r);const a=n/2,o=e/n,u=e/2,f=[],d=[];for(let y=0,b=0,_=-u;y<=n;y++,_+=o){f.push(-u,0,_,u,0,_),f.push(_,0,-u,_,0,u);const A=y===a?i:r;A.toArray(d,b),b+=3,A.toArray(d,b),b+=3,A.toArray(d,b),b+=3,A.toArray(d,b),b+=3}const m=new rn;m.setAttribute("position",new Et(f,3)),m.setAttribute("color",new Et(d,3));const g=new Pa({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class TY extends $l{constructor(e=10,n=16,i=8,r=64,a=4473924,o=8947848){a=new vt(a),o=new vt(o);const u=[],f=[];if(n>1)for(let g=0;g<n;g++){const y=g/n*(Math.PI*2),b=Math.sin(y)*e,_=Math.cos(y)*e;u.push(0,0,0),u.push(b,0,_);const A=g&1?a:o;f.push(A.r,A.g,A.b),f.push(A.r,A.g,A.b)}for(let g=0;g<i;g++){const y=g&1?a:o,b=e-e/i*g;for(let _=0;_<r;_++){let A=_/r*(Math.PI*2),T=Math.sin(A)*b,M=Math.cos(A)*b;u.push(T,0,M),f.push(y.r,y.g,y.b),A=(_+1)/r*(Math.PI*2),T=Math.sin(A)*b,M=Math.cos(A)*b,u.push(T,0,M),f.push(y.r,y.g,y.b)}}const d=new rn;d.setAttribute("position",new Et(u,3)),d.setAttribute("color",new Et(f,3));const m=new Pa({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const yO=new Z,Vb=new Z,xO=new Z;class AY extends En{constructor(e,n,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",n===void 0&&(n=1);let r=new rn;r.setAttribute("position",new Et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Pa({fog:!1,toneMapped:!1});this.lightPlane=new xf(r,a),this.add(this.lightPlane),r=new rn,r.setAttribute("position",new Et([0,0,0,0,0,1],3)),this.targetLine=new xf(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),yO.setFromMatrixPosition(this.light.matrixWorld),Vb.setFromMatrixPosition(this.light.target.matrixWorld),xO.subVectors(Vb,yO),this.lightPlane.lookAt(Vb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vb),this.targetLine.scale.z=xO.length()}}const Hb=new Z,Ci=new o1;class wY extends $l{constructor(e){const n=new rn,i=new Pa({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(_,A){f(_),f(A)}function f(_){r.push(0,0,0),a.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(r.length/3-1)}n.setAttribute("position",new Et(r,3)),n.setAttribute("color",new Et(a,3)),super(n,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new vt(16755200),m=new vt(16711680),g=new vt(43775),y=new vt(16777215),b=new vt(3355443);this.setColors(d,m,g,y,b)}setColors(e,n,i,r,a){const u=this.geometry.getAttribute("color");return u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,n.r,n.g,n.b),u.setXYZ(25,n.r,n.g,n.b),u.setXYZ(26,n.r,n.g,n.b),u.setXYZ(27,n.r,n.g,n.b),u.setXYZ(28,n.r,n.g,n.b),u.setXYZ(29,n.r,n.g,n.b),u.setXYZ(30,n.r,n.g,n.b),u.setXYZ(31,n.r,n.g,n.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,r.r,r.g,r.b),u.setXYZ(39,r.r,r.g,r.b),u.setXYZ(40,a.r,a.g,a.b),u.setXYZ(41,a.r,a.g,a.b),u.setXYZ(42,a.r,a.g,a.b),u.setXYZ(43,a.r,a.g,a.b),u.setXYZ(44,a.r,a.g,a.b),u.setXYZ(45,a.r,a.g,a.b),u.setXYZ(46,a.r,a.g,a.b),u.setXYZ(47,a.r,a.g,a.b),u.setXYZ(48,a.r,a.g,a.b),u.setXYZ(49,a.r,a.g,a.b),u.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;let a,o;if(Ci.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===As)a=-1,o=1;else if(this.camera.coordinateSystem===Sm)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);zi("c",n,e,Ci,0,0,a),zi("t",n,e,Ci,0,0,o),zi("n1",n,e,Ci,-i,-r,a),zi("n2",n,e,Ci,i,-r,a),zi("n3",n,e,Ci,-i,r,a),zi("n4",n,e,Ci,i,r,a),zi("f1",n,e,Ci,-i,-r,o),zi("f2",n,e,Ci,i,-r,o),zi("f3",n,e,Ci,-i,r,o),zi("f4",n,e,Ci,i,r,o),zi("u1",n,e,Ci,i*.7,r*1.1,a),zi("u2",n,e,Ci,-i*.7,r*1.1,a),zi("u3",n,e,Ci,0,r*2,a),zi("cf1",n,e,Ci,-i,0,o),zi("cf2",n,e,Ci,i,0,o),zi("cf3",n,e,Ci,0,-r,o),zi("cf4",n,e,Ci,0,r,o),zi("cn1",n,e,Ci,-i,0,a),zi("cn2",n,e,Ci,i,0,a),zi("cn3",n,e,Ci,0,-r,a),zi("cn4",n,e,Ci,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function zi(t,e,n,i,r,a,o){Hb.set(r,a,o).unproject(i);const u=e[t];if(u!==void 0){const f=n.getAttribute("position");for(let d=0,m=u.length;d<m;d++)f.setXYZ(u[d],Hb.x,Hb.y,Hb.z)}}const Fb=new aa;class CY extends $l{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new rn;a.setIndex(new Yn(i,1)),a.setAttribute("position",new Yn(r,3)),super(a,new Pa({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Fb.setFromObject(this.object),Fb.isEmpty())return;const e=Fb.min,n=Fb.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class RY extends $l{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new rn;a.setIndex(new Yn(i,1)),a.setAttribute("position",new Et(r,3)),super(a,new Pa({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class DY extends xf{constructor(e,n=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new rn;o.setAttribute("position",new Et(a,3)),o.computeBoundingSphere(),super(o,new Pa({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new rn;f.setAttribute("position",new Et(u,3)),f.computeBoundingSphere(),this.add(new Ki(f,new Sf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const bO=new Z;let jb,$E;class NY extends En{constructor(e=new Z(0,0,1),n=new Z(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",jb===void 0&&(jb=new rn,jb.setAttribute("position",new Et([0,0,0,0,1,0],3)),$E=new ey(.5,1,5,1),$E.translate(0,-.5,0)),this.position.copy(n),this.line=new xf(jb,new Pa({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ki($E,new Sf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{bO.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(bO,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class OY extends $l{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new rn;r.setAttribute("position",new Et(n,3)),r.setAttribute("color",new Et(i,3));const a=new Pa({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,n,i){const r=new vt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(n),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class PY{constructor(){this.type="ShapePath",this.color=new vt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new uS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,a,o){return this.currentPath.bezierCurveTo(e,n,i,r,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(M){const R=[];for(let D=0,N=M.length;D<N;D++){const U=M[D],L=new sd;L.curves=U.curves,R.push(L)}return R}function i(M,R){const D=R.length;let N=!1;for(let U=D-1,L=0;L<D;U=L++){let V=R[U],F=R[L],B=F.x-V.x,z=F.y-V.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(V=R[L],B=-B,F=R[U],z=-z),M.y<V.y||M.y>F.y)continue;if(M.y===V.y){if(M.x===V.x)return!0}else{const G=z*(M.x-V.x)-B*(M.y-V.y);if(G===0)return!0;if(G<0)continue;N=!N}}else{if(M.y!==V.y)continue;if(F.x<=M.x&&M.x<=V.x||V.x<=M.x&&M.x<=F.x)return!0}}return N}const r=Wo.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,u,f;const d=[];if(a.length===1)return u=a[0],f=new sd,f.curves=u.curves,d.push(f),d;let m=!r(a[0].getPoints());m=e?!m:m;const g=[],y=[];let b=[],_=0,A;y[_]=void 0,b[_]=[];for(let M=0,R=a.length;M<R;M++)u=a[M],A=u.getPoints(),o=r(A),o=e?!o:o,o?(!m&&y[_]&&_++,y[_]={s:new sd,p:A},y[_].s.curves=u.curves,m&&_++,b[_]=[]):b[_].push({h:u,p:A[0]});if(!y[0])return n(a);if(y.length>1){let M=!1,R=0;for(let D=0,N=y.length;D<N;D++)g[D]=[];for(let D=0,N=y.length;D<N;D++){const U=b[D];for(let L=0;L<U.length;L++){const V=U[L];let F=!0;for(let B=0;B<y.length;B++)i(V.p,y[B].p)&&(D!==B&&R++,F?(F=!1,g[B].push(V)):M=!0);F&&g[D].push(V)}}R>0&&M===!1&&(b=g)}let T;for(let M=0,R=y.length;M<R;M++){f=y[M].s,d.push(f),T=b[M];for(let D=0,N=T.length;D<N;D++)f.holes.push(T[D].h)}return d}}class UY extends Jl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function LY(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function IY(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function BY(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function Aw(t,e,n,i){const r=zY(i);switch(n){case Z2:return t*e;case t1:return t*e/r.components*r.byteLength;case Q0:return t*e/r.components*r.byteLength;case J2:return t*e*2/r.components*r.byteLength;case n1:return t*e*2/r.components*r.byteLength;case Q2:return t*e*3/r.components*r.byteLength;case ra:return t*e*4/r.components*r.byteLength;case i1:return t*e*4/r.components*r.byteLength;case Jv:case $v:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case e0:case t0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case O_:case U_:return Math.max(t,16)*Math.max(e,8)/4;case N_:case P_:return Math.max(t,8)*Math.max(e,8)/2;case L_:case I_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case B_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case z_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case V_:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case H_:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case F_:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case j_:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case k_:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case G_:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case q_:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case X_:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case W_:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Y_:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case K_:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Z_:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Q_:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case J_:case $_:case eS:return Math.ceil(t/4)*Math.ceil(e/4)*16;case tS:case nS:return Math.ceil(t/4)*Math.ceil(e/4)*8;case iS:case rS:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function zY(t){switch(t){case oo:case X2:return{byteLength:1,components:1};case ym:case W2:case Fm:return{byteLength:2,components:1};case $S:case e1:return{byteLength:2,components:4};case qu:case JS:case is:return{byteLength:4,components:1};case Y2:case K2:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class VY{static contain(e,n){return LY(e,n)}static cover(e,n){return IY(e,n)}static fill(e){return BY(e)}static getByteLength(e,n,i,r){return Aw(e,n,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:K0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=K0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function a5(){let t=null,e=!1,n=null,i=null;function r(a,o){n(a,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function HY(t){const e=new WeakMap;function n(u,f){const d=u.array,m=u.usage,g=d.byteLength,y=t.createBuffer();t.bindBuffer(f,y),t.bufferData(f,d,m),u.onUploadCallback();let b;if(d instanceof Float32Array)b=t.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)b=t.HALF_FLOAT;else if(d instanceof Uint16Array)u.isFloat16BufferAttribute?b=t.HALF_FLOAT:b=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)b=t.SHORT;else if(d instanceof Uint32Array)b=t.UNSIGNED_INT;else if(d instanceof Int32Array)b=t.INT;else if(d instanceof Int8Array)b=t.BYTE;else if(d instanceof Uint8Array)b=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)b=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:y,type:b,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version,size:g}}function i(u,f,d){const m=f.array,g=f.updateRanges;if(t.bindBuffer(d,u),g.length===0)t.bufferSubData(d,0,m);else{g.sort((b,_)=>b.start-_.start);let y=0;for(let b=1;b<g.length;b++){const _=g[y],A=g[b];A.start<=_.start+_.count+1?_.count=Math.max(_.count,A.start+A.count-_.start):(++y,g[y]=A)}g.length=y+1;for(let b=0,_=g.length;b<_;b++){const A=g[b];t.bufferSubData(d,A.start*m.BYTES_PER_ELEMENT,m,A.start,A.count)}f.clearUpdateRanges()}f.onUploadCallback()}function r(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=e.get(u);f&&(t.deleteBuffer(f.buffer),e.delete(u))}function o(u,f){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=e.get(u);(!m||m.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const d=e.get(u);if(d===void 0)e.set(u,n(u,f));else if(d.version<u.version){if(d.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(d.buffer,u,f),d.version=u.version}}return{get:r,remove:a,update:o}}var FY=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,jY=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,kY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,GY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qY=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,XY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,WY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,YY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,KY=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,ZY=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,QY=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,JY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,$Y=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,eK=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,tK=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,nK=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,iK=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,rK=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aK=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,sK=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,oK=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lK=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,uK=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,cK=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,fK=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,hK=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dK=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,pK=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,mK=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,gK=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,vK="gl_FragColor = linearToOutputTexel( gl_FragColor );",yK=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,xK=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bK=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_K=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,SK=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,MK=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,EK=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,TK=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,AK=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,wK=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,CK=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,RK=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,DK=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,NK=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,OK=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,PK=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,UK=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,LK=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,IK=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,BK=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,zK=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,VK=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,HK=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,FK=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,jK=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,kK=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,GK=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,qK=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,XK=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,WK=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,YK=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,KK=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ZK=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QK=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,JK=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,$K=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,eZ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,tZ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,nZ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,iZ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,rZ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aZ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,sZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,oZ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lZ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,uZ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cZ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,fZ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,hZ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,dZ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,pZ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mZ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,gZ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vZ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yZ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,xZ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bZ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_Z=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,SZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,MZ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,EZ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,TZ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,AZ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,wZ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,CZ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,RZ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,DZ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,NZ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,OZ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,PZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,UZ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,LZ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,IZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,BZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,zZ=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,VZ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const HZ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,FZ=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kZ=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,GZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qZ=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,XZ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,WZ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,YZ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,KZ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ZZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,QZ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,JZ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$Z=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,eQ=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,tQ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nQ=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iQ=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rQ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,aQ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sQ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,oQ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,lQ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uQ=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cQ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fQ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hQ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dQ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pQ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,mQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,gQ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vQ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yQ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xQ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sn={alphahash_fragment:FY,alphahash_pars_fragment:jY,alphamap_fragment:kY,alphamap_pars_fragment:GY,alphatest_fragment:qY,alphatest_pars_fragment:XY,aomap_fragment:WY,aomap_pars_fragment:YY,batching_pars_vertex:KY,batching_vertex:ZY,begin_vertex:QY,beginnormal_vertex:JY,bsdfs:$Y,iridescence_fragment:eK,bumpmap_pars_fragment:tK,clipping_planes_fragment:nK,clipping_planes_pars_fragment:iK,clipping_planes_pars_vertex:rK,clipping_planes_vertex:aK,color_fragment:sK,color_pars_fragment:oK,color_pars_vertex:lK,color_vertex:uK,common:cK,cube_uv_reflection_fragment:fK,defaultnormal_vertex:hK,displacementmap_pars_vertex:dK,displacementmap_vertex:pK,emissivemap_fragment:mK,emissivemap_pars_fragment:gK,colorspace_fragment:vK,colorspace_pars_fragment:yK,envmap_fragment:xK,envmap_common_pars_fragment:bK,envmap_pars_fragment:_K,envmap_pars_vertex:SK,envmap_physical_pars_fragment:PK,envmap_vertex:MK,fog_vertex:EK,fog_pars_vertex:TK,fog_fragment:AK,fog_pars_fragment:wK,gradientmap_pars_fragment:CK,lightmap_pars_fragment:RK,lights_lambert_fragment:DK,lights_lambert_pars_fragment:NK,lights_pars_begin:OK,lights_toon_fragment:UK,lights_toon_pars_fragment:LK,lights_phong_fragment:IK,lights_phong_pars_fragment:BK,lights_physical_fragment:zK,lights_physical_pars_fragment:VK,lights_fragment_begin:HK,lights_fragment_maps:FK,lights_fragment_end:jK,logdepthbuf_fragment:kK,logdepthbuf_pars_fragment:GK,logdepthbuf_pars_vertex:qK,logdepthbuf_vertex:XK,map_fragment:WK,map_pars_fragment:YK,map_particle_fragment:KK,map_particle_pars_fragment:ZK,metalnessmap_fragment:QK,metalnessmap_pars_fragment:JK,morphinstance_vertex:$K,morphcolor_vertex:eZ,morphnormal_vertex:tZ,morphtarget_pars_vertex:nZ,morphtarget_vertex:iZ,normal_fragment_begin:rZ,normal_fragment_maps:aZ,normal_pars_fragment:sZ,normal_pars_vertex:oZ,normal_vertex:lZ,normalmap_pars_fragment:uZ,clearcoat_normal_fragment_begin:cZ,clearcoat_normal_fragment_maps:fZ,clearcoat_pars_fragment:hZ,iridescence_pars_fragment:dZ,opaque_fragment:pZ,packing:mZ,premultiplied_alpha_fragment:gZ,project_vertex:vZ,dithering_fragment:yZ,dithering_pars_fragment:xZ,roughnessmap_fragment:bZ,roughnessmap_pars_fragment:_Z,shadowmap_pars_fragment:SZ,shadowmap_pars_vertex:MZ,shadowmap_vertex:EZ,shadowmask_pars_fragment:TZ,skinbase_vertex:AZ,skinning_pars_vertex:wZ,skinning_vertex:CZ,skinnormal_vertex:RZ,specularmap_fragment:DZ,specularmap_pars_fragment:NZ,tonemapping_fragment:OZ,tonemapping_pars_fragment:PZ,transmission_fragment:UZ,transmission_pars_fragment:LZ,uv_pars_fragment:IZ,uv_pars_vertex:BZ,uv_vertex:zZ,worldpos_vertex:VZ,background_vert:HZ,background_frag:FZ,backgroundCube_vert:jZ,backgroundCube_frag:kZ,cube_vert:GZ,cube_frag:qZ,depth_vert:XZ,depth_frag:WZ,distanceRGBA_vert:YZ,distanceRGBA_frag:KZ,equirect_vert:ZZ,equirect_frag:QZ,linedashed_vert:JZ,linedashed_frag:$Z,meshbasic_vert:eQ,meshbasic_frag:tQ,meshlambert_vert:nQ,meshlambert_frag:iQ,meshmatcap_vert:rQ,meshmatcap_frag:aQ,meshnormal_vert:sQ,meshnormal_frag:oQ,meshphong_vert:lQ,meshphong_frag:uQ,meshphysical_vert:cQ,meshphysical_frag:fQ,meshtoon_vert:hQ,meshtoon_frag:dQ,points_vert:pQ,points_frag:mQ,shadow_vert:gQ,shadow_frag:vQ,sprite_vert:yQ,sprite_frag:xQ},ht={common:{diffuse:{value:new vt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new en}},envmap:{envMap:{value:null},envMapRotation:{value:new en},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new en}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new en}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new en},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new en},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new en},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new en}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new en}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new en}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0},uvTransform:{value:new en}},sprite:{diffuse:{value:new vt(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}}},ko={basic:{uniforms:Ca([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:Ca([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new vt(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:Ca([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new vt(0)},specular:{value:new vt(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:Ca([ht.common,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.roughnessmap,ht.metalnessmap,ht.fog,ht.lights,{emissive:{value:new vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:Ca([ht.common,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.gradientmap,ht.fog,ht.lights,{emissive:{value:new vt(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:Ca([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:Ca([ht.points,ht.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:Ca([ht.common,ht.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:Ca([ht.common,ht.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:Ca([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,{opacity:{value:1}}]),vertexShader:sn.meshnormal_vert,fragmentShader:sn.meshnormal_frag},sprite:{uniforms:Ca([ht.sprite,ht.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new en},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new en}},vertexShader:sn.backgroundCube_vert,fragmentShader:sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:Ca([ht.common,ht.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:Ca([ht.lights,ht.fog,{color:{value:new vt(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};ko.physical={uniforms:Ca([ko.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new en},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new en},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new en},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new en},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new en},sheen:{value:0},sheenColor:{value:new vt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new en},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new en},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new en},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new en},attenuationDistance:{value:0},attenuationColor:{value:new vt(0)},specularColor:{value:new vt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new en},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new en},anisotropyVector:{value:new Ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new en}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag};const kb={r:0,b:0,g:0},Bh=new Ds,bQ=new Gt;function _Q(t,e,n,i,r,a,o){const u=new vt(0);let f=a===!0?0:1,d,m,g=null,y=0,b=null;function _(D){let N=D.isScene===!0?D.background:null;return N&&N.isTexture&&(N=(D.backgroundBlurriness>0?n:e).get(N)),N}function A(D){let N=!1;const U=_(D);U===null?M(u,f):U&&U.isColor&&(M(U,1),N=!0);const L=t.xr.getEnvironmentBlendMode();L==="additive"?i.buffers.color.setClear(0,0,0,1,o):L==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function T(D,N){const U=_(N);U&&(U.isCubeTexture||U.mapping===Hm)?(m===void 0&&(m=new Ki(new _d(1,1,1),new Ko({name:"BackgroundCubeMaterial",uniforms:Tm(ko.backgroundCube.uniforms),vertexShader:ko.backgroundCube.vertexShader,fragmentShader:ko.backgroundCube.fragmentShader,side:Oa,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(L,V,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),Bh.copy(N.backgroundRotation),Bh.x*=-1,Bh.y*=-1,Bh.z*=-1,U.isCubeTexture&&U.isRenderTargetTexture===!1&&(Bh.y*=-1,Bh.z*=-1),m.material.uniforms.envMap.value=U,m.material.uniforms.flipEnvMap.value=U.isCubeTexture&&U.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(bQ.makeRotationFromEuler(Bh)),m.material.toneMapped=xn.getTransfer(U.colorSpace)!==Hn,(g!==U||y!==U.version||b!==t.toneMapping)&&(m.material.needsUpdate=!0,g=U,y=U.version,b=t.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):U&&U.isTexture&&(d===void 0&&(d=new Ki(new Gm(2,2),new Ko({name:"BackgroundMaterial",uniforms:Tm(ko.background.uniforms),vertexShader:ko.background.vertexShader,fragmentShader:ko.background.fragmentShader,side:ku,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(d)),d.material.uniforms.t2D.value=U,d.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,d.material.toneMapped=xn.getTransfer(U.colorSpace)!==Hn,U.matrixAutoUpdate===!0&&U.updateMatrix(),d.material.uniforms.uvTransform.value.copy(U.matrix),(g!==U||y!==U.version||b!==t.toneMapping)&&(d.material.needsUpdate=!0,g=U,y=U.version,b=t.toneMapping),d.layers.enableAll(),D.unshift(d,d.geometry,d.material,0,0,null))}function M(D,N){D.getRGB(kb,r4(t)),i.buffers.color.setClear(kb.r,kb.g,kb.b,N,o)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return u},setClearColor:function(D,N=1){u.set(D),f=N,M(u,f)},getClearAlpha:function(){return f},setClearAlpha:function(D){f=D,M(u,f)},render:A,addToRenderList:T,dispose:R}}function SQ(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=y(null);let a=r,o=!1;function u(z,G,ee,ie,pe){let ue=!1;const X=g(ie,ee,G);a!==X&&(a=X,d(a.object)),ue=b(z,ie,ee,pe),ue&&_(z,ie,ee,pe),pe!==null&&e.update(pe,t.ELEMENT_ARRAY_BUFFER),(ue||o)&&(o=!1,N(z,G,ee,ie),pe!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(pe).buffer))}function f(){return t.createVertexArray()}function d(z){return t.bindVertexArray(z)}function m(z){return t.deleteVertexArray(z)}function g(z,G,ee){const ie=ee.wireframe===!0;let pe=i[z.id];pe===void 0&&(pe={},i[z.id]=pe);let ue=pe[G.id];ue===void 0&&(ue={},pe[G.id]=ue);let X=ue[ie];return X===void 0&&(X=y(f()),ue[ie]=X),X}function y(z){const G=[],ee=[],ie=[];for(let pe=0;pe<n;pe++)G[pe]=0,ee[pe]=0,ie[pe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:ee,attributeDivisors:ie,object:z,attributes:{},index:null}}function b(z,G,ee,ie){const pe=a.attributes,ue=G.attributes;let X=0;const Q=ee.getAttributes();for(const $ in Q)if(Q[$].location>=0){const Y=pe[$];let re=ue[$];if(re===void 0&&($==="instanceMatrix"&&z.instanceMatrix&&(re=z.instanceMatrix),$==="instanceColor"&&z.instanceColor&&(re=z.instanceColor)),Y===void 0||Y.attribute!==re||re&&Y.data!==re.data)return!0;X++}return a.attributesNum!==X||a.index!==ie}function _(z,G,ee,ie){const pe={},ue=G.attributes;let X=0;const Q=ee.getAttributes();for(const $ in Q)if(Q[$].location>=0){let Y=ue[$];Y===void 0&&($==="instanceMatrix"&&z.instanceMatrix&&(Y=z.instanceMatrix),$==="instanceColor"&&z.instanceColor&&(Y=z.instanceColor));const re={};re.attribute=Y,Y&&Y.data&&(re.data=Y.data),pe[$]=re,X++}a.attributes=pe,a.attributesNum=X,a.index=ie}function A(){const z=a.newAttributes;for(let G=0,ee=z.length;G<ee;G++)z[G]=0}function T(z){M(z,0)}function M(z,G){const ee=a.newAttributes,ie=a.enabledAttributes,pe=a.attributeDivisors;ee[z]=1,ie[z]===0&&(t.enableVertexAttribArray(z),ie[z]=1),pe[z]!==G&&(t.vertexAttribDivisor(z,G),pe[z]=G)}function R(){const z=a.newAttributes,G=a.enabledAttributes;for(let ee=0,ie=G.length;ee<ie;ee++)G[ee]!==z[ee]&&(t.disableVertexAttribArray(ee),G[ee]=0)}function D(z,G,ee,ie,pe,ue,X){X===!0?t.vertexAttribIPointer(z,G,ee,pe,ue):t.vertexAttribPointer(z,G,ee,ie,pe,ue)}function N(z,G,ee,ie){A();const pe=ie.attributes,ue=ee.getAttributes(),X=G.defaultAttributeValues;for(const Q in ue){const $=ue[Q];if($.location>=0){let me=pe[Q];if(me===void 0&&(Q==="instanceMatrix"&&z.instanceMatrix&&(me=z.instanceMatrix),Q==="instanceColor"&&z.instanceColor&&(me=z.instanceColor)),me!==void 0){const Y=me.normalized,re=me.itemSize,he=e.get(me);if(he===void 0)continue;const Pe=he.buffer,je=he.type,ot=he.bytesPerElement,ve=je===t.INT||je===t.UNSIGNED_INT||me.gpuType===JS;if(me.isInterleavedBufferAttribute){const ze=me.data,Ye=ze.stride,Oe=me.offset;if(ze.isInstancedInterleavedBuffer){for(let Xe=0;Xe<$.locationSize;Xe++)M($.location+Xe,ze.meshPerAttribute);z.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let Xe=0;Xe<$.locationSize;Xe++)T($.location+Xe);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let Xe=0;Xe<$.locationSize;Xe++)D($.location+Xe,re/$.locationSize,je,Y,Ye*ot,(Oe+re/$.locationSize*Xe)*ot,ve)}else{if(me.isInstancedBufferAttribute){for(let ze=0;ze<$.locationSize;ze++)M($.location+ze,me.meshPerAttribute);z.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let ze=0;ze<$.locationSize;ze++)T($.location+ze);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let ze=0;ze<$.locationSize;ze++)D($.location+ze,re/$.locationSize,je,Y,re*ot,re/$.locationSize*ze*ot,ve)}}else if(X!==void 0){const Y=X[Q];if(Y!==void 0)switch(Y.length){case 2:t.vertexAttrib2fv($.location,Y);break;case 3:t.vertexAttrib3fv($.location,Y);break;case 4:t.vertexAttrib4fv($.location,Y);break;default:t.vertexAttrib1fv($.location,Y)}}}}R()}function U(){F();for(const z in i){const G=i[z];for(const ee in G){const ie=G[ee];for(const pe in ie)m(ie[pe].object),delete ie[pe];delete G[ee]}delete i[z]}}function L(z){if(i[z.id]===void 0)return;const G=i[z.id];for(const ee in G){const ie=G[ee];for(const pe in ie)m(ie[pe].object),delete ie[pe];delete G[ee]}delete i[z.id]}function V(z){for(const G in i){const ee=i[G];if(ee[z.id]===void 0)continue;const ie=ee[z.id];for(const pe in ie)m(ie[pe].object),delete ie[pe];delete ee[z.id]}}function F(){B(),o=!0,a!==r&&(a=r,d(a.object))}function B(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:u,reset:F,resetDefaultState:B,dispose:U,releaseStatesOfGeometry:L,releaseStatesOfProgram:V,initAttributes:A,enableAttribute:T,disableUnusedAttributes:R}}function MQ(t,e,n){let i;function r(d){i=d}function a(d,m){t.drawArrays(i,d,m),n.update(m,i,1)}function o(d,m,g){g!==0&&(t.drawArraysInstanced(i,d,m,g),n.update(m,i,g))}function u(d,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,d,0,m,0,g);let b=0;for(let _=0;_<g;_++)b+=m[_];n.update(b,i,1)}function f(d,m,g,y){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<d.length;_++)o(d[_],m[_],y[_]);else{b.multiDrawArraysInstancedWEBGL(i,d,0,m,0,y,0,g);let _=0;for(let A=0;A<g;A++)_+=m[A]*y[A];n.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function EQ(t,e,n,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const V=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(V){return!(V!==ra&&i.convert(V)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(V){const F=V===Fm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(V!==oo&&i.convert(V)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&V!==is&&!F)}function f(V){if(V==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";V="mediump"}return V==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=n.precision!==void 0?n.precision:"highp";const m=f(d);m!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",m,"instead."),d=m);const g=n.logarithmicDepthBuffer===!0,y=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),b=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),A=t.getParameter(t.MAX_TEXTURE_SIZE),T=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),M=t.getParameter(t.MAX_VERTEX_ATTRIBS),R=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),D=t.getParameter(t.MAX_VARYING_VECTORS),N=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),U=_>0,L=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:f,textureFormatReadable:o,textureTypeReadable:u,precision:d,logarithmicDepthBuffer:g,reversedDepthBuffer:y,maxTextures:b,maxVertexTextures:_,maxTextureSize:A,maxCubemapSize:T,maxAttributes:M,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:N,vertexTextures:U,maxSamples:L}}function TQ(t){const e=this;let n=null,i=0,r=!1,a=!1;const o=new af,u=new en,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const b=g.length!==0||y||i!==0||r;return r=y,i=g.length,b},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,y){n=m(g,y,0)},this.setState=function(g,y,b){const _=g.clippingPlanes,A=g.clipIntersection,T=g.clipShadows,M=t.get(g);if(!r||_===null||_.length===0||a&&!T)a?m(null):d();else{const R=a?0:i,D=R*4;let N=M.clippingState||null;f.value=N,N=m(_,y,D,b);for(let U=0;U!==D;++U)N[U]=n[U];M.clippingState=N,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=R}};function d(){f.value!==n&&(f.value=n,f.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,y,b,_){const A=g!==null?g.length:0;let T=null;if(A!==0){if(T=f.value,_!==!0||T===null){const M=b+A*4,R=y.matrixWorldInverse;u.getNormalMatrix(R),(T===null||T.length<M)&&(T=new Float32Array(M));for(let D=0,N=b;D!==A;++D,N+=4)o.copy(g[D]).applyMatrix4(R,u),o.normal.toArray(T,N),T[N+3]=o.constant}f.value=T,f.needsUpdate=!0}return e.numPlanes=A,e.numIntersection=0,T}}function AQ(t){let e=new WeakMap;function n(o,u){return u===d0?o.mapping=Gu:u===p0&&(o.mapping=vf),o}function i(o){if(o&&o.isTexture){const u=o.mapping;if(u===d0||u===p0)if(e.has(o)){const f=e.get(o).texture;return n(f,o.mapping)}else{const f=o.image;if(f&&f.height>0){const d=new o4(f.height);return d.fromEquirectangularTexture(t,o),e.set(o,d),o.addEventListener("dispose",r),n(d.texture,o.mapping)}else return null}}return o}function r(o){const u=o.target;u.removeEventListener("dispose",r);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const lm=4,_O=[.125,.215,.35,.446,.526,.582],Xh=20,eT=new ay,SO=new vt;let tT=null,nT=0,iT=0,rT=!1;const kh=(1+Math.sqrt(5))/2,Yp=1/kh,MO=[new Z(-kh,Yp,0),new Z(kh,Yp,0),new Z(-Yp,0,kh),new Z(Yp,0,kh),new Z(0,kh,-Yp),new Z(0,kh,Yp),new Z(-1,1,-1),new Z(1,1,-1),new Z(-1,1,1),new Z(1,1,1)],wQ=new Z;class ww{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100,a={}){const{size:o=256,position:u=wQ}=a;tT=this._renderer.getRenderTarget(),nT=this._renderer.getActiveCubeFace(),iT=this._renderer.getActiveMipmapLevel(),rT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,i,r,f,u),n>0&&this._blur(f,0,0,n),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=AO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=TO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(tT,nT,iT),this._renderer.xr.enabled=rT,e.scissorTest=!1,Gb(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Gu||e.mapping===vf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),tT=this._renderer.getRenderTarget(),nT=this._renderer.getActiveCubeFace(),iT=this._renderer.getActiveMipmapLevel(),rT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:ur,minFilter:ur,generateMipmaps:!1,type:Fm,format:ra,colorSpace:yf,depthBuffer:!1},r=EO(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=EO(e,n,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=CQ(a)),this._blurMaterial=RQ(a,e,n)}return r}_compileMaterial(e){const n=new Ki(this._lodPlanes[0],e);this._renderer.compile(n,eT)}_sceneToCubeUV(e,n,i,r,a){const f=new Mr(90,1,n,i),d=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,b=g.toneMapping;g.getClearColor(SO),g.toneMapping=Wl,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null));const A=new Sf({name:"PMREM.Background",side:Oa,depthWrite:!1,depthTest:!1}),T=new Ki(new _d,A);let M=!1;const R=e.background;R?R.isColor&&(A.color.copy(R),e.background=null,M=!0):(A.color.copy(SO),M=!0);for(let D=0;D<6;D++){const N=D%3;N===0?(f.up.set(0,d[D],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x+m[D],a.y,a.z)):N===1?(f.up.set(0,0,d[D]),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y+m[D],a.z)):(f.up.set(0,d[D],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y,a.z+m[D]));const U=this._cubeSize;Gb(r,N*U,D>2?U:0,U,U),g.setRenderTarget(r),M&&g.render(T,f),g.render(e,f)}T.geometry.dispose(),T.material.dispose(),g.toneMapping=b,g.autoClear=y,e.background=R}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Gu||e.mapping===vf;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=AO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=TO());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new Ki(this._lodPlanes[0],a),u=a.uniforms;u.envMap.value=e;const f=this._cubeSize;Gb(n,0,0,3*f,2*f),i.setRenderTarget(n),i.render(o,eT)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),u=MO[(r-a-1)%MO.length];this._blur(e,a-1,a,o,u)}n.autoClear=i}_blur(e,n,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",a),this._halfBlur(o,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,o,u){const f=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new Ki(this._lodPlanes[r],d),y=d.uniforms,b=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*Xh-1),A=a/_,T=isFinite(a)?1+Math.floor(m*A):Xh;T>Xh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${T} samples when the maximum is set to ${Xh}`);const M=[];let R=0;for(let V=0;V<Xh;++V){const F=V/A,B=Math.exp(-F*F/2);M.push(B),V===0?R+=B:V<T&&(R+=2*B)}for(let V=0;V<M.length;V++)M[V]=M[V]/R;y.envMap.value=e.texture,y.samples.value=T,y.weights.value=M,y.latitudinal.value=o==="latitudinal",u&&(y.poleAxis.value=u);const{_lodMax:D}=this;y.dTheta.value=_,y.mipInt.value=D-i;const N=this._sizeLods[r],U=3*N*(r>D-lm?r-D+lm:0),L=4*(this._cubeSize-N);Gb(n,U,L,3*N,2*N),f.setRenderTarget(n),f.render(g,eT)}}function CQ(t){const e=[],n=[],i=[];let r=t;const a=t-lm+1+_O.length;for(let o=0;o<a;o++){const u=Math.pow(2,r);n.push(u);let f=1/u;o>t-lm?f=_O[o-t+lm-1]:o===0&&(f=0),i.push(f);const d=1/(u-2),m=-d,g=1+d,y=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,_=6,A=3,T=2,M=1,R=new Float32Array(A*_*b),D=new Float32Array(T*_*b),N=new Float32Array(M*_*b);for(let L=0;L<b;L++){const V=L%3*2/3-1,F=L>2?0:-1,B=[V,F,0,V+2/3,F,0,V+2/3,F+1,0,V,F,0,V+2/3,F+1,0,V,F+1,0];R.set(B,A*_*L),D.set(y,T*_*L);const z=[L,L,L,L,L,L];N.set(z,M*_*L)}const U=new rn;U.setAttribute("position",new Yn(R,A)),U.setAttribute("uv",new Yn(D,T)),U.setAttribute("faceIndex",new Yn(N,M)),e.push(U),r>lm&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function EO(t,e,n){const i=new Zl(t,e,n);return i.texture.mapping=Hm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Gb(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function RQ(t,e,n){const i=new Float32Array(Xh),r=new Z(0,1,0);return new Ko({name:"SphericalGaussianBlur",defines:{n:Xh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:DC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bu,depthTest:!1,depthWrite:!1})}function TO(){return new Ko({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:DC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bu,depthTest:!1,depthWrite:!1})}function AO(){return new Ko({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:DC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bu,depthTest:!1,depthWrite:!1})}function DC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function DQ(t){let e=new WeakMap,n=null;function i(u){if(u&&u.isTexture){const f=u.mapping,d=f===d0||f===p0,m=f===Gu||f===vf;if(d||m){let g=e.get(u);const y=g!==void 0?g.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==y)return n===null&&(n=new ww(t)),g=d?n.fromEquirectangular(u,g):n.fromCubemap(u,g),g.texture.pmremVersion=u.pmremVersion,e.set(u,g),g.texture;if(g!==void 0)return g.texture;{const b=u.image;return d&&b&&b.height>0||m&&b&&r(b)?(n===null&&(n=new ww(t)),g=d?n.fromEquirectangular(u):n.fromCubemap(u),g.texture.pmremVersion=u.pmremVersion,e.set(u,g),u.addEventListener("dispose",a),g.texture):null}}}return u}function r(u){let f=0;const d=6;for(let m=0;m<d;m++)u[m]!==void 0&&f++;return f===d}function a(u){const f=u.target;f.removeEventListener("dispose",a);const d=e.get(f);d!==void 0&&(e.delete(f),d.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function NQ(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&S0("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function OQ(t,e,n,i){const r={},a=new WeakMap;function o(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",o),delete r[y.id];const b=a.get(y);b&&(e.remove(b),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,n.memory.geometries--}function u(g,y){return r[y.id]===!0||(y.addEventListener("dispose",o),r[y.id]=!0,n.memory.geometries++),y}function f(g){const y=g.attributes;for(const b in y)e.update(y[b],t.ARRAY_BUFFER)}function d(g){const y=[],b=g.index,_=g.attributes.position;let A=0;if(b!==null){const R=b.array;A=b.version;for(let D=0,N=R.length;D<N;D+=3){const U=R[D+0],L=R[D+1],V=R[D+2];y.push(U,L,L,V,V,U)}}else if(_!==void 0){const R=_.array;A=_.version;for(let D=0,N=R.length/3-1;D<N;D+=3){const U=D+0,L=D+1,V=D+2;y.push(U,L,L,V,V,U)}}else return;const T=new(e4(y)?rC:iC)(y,1);T.version=A;const M=a.get(g);M&&e.remove(M),a.set(g,T)}function m(g){const y=a.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&d(g)}else d(g);return a.get(g)}return{get:u,update:f,getWireframeAttribute:m}}function PQ(t,e,n){let i;function r(y){i=y}let a,o;function u(y){a=y.type,o=y.bytesPerElement}function f(y,b){t.drawElements(i,b,a,y*o),n.update(b,i,1)}function d(y,b,_){_!==0&&(t.drawElementsInstanced(i,b,a,y*o,_),n.update(b,i,_))}function m(y,b,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,y,0,_);let T=0;for(let M=0;M<_;M++)T+=b[M];n.update(T,i,1)}function g(y,b,_,A){if(_===0)return;const T=e.get("WEBGL_multi_draw");if(T===null)for(let M=0;M<y.length;M++)d(y[M]/o,b[M],A[M]);else{T.multiDrawElementsInstancedWEBGL(i,b,0,a,y,0,A,0,_);let M=0;for(let R=0;R<_;R++)M+=b[R]*A[R];n.update(M,i,1)}}this.setMode=r,this.setIndex=u,this.render=f,this.renderInstances=d,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function UQ(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,u){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=u*(a/3);break;case t.LINES:n.lines+=u*(a/2);break;case t.LINE_STRIP:n.lines+=u*(a-1);break;case t.LINE_LOOP:n.lines+=u*a;break;case t.POINTS:n.points+=u*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function LQ(t,e,n){const i=new WeakMap,r=new Mn;function a(o,u,f){const d=o.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(u);if(y===void 0||y.count!==g){let z=function(){F.dispose(),i.delete(u),u.removeEventListener("dispose",z)};var b=z;y!==void 0&&y.texture.dispose();const _=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,T=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let N=0;_===!0&&(N=1),A===!0&&(N=2),T===!0&&(N=3);let U=u.attributes.position.count*N,L=1;U>e.maxTextureSize&&(L=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const V=new Float32Array(U*L*4*g),F=new a1(V,U,L,g);F.type=is,F.needsUpdate=!0;const B=N*4;for(let G=0;G<g;G++){const ee=M[G],ie=R[G],pe=D[G],ue=U*L*4*G;for(let X=0;X<ee.count;X++){const Q=X*B;_===!0&&(r.fromBufferAttribute(ee,X),V[ue+Q+0]=r.x,V[ue+Q+1]=r.y,V[ue+Q+2]=r.z,V[ue+Q+3]=0),A===!0&&(r.fromBufferAttribute(ie,X),V[ue+Q+4]=r.x,V[ue+Q+5]=r.y,V[ue+Q+6]=r.z,V[ue+Q+7]=0),T===!0&&(r.fromBufferAttribute(pe,X),V[ue+Q+8]=r.x,V[ue+Q+9]=r.y,V[ue+Q+10]=r.z,V[ue+Q+11]=pe.itemSize===4?r.w:1)}}y={count:g,texture:F,size:new Ge(U,L)},i.set(u,y),u.addEventListener("dispose",z)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)f.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let _=0;for(let T=0;T<d.length;T++)_+=d[T];const A=u.morphTargetsRelative?1:1-_;f.getUniforms().setValue(t,"morphTargetBaseInfluence",A),f.getUniforms().setValue(t,"morphTargetInfluences",d)}f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}return{update:a}}function IQ(t,e,n,i){let r=new WeakMap;function a(f){const d=i.render.frame,m=f.geometry,g=e.get(f,m);if(r.get(g)!==d&&(e.update(g),r.set(g,d)),f.isInstancedMesh&&(f.hasEventListener("dispose",u)===!1&&f.addEventListener("dispose",u),r.get(f)!==d&&(n.update(f.instanceMatrix,t.ARRAY_BUFFER),f.instanceColor!==null&&n.update(f.instanceColor,t.ARRAY_BUFFER),r.set(f,d))),f.isSkinnedMesh){const y=f.skeleton;r.get(y)!==d&&(y.update(),r.set(y,d))}return g}function o(){r=new WeakMap}function u(f){const d=f.target;d.removeEventListener("dispose",u),n.remove(d.instanceMatrix),d.instanceColor!==null&&n.remove(d.instanceColor)}return{update:a,dispose:o}}const s5=new Ni,wO=new lC(1,1),o5=new a1,l5=new s1,u5=new J0,CO=[],RO=[],DO=new Float32Array(16),NO=new Float32Array(9),OO=new Float32Array(4);function qm(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=CO[r];if(a===void 0&&(a=new Float32Array(r),CO[r]=a),e!==0){i.toArray(a,0);for(let o=1,u=0;o!==e;++o)u+=n,t[o].toArray(a,u)}return a}function fr(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function hr(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function R1(t,e){let n=RO[e];n===void 0&&(n=new Int32Array(e),RO[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function BQ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function zQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fr(n,e))return;t.uniform2fv(this.addr,e),hr(n,e)}}function VQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(fr(n,e))return;t.uniform3fv(this.addr,e),hr(n,e)}}function HQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fr(n,e))return;t.uniform4fv(this.addr,e),hr(n,e)}}function FQ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(fr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),hr(n,e)}else{if(fr(n,i))return;OO.set(i),t.uniformMatrix2fv(this.addr,!1,OO),hr(n,i)}}function jQ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(fr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),hr(n,e)}else{if(fr(n,i))return;NO.set(i),t.uniformMatrix3fv(this.addr,!1,NO),hr(n,i)}}function kQ(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(fr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),hr(n,e)}else{if(fr(n,i))return;DO.set(i),t.uniformMatrix4fv(this.addr,!1,DO),hr(n,i)}}function GQ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function qQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fr(n,e))return;t.uniform2iv(this.addr,e),hr(n,e)}}function XQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(fr(n,e))return;t.uniform3iv(this.addr,e),hr(n,e)}}function WQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fr(n,e))return;t.uniform4iv(this.addr,e),hr(n,e)}}function YQ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function KQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(fr(n,e))return;t.uniform2uiv(this.addr,e),hr(n,e)}}function ZQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(fr(n,e))return;t.uniform3uiv(this.addr,e),hr(n,e)}}function QQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(fr(n,e))return;t.uniform4uiv(this.addr,e),hr(n,e)}}function JQ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let a;this.type===t.SAMPLER_2D_SHADOW?(wO.compareFunction=eC,a=wO):a=s5,n.setTexture2D(e||a,r)}function $Q(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||l5,r)}function eJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||u5,r)}function tJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||o5,r)}function nJ(t){switch(t){case 5126:return BQ;case 35664:return zQ;case 35665:return VQ;case 35666:return HQ;case 35674:return FQ;case 35675:return jQ;case 35676:return kQ;case 5124:case 35670:return GQ;case 35667:case 35671:return qQ;case 35668:case 35672:return XQ;case 35669:case 35673:return WQ;case 5125:return YQ;case 36294:return KQ;case 36295:return ZQ;case 36296:return QQ;case 35678:case 36198:case 36298:case 36306:case 35682:return JQ;case 35679:case 36299:case 36307:return $Q;case 35680:case 36300:case 36308:case 36293:return eJ;case 36289:case 36303:case 36311:case 36292:return tJ}}function iJ(t,e){t.uniform1fv(this.addr,e)}function rJ(t,e){const n=qm(e,this.size,2);t.uniform2fv(this.addr,n)}function aJ(t,e){const n=qm(e,this.size,3);t.uniform3fv(this.addr,n)}function sJ(t,e){const n=qm(e,this.size,4);t.uniform4fv(this.addr,n)}function oJ(t,e){const n=qm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function lJ(t,e){const n=qm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function uJ(t,e){const n=qm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function cJ(t,e){t.uniform1iv(this.addr,e)}function fJ(t,e){t.uniform2iv(this.addr,e)}function hJ(t,e){t.uniform3iv(this.addr,e)}function dJ(t,e){t.uniform4iv(this.addr,e)}function pJ(t,e){t.uniform1uiv(this.addr,e)}function mJ(t,e){t.uniform2uiv(this.addr,e)}function gJ(t,e){t.uniform3uiv(this.addr,e)}function vJ(t,e){t.uniform4uiv(this.addr,e)}function yJ(t,e,n){const i=this.cache,r=e.length,a=R1(n,r);fr(i,a)||(t.uniform1iv(this.addr,a),hr(i,a));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||s5,a[o])}function xJ(t,e,n){const i=this.cache,r=e.length,a=R1(n,r);fr(i,a)||(t.uniform1iv(this.addr,a),hr(i,a));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||l5,a[o])}function bJ(t,e,n){const i=this.cache,r=e.length,a=R1(n,r);fr(i,a)||(t.uniform1iv(this.addr,a),hr(i,a));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||u5,a[o])}function _J(t,e,n){const i=this.cache,r=e.length,a=R1(n,r);fr(i,a)||(t.uniform1iv(this.addr,a),hr(i,a));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||o5,a[o])}function SJ(t){switch(t){case 5126:return iJ;case 35664:return rJ;case 35665:return aJ;case 35666:return sJ;case 35674:return oJ;case 35675:return lJ;case 35676:return uJ;case 5124:case 35670:return cJ;case 35667:case 35671:return fJ;case 35668:case 35672:return hJ;case 35669:case 35673:return dJ;case 5125:return pJ;case 36294:return mJ;case 36295:return gJ;case 36296:return vJ;case 35678:case 36198:case 36298:case 36306:case 35682:return yJ;case 35679:case 36299:case 36307:return xJ;case 35680:case 36300:case 36308:case 36293:return bJ;case 36289:case 36303:case 36311:case 36292:return _J}}class MJ{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=nJ(n.type)}}class EJ{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=SJ(n.type)}}class TJ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const u=r[a];u.setValue(e,n[u.id],i)}}}const aT=/(\w+)(\])?(\[|\.)?/g;function PO(t,e){t.seq.push(e),t.map[e.id]=e}function AJ(t,e,n){const i=t.name,r=i.length;for(aT.lastIndex=0;;){const a=aT.exec(i),o=aT.lastIndex;let u=a[1];const f=a[2]==="]",d=a[3];if(f&&(u=u|0),d===void 0||d==="["&&o+2===r){PO(n,d===void 0?new MJ(u,t,e):new EJ(u,t,e));break}else{let g=n.map[u];g===void 0&&(g=new TJ(u),PO(n,g)),n=g}}}class d_{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(n,r),o=e.getUniformLocation(n,a.name);AJ(a,o,this)}}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,o=n.length;a!==o;++a){const u=n[a],f=i[u.id];f.needsUpdate!==!1&&u.setValue(e,f.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function UO(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const wJ=37297;let CJ=0;function RJ(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=r;o<a;o++){const u=o+1;i.push(`${u===e?">":" "} ${u}: ${n[o]}`)}return i.join(`
`)}const LO=new en;function DJ(t){xn._getMatrix(LO,xn.workingColorSpace,t);const e=`mat3( ${LO.elements.map(n=>n.toFixed(4))} )`;switch(xn.getTransfer(t)){case x0:return[e,"LinearTransferOETF"];case Hn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function IO(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const u=parseInt(o[1]);return n.toUpperCase()+`

`+a+`

`+RJ(t.getShaderSource(e),u)}else return a}function NJ(t,e){const n=DJ(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function OJ(t,e){let n;switch(e){case Uz:n="Linear";break;case Lz:n="Reinhard";break;case Iz:n="Cineon";break;case G2:n="ACESFilmic";break;case zz:n="AgX";break;case Vz:n="Neutral";break;case Bz:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const qb=new Z;function PJ(){xn.getLuminanceCoefficients(qb);const t=qb.x.toFixed(4),e=qb.y.toFixed(4),n=qb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function UJ(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(jv).join(`
`)}function LJ(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function IJ(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),o=a.name;let u=1;a.type===t.FLOAT_MAT2&&(u=2),a.type===t.FLOAT_MAT3&&(u=3),a.type===t.FLOAT_MAT4&&(u=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:u}}return n}function jv(t){return t!==""}function BO(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zO(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const BJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function Cw(t){return t.replace(BJ,VJ)}const zJ=new Map;function VJ(t,e){let n=sn[e];if(n===void 0){const i=zJ.get(e);if(i!==void 0)n=sn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Cw(n)}const HJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function VO(t){return t.replace(HJ,FJ)}function FJ(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function HO(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function jJ(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===ZS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Zv?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===jo&&(e="SHADOWMAP_TYPE_VSM"),e}function kJ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Gu:case vf:e="ENVMAP_TYPE_CUBE";break;case Hm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function GJ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case vf:e="ENVMAP_MODE_REFRACTION";break}return e}function qJ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Z0:e="ENVMAP_BLENDING_MULTIPLY";break;case Oz:e="ENVMAP_BLENDING_MIX";break;case Pz:e="ENVMAP_BLENDING_ADD";break}return e}function XJ(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function WJ(t,e,n,i){const r=t.getContext(),a=n.defines;let o=n.vertexShader,u=n.fragmentShader;const f=jJ(n),d=kJ(n),m=GJ(n),g=qJ(n),y=XJ(n),b=UJ(n),_=LJ(a),A=r.createProgram();let T,M,R=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(T=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(jv).join(`
`),T.length>0&&(T+=`
`),M=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(jv).join(`
`),M.length>0&&(M+=`
`)):(T=[HO(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jv).join(`
`),M=[HO(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+m:"",n.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Wl?"#define TONE_MAPPING":"",n.toneMapping!==Wl?sn.tonemapping_pars_fragment:"",n.toneMapping!==Wl?OJ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",sn.colorspace_pars_fragment,NJ("linearToOutputTexel",n.outputColorSpace),PJ(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(jv).join(`
`)),o=Cw(o),o=BO(o,n),o=zO(o,n),u=Cw(u),u=BO(u,n),u=zO(u,n),o=VO(o),u=VO(u),n.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,T=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+T,M=["#define varying in",n.glslVersion===xw?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===xw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const D=R+T+o,N=R+M+u,U=UO(r,r.VERTEX_SHADER,D),L=UO(r,r.FRAGMENT_SHADER,N);r.attachShader(A,U),r.attachShader(A,L),n.index0AttributeName!==void 0?r.bindAttribLocation(A,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(A,0,"position"),r.linkProgram(A);function V(G){if(t.debug.checkShaderErrors){const ee=r.getProgramInfoLog(A)||"",ie=r.getShaderInfoLog(U)||"",pe=r.getShaderInfoLog(L)||"",ue=ee.trim(),X=ie.trim(),Q=pe.trim();let $=!0,me=!0;if(r.getProgramParameter(A,r.LINK_STATUS)===!1)if($=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,A,U,L);else{const Y=IO(r,U,"vertex"),re=IO(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(A,r.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+ue+`
`+Y+`
`+re)}else ue!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ue):(X===""||Q==="")&&(me=!1);me&&(G.diagnostics={runnable:$,programLog:ue,vertexShader:{log:X,prefix:T},fragmentShader:{log:Q,prefix:M}})}r.deleteShader(U),r.deleteShader(L),F=new d_(r,A),B=IJ(r,A)}let F;this.getUniforms=function(){return F===void 0&&V(this),F};let B;this.getAttributes=function(){return B===void 0&&V(this),B};let z=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=r.getProgramParameter(A,wJ)),z},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(A),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=CJ++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=U,this.fragmentShader=L,this}let YJ=0;class KJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new ZJ(e),n.set(e,i)),i}}class ZJ{constructor(e){this.id=YJ++,this.code=e,this.usedTimes=0}}function QJ(t,e,n,i,r,a,o){const u=new Em,f=new KJ,d=new Set,m=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let b=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function A(B){return d.add(B),B===0?"uv":`uv${B}`}function T(B,z,G,ee,ie){const pe=ee.fog,ue=ie.geometry,X=B.isMeshStandardMaterial?ee.environment:null,Q=(B.isMeshStandardMaterial?n:e).get(B.envMap||X),$=Q&&Q.mapping===Hm?Q.image.height:null,me=_[B.type];B.precision!==null&&(b=r.getMaxPrecision(B.precision),b!==B.precision&&console.warn("THREE.WebGLProgram.getParameters:",B.precision,"not supported, using",b,"instead."));const Y=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,re=Y!==void 0?Y.length:0;let he=0;ue.morphAttributes.position!==void 0&&(he=1),ue.morphAttributes.normal!==void 0&&(he=2),ue.morphAttributes.color!==void 0&&(he=3);let Pe,je,ot,ve;if(me){const cn=ko[me];Pe=cn.vertexShader,je=cn.fragmentShader}else Pe=B.vertexShader,je=B.fragmentShader,f.update(B),ot=f.getVertexShaderID(B),ve=f.getFragmentShaderID(B);const ze=t.getRenderTarget(),Ye=t.state.buffers.depth.getReversed(),Oe=ie.isInstancedMesh===!0,Xe=ie.isBatchedMesh===!0,lt=!!B.map,Le=!!B.matcap,J=!!Q,De=!!B.aoMap,Ue=!!B.lightMap,Ne=!!B.bumpMap,we=!!B.normalMap,tt=!!B.displacementMap,We=!!B.emissiveMap,Qe=!!B.metalnessMap,Nt=!!B.roughnessMap,Vt=B.anisotropy>0,K=B.clearcoat>0,j=B.dispersion>0,ge=B.iridescence>0,Ce=B.sheen>0,Ve=B.transmission>0,Re=Vt&&!!B.anisotropyMap,ct=K&&!!B.clearcoatMap,nt=K&&!!B.clearcoatNormalMap,yt=K&&!!B.clearcoatRoughnessMap,xt=ge&&!!B.iridescenceMap,qe=ge&&!!B.iridescenceThicknessMap,at=Ce&&!!B.sheenColorMap,At=Ce&&!!B.sheenRoughnessMap,bt=!!B.specularMap,st=!!B.specularColorMap,Ht=!!B.specularIntensityMap,oe=Ve&&!!B.transmissionMap,Je=Ve&&!!B.thicknessMap,it=!!B.gradientMap,mt=!!B.alphaMap,Ke=B.alphaTest>0,Fe=!!B.alphaHash,_t=!!B.extensions;let Lt=Wl;B.toneMapped&&(ze===null||ze.isXRRenderTarget===!0)&&(Lt=t.toneMapping);const pn={shaderID:me,shaderType:B.type,shaderName:B.name,vertexShader:Pe,fragmentShader:je,defines:B.defines,customVertexShaderID:ot,customFragmentShaderID:ve,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:b,batching:Xe,batchingColor:Xe&&ie._colorsTexture!==null,instancing:Oe,instancingColor:Oe&&ie.instanceColor!==null,instancingMorph:Oe&&ie.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:ze===null?t.outputColorSpace:ze.isXRRenderTarget===!0?ze.texture.colorSpace:yf,alphaToCoverage:!!B.alphaToCoverage,map:lt,matcap:Le,envMap:J,envMapMode:J&&Q.mapping,envMapCubeUVHeight:$,aoMap:De,lightMap:Ue,bumpMap:Ne,normalMap:we,displacementMap:y&&tt,emissiveMap:We,normalMapObjectSpace:we&&B.normalMapType===Xz,normalMapTangentSpace:we&&B.normalMapType===_f,metalnessMap:Qe,roughnessMap:Nt,anisotropy:Vt,anisotropyMap:Re,clearcoat:K,clearcoatMap:ct,clearcoatNormalMap:nt,clearcoatRoughnessMap:yt,dispersion:j,iridescence:ge,iridescenceMap:xt,iridescenceThicknessMap:qe,sheen:Ce,sheenColorMap:at,sheenRoughnessMap:At,specularMap:bt,specularColorMap:st,specularIntensityMap:Ht,transmission:Ve,transmissionMap:oe,thicknessMap:Je,gradientMap:it,opaque:B.transparent===!1&&B.blending===id&&B.alphaToCoverage===!1,alphaMap:mt,alphaTest:Ke,alphaHash:Fe,combine:B.combine,mapUv:lt&&A(B.map.channel),aoMapUv:De&&A(B.aoMap.channel),lightMapUv:Ue&&A(B.lightMap.channel),bumpMapUv:Ne&&A(B.bumpMap.channel),normalMapUv:we&&A(B.normalMap.channel),displacementMapUv:tt&&A(B.displacementMap.channel),emissiveMapUv:We&&A(B.emissiveMap.channel),metalnessMapUv:Qe&&A(B.metalnessMap.channel),roughnessMapUv:Nt&&A(B.roughnessMap.channel),anisotropyMapUv:Re&&A(B.anisotropyMap.channel),clearcoatMapUv:ct&&A(B.clearcoatMap.channel),clearcoatNormalMapUv:nt&&A(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:yt&&A(B.clearcoatRoughnessMap.channel),iridescenceMapUv:xt&&A(B.iridescenceMap.channel),iridescenceThicknessMapUv:qe&&A(B.iridescenceThicknessMap.channel),sheenColorMapUv:at&&A(B.sheenColorMap.channel),sheenRoughnessMapUv:At&&A(B.sheenRoughnessMap.channel),specularMapUv:bt&&A(B.specularMap.channel),specularColorMapUv:st&&A(B.specularColorMap.channel),specularIntensityMapUv:Ht&&A(B.specularIntensityMap.channel),transmissionMapUv:oe&&A(B.transmissionMap.channel),thicknessMapUv:Je&&A(B.thicknessMap.channel),alphaMapUv:mt&&A(B.alphaMap.channel),vertexTangents:!!ue.attributes.tangent&&(we||Vt),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,pointsUvs:ie.isPoints===!0&&!!ue.attributes.uv&&(lt||mt),fog:!!pe,useFog:B.fog===!0,fogExp2:!!pe&&pe.isFogExp2,flatShading:B.flatShading===!0&&B.wireframe===!1,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:Ye,skinning:ie.isSkinnedMesh===!0,morphTargets:ue.morphAttributes.position!==void 0,morphNormals:ue.morphAttributes.normal!==void 0,morphColors:ue.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:he,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:B.dithering,shadowMapEnabled:t.shadowMap.enabled&&G.length>0,shadowMapType:t.shadowMap.type,toneMapping:Lt,decodeVideoTexture:lt&&B.map.isVideoTexture===!0&&xn.getTransfer(B.map.colorSpace)===Hn,decodeVideoTextureEmissive:We&&B.emissiveMap.isVideoTexture===!0&&xn.getTransfer(B.emissiveMap.colorSpace)===Hn,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===Bl,flipSided:B.side===Oa,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionClipCullDistance:_t&&B.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&B.extensions.multiDraw===!0||Xe)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()};return pn.vertexUv1s=d.has(1),pn.vertexUv2s=d.has(2),pn.vertexUv3s=d.has(3),d.clear(),pn}function M(B){const z=[];if(B.shaderID?z.push(B.shaderID):(z.push(B.customVertexShaderID),z.push(B.customFragmentShaderID)),B.defines!==void 0)for(const G in B.defines)z.push(G),z.push(B.defines[G]);return B.isRawShaderMaterial===!1&&(R(z,B),D(z,B),z.push(t.outputColorSpace)),z.push(B.customProgramCacheKey),z.join()}function R(B,z){B.push(z.precision),B.push(z.outputColorSpace),B.push(z.envMapMode),B.push(z.envMapCubeUVHeight),B.push(z.mapUv),B.push(z.alphaMapUv),B.push(z.lightMapUv),B.push(z.aoMapUv),B.push(z.bumpMapUv),B.push(z.normalMapUv),B.push(z.displacementMapUv),B.push(z.emissiveMapUv),B.push(z.metalnessMapUv),B.push(z.roughnessMapUv),B.push(z.anisotropyMapUv),B.push(z.clearcoatMapUv),B.push(z.clearcoatNormalMapUv),B.push(z.clearcoatRoughnessMapUv),B.push(z.iridescenceMapUv),B.push(z.iridescenceThicknessMapUv),B.push(z.sheenColorMapUv),B.push(z.sheenRoughnessMapUv),B.push(z.specularMapUv),B.push(z.specularColorMapUv),B.push(z.specularIntensityMapUv),B.push(z.transmissionMapUv),B.push(z.thicknessMapUv),B.push(z.combine),B.push(z.fogExp2),B.push(z.sizeAttenuation),B.push(z.morphTargetsCount),B.push(z.morphAttributeCount),B.push(z.numDirLights),B.push(z.numPointLights),B.push(z.numSpotLights),B.push(z.numSpotLightMaps),B.push(z.numHemiLights),B.push(z.numRectAreaLights),B.push(z.numDirLightShadows),B.push(z.numPointLightShadows),B.push(z.numSpotLightShadows),B.push(z.numSpotLightShadowsWithMaps),B.push(z.numLightProbes),B.push(z.shadowMapType),B.push(z.toneMapping),B.push(z.numClippingPlanes),B.push(z.numClipIntersection),B.push(z.depthPacking)}function D(B,z){u.disableAll(),z.supportsVertexTextures&&u.enable(0),z.instancing&&u.enable(1),z.instancingColor&&u.enable(2),z.instancingMorph&&u.enable(3),z.matcap&&u.enable(4),z.envMap&&u.enable(5),z.normalMapObjectSpace&&u.enable(6),z.normalMapTangentSpace&&u.enable(7),z.clearcoat&&u.enable(8),z.iridescence&&u.enable(9),z.alphaTest&&u.enable(10),z.vertexColors&&u.enable(11),z.vertexAlphas&&u.enable(12),z.vertexUv1s&&u.enable(13),z.vertexUv2s&&u.enable(14),z.vertexUv3s&&u.enable(15),z.vertexTangents&&u.enable(16),z.anisotropy&&u.enable(17),z.alphaHash&&u.enable(18),z.batching&&u.enable(19),z.dispersion&&u.enable(20),z.batchingColor&&u.enable(21),z.gradientMap&&u.enable(22),B.push(u.mask),u.disableAll(),z.fog&&u.enable(0),z.useFog&&u.enable(1),z.flatShading&&u.enable(2),z.logarithmicDepthBuffer&&u.enable(3),z.reversedDepthBuffer&&u.enable(4),z.skinning&&u.enable(5),z.morphTargets&&u.enable(6),z.morphNormals&&u.enable(7),z.morphColors&&u.enable(8),z.premultipliedAlpha&&u.enable(9),z.shadowMapEnabled&&u.enable(10),z.doubleSided&&u.enable(11),z.flipSided&&u.enable(12),z.useDepthPacking&&u.enable(13),z.dithering&&u.enable(14),z.transmission&&u.enable(15),z.sheen&&u.enable(16),z.opaque&&u.enable(17),z.pointsUvs&&u.enable(18),z.decodeVideoTexture&&u.enable(19),z.decodeVideoTextureEmissive&&u.enable(20),z.alphaToCoverage&&u.enable(21),B.push(u.mask)}function N(B){const z=_[B.type];let G;if(z){const ee=ko[z];G=a4.clone(ee.uniforms)}else G=B.uniforms;return G}function U(B,z){let G;for(let ee=0,ie=m.length;ee<ie;ee++){const pe=m[ee];if(pe.cacheKey===z){G=pe,++G.usedTimes;break}}return G===void 0&&(G=new WJ(t,z,B,a),m.push(G)),G}function L(B){if(--B.usedTimes===0){const z=m.indexOf(B);m[z]=m[m.length-1],m.pop(),B.destroy()}}function V(B){f.remove(B)}function F(){f.dispose()}return{getParameters:T,getProgramCacheKey:M,getUniforms:N,acquireProgram:U,releaseProgram:L,releaseShaderCache:V,programs:m,dispose:F}}function JJ(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let u=t.get(o);return u===void 0&&(u={},t.set(o,u)),u}function i(o){t.delete(o)}function r(o,u,f){t.get(o)[u]=f}function a(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:a}}function $J(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function FO(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function jO(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function o(g,y,b,_,A,T){let M=t[e];return M===void 0?(M={id:g.id,object:g,geometry:y,material:b,groupOrder:_,renderOrder:g.renderOrder,z:A,group:T},t[e]=M):(M.id=g.id,M.object=g,M.geometry=y,M.material=b,M.groupOrder=_,M.renderOrder=g.renderOrder,M.z=A,M.group=T),e++,M}function u(g,y,b,_,A,T){const M=o(g,y,b,_,A,T);b.transmission>0?i.push(M):b.transparent===!0?r.push(M):n.push(M)}function f(g,y,b,_,A,T){const M=o(g,y,b,_,A,T);b.transmission>0?i.unshift(M):b.transparent===!0?r.unshift(M):n.unshift(M)}function d(g,y){n.length>1&&n.sort(g||$J),i.length>1&&i.sort(y||FO),r.length>1&&r.sort(y||FO)}function m(){for(let g=e,y=t.length;g<y;g++){const b=t[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:u,unshift:f,finish:m,sort:d}}function e$(){let t=new WeakMap;function e(i,r){const a=t.get(i);let o;return a===void 0?(o=new jO,t.set(i,[o])):r>=a.length?(o=new jO,a.push(o)):o=a[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function t$(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Z,color:new vt};break;case"SpotLight":n={position:new Z,direction:new Z,color:new vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Z,color:new vt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Z,skyColor:new vt,groundColor:new vt};break;case"RectAreaLight":n={color:new vt,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return t[e.id]=n,n}}}function n$(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let i$=0;function r$(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function a$(t){const e=new t$,n=n$(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new Z);const r=new Z,a=new Gt,o=new Gt;function u(d){let m=0,g=0,y=0;for(let B=0;B<9;B++)i.probe[B].set(0,0,0);let b=0,_=0,A=0,T=0,M=0,R=0,D=0,N=0,U=0,L=0,V=0;d.sort(r$);for(let B=0,z=d.length;B<z;B++){const G=d[B],ee=G.color,ie=G.intensity,pe=G.distance,ue=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)m+=ee.r*ie,g+=ee.g*ie,y+=ee.b*ie;else if(G.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(G.sh.coefficients[X],ie);V++}else if(G.isDirectionalLight){const X=e.get(G);if(X.color.copy(G.color).multiplyScalar(G.intensity),G.castShadow){const Q=G.shadow,$=n.get(G);$.shadowIntensity=Q.intensity,$.shadowBias=Q.bias,$.shadowNormalBias=Q.normalBias,$.shadowRadius=Q.radius,$.shadowMapSize=Q.mapSize,i.directionalShadow[b]=$,i.directionalShadowMap[b]=ue,i.directionalShadowMatrix[b]=G.shadow.matrix,R++}i.directional[b]=X,b++}else if(G.isSpotLight){const X=e.get(G);X.position.setFromMatrixPosition(G.matrixWorld),X.color.copy(ee).multiplyScalar(ie),X.distance=pe,X.coneCos=Math.cos(G.angle),X.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),X.decay=G.decay,i.spot[A]=X;const Q=G.shadow;if(G.map&&(i.spotLightMap[U]=G.map,U++,Q.updateMatrices(G),G.castShadow&&L++),i.spotLightMatrix[A]=Q.matrix,G.castShadow){const $=n.get(G);$.shadowIntensity=Q.intensity,$.shadowBias=Q.bias,$.shadowNormalBias=Q.normalBias,$.shadowRadius=Q.radius,$.shadowMapSize=Q.mapSize,i.spotShadow[A]=$,i.spotShadowMap[A]=ue,N++}A++}else if(G.isRectAreaLight){const X=e.get(G);X.color.copy(ee).multiplyScalar(ie),X.halfWidth.set(G.width*.5,0,0),X.halfHeight.set(0,G.height*.5,0),i.rectArea[T]=X,T++}else if(G.isPointLight){const X=e.get(G);if(X.color.copy(G.color).multiplyScalar(G.intensity),X.distance=G.distance,X.decay=G.decay,G.castShadow){const Q=G.shadow,$=n.get(G);$.shadowIntensity=Q.intensity,$.shadowBias=Q.bias,$.shadowNormalBias=Q.normalBias,$.shadowRadius=Q.radius,$.shadowMapSize=Q.mapSize,$.shadowCameraNear=Q.camera.near,$.shadowCameraFar=Q.camera.far,i.pointShadow[_]=$,i.pointShadowMap[_]=ue,i.pointShadowMatrix[_]=G.shadow.matrix,D++}i.point[_]=X,_++}else if(G.isHemisphereLight){const X=e.get(G);X.skyColor.copy(G.color).multiplyScalar(ie),X.groundColor.copy(G.groundColor).multiplyScalar(ie),i.hemi[M]=X,M++}}T>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ht.LTC_FLOAT_1,i.rectAreaLTC2=ht.LTC_FLOAT_2):(i.rectAreaLTC1=ht.LTC_HALF_1,i.rectAreaLTC2=ht.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const F=i.hash;(F.directionalLength!==b||F.pointLength!==_||F.spotLength!==A||F.rectAreaLength!==T||F.hemiLength!==M||F.numDirectionalShadows!==R||F.numPointShadows!==D||F.numSpotShadows!==N||F.numSpotMaps!==U||F.numLightProbes!==V)&&(i.directional.length=b,i.spot.length=A,i.rectArea.length=T,i.point.length=_,i.hemi.length=M,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=N+U-L,i.spotLightMap.length=U,i.numSpotLightShadowsWithMaps=L,i.numLightProbes=V,F.directionalLength=b,F.pointLength=_,F.spotLength=A,F.rectAreaLength=T,F.hemiLength=M,F.numDirectionalShadows=R,F.numPointShadows=D,F.numSpotShadows=N,F.numSpotMaps=U,F.numLightProbes=V,i.version=i$++)}function f(d,m){let g=0,y=0,b=0,_=0,A=0;const T=m.matrixWorldInverse;for(let M=0,R=d.length;M<R;M++){const D=d[M];if(D.isDirectionalLight){const N=i.directional[g];N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(T),g++}else if(D.isSpotLight){const N=i.spot[b];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(T),N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(T),b++}else if(D.isRectAreaLight){const N=i.rectArea[_];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(T),o.identity(),a.copy(D.matrixWorld),a.premultiply(T),o.extractRotation(a),N.halfWidth.set(D.width*.5,0,0),N.halfHeight.set(0,D.height*.5,0),N.halfWidth.applyMatrix4(o),N.halfHeight.applyMatrix4(o),_++}else if(D.isPointLight){const N=i.point[y];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(T),y++}else if(D.isHemisphereLight){const N=i.hemi[A];N.direction.setFromMatrixPosition(D.matrixWorld),N.direction.transformDirection(T),A++}}}return{setup:u,setupView:f,state:i}}function kO(t){const e=new a$(t),n=[],i=[];function r(m){d.camera=m,n.length=0,i.length=0}function a(m){n.push(m)}function o(m){i.push(m)}function u(){e.setup(n)}function f(m){e.setupView(n,m)}const d={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:d,setupLights:u,setupLightsView:f,pushLight:a,pushShadow:o}}function s$(t){let e=new WeakMap;function n(r,a=0){const o=e.get(r);let u;return o===void 0?(u=new kO(t),e.set(r,[u])):a>=o.length?(u=new kO(t),o.push(u)):u=o[a],u}function i(){e=new WeakMap}return{get:n,dispose:i}}const o$=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,l$=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function u$(t,e,n){let i=new km;const r=new Ge,a=new Ge,o=new Mn,u=new vC({depthPacking:qz}),f=new yC,d={},m=n.maxTextureSize,g={[ku]:Oa,[Oa]:ku,[Bl]:Bl},y=new Ko({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:o$,fragmentShader:l$}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const _=new rn;_.setAttribute("position",new Yn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Ki(_,y),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ZS;let M=this.type;this.render=function(L,V,F){if(T.enabled===!1||T.autoUpdate===!1&&T.needsUpdate===!1||L.length===0)return;const B=t.getRenderTarget(),z=t.getActiveCubeFace(),G=t.getActiveMipmapLevel(),ee=t.state;ee.setBlending(Bu),ee.buffers.depth.getReversed()===!0?ee.buffers.color.setClear(0,0,0,0):ee.buffers.color.setClear(1,1,1,1),ee.buffers.depth.setTest(!0),ee.setScissorTest(!1);const ie=M!==jo&&this.type===jo,pe=M===jo&&this.type!==jo;for(let ue=0,X=L.length;ue<X;ue++){const Q=L[ue],$=Q.shadow;if($===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;r.copy($.mapSize);const me=$.getFrameExtents();if(r.multiply(me),a.copy($.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(a.x=Math.floor(m/me.x),r.x=a.x*me.x,$.mapSize.x=a.x),r.y>m&&(a.y=Math.floor(m/me.y),r.y=a.y*me.y,$.mapSize.y=a.y)),$.map===null||ie===!0||pe===!0){const re=this.type!==jo?{minFilter:Vr,magFilter:Vr}:{};$.map!==null&&$.map.dispose(),$.map=new Zl(r.x,r.y,re),$.map.texture.name=Q.name+".shadowMap",$.camera.updateProjectionMatrix()}t.setRenderTarget($.map),t.clear();const Y=$.getViewportCount();for(let re=0;re<Y;re++){const he=$.getViewport(re);o.set(a.x*he.x,a.y*he.y,a.x*he.z,a.y*he.w),ee.viewport(o),$.updateMatrices(Q,re),i=$.getFrustum(),N(V,F,$.camera,Q,this.type)}$.isPointLightShadow!==!0&&this.type===jo&&R($,F),$.needsUpdate=!1}M=this.type,T.needsUpdate=!1,t.setRenderTarget(B,z,G)};function R(L,V){const F=e.update(A);y.defines.VSM_SAMPLES!==L.blurSamples&&(y.defines.VSM_SAMPLES=L.blurSamples,b.defines.VSM_SAMPLES=L.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new Zl(r.x,r.y)),y.uniforms.shadow_pass.value=L.map.texture,y.uniforms.resolution.value=L.mapSize,y.uniforms.radius.value=L.radius,t.setRenderTarget(L.mapPass),t.clear(),t.renderBufferDirect(V,null,F,y,A,null),b.uniforms.shadow_pass.value=L.mapPass.texture,b.uniforms.resolution.value=L.mapSize,b.uniforms.radius.value=L.radius,t.setRenderTarget(L.map),t.clear(),t.renderBufferDirect(V,null,F,b,A,null)}function D(L,V,F,B){let z=null;const G=F.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(G!==void 0)z=G;else if(z=F.isPointLight===!0?f:u,t.localClippingEnabled&&V.clipShadows===!0&&Array.isArray(V.clippingPlanes)&&V.clippingPlanes.length!==0||V.displacementMap&&V.displacementScale!==0||V.alphaMap&&V.alphaTest>0||V.map&&V.alphaTest>0||V.alphaToCoverage===!0){const ee=z.uuid,ie=V.uuid;let pe=d[ee];pe===void 0&&(pe={},d[ee]=pe);let ue=pe[ie];ue===void 0&&(ue=z.clone(),pe[ie]=ue,V.addEventListener("dispose",U)),z=ue}if(z.visible=V.visible,z.wireframe=V.wireframe,B===jo?z.side=V.shadowSide!==null?V.shadowSide:V.side:z.side=V.shadowSide!==null?V.shadowSide:g[V.side],z.alphaMap=V.alphaMap,z.alphaTest=V.alphaToCoverage===!0?.5:V.alphaTest,z.map=V.map,z.clipShadows=V.clipShadows,z.clippingPlanes=V.clippingPlanes,z.clipIntersection=V.clipIntersection,z.displacementMap=V.displacementMap,z.displacementScale=V.displacementScale,z.displacementBias=V.displacementBias,z.wireframeLinewidth=V.wireframeLinewidth,z.linewidth=V.linewidth,F.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const ee=t.properties.get(z);ee.light=F}return z}function N(L,V,F,B,z){if(L.visible===!1)return;if(L.layers.test(V.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&z===jo)&&(!L.frustumCulled||i.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,L.matrixWorld);const ie=e.update(L),pe=L.material;if(Array.isArray(pe)){const ue=ie.groups;for(let X=0,Q=ue.length;X<Q;X++){const $=ue[X],me=pe[$.materialIndex];if(me&&me.visible){const Y=D(L,me,B,z);L.onBeforeShadow(t,L,V,F,ie,Y,$),t.renderBufferDirect(F,null,ie,Y,L,$),L.onAfterShadow(t,L,V,F,ie,Y,$)}}}else if(pe.visible){const ue=D(L,pe,B,z);L.onBeforeShadow(t,L,V,F,ie,ue,null),t.renderBufferDirect(F,null,ie,ue,L,null),L.onAfterShadow(t,L,V,F,ie,ue,null)}}const ee=L.children;for(let ie=0,pe=ee.length;ie<pe;ie++)N(ee[ie],V,F,B,z)}function U(L){L.target.removeEventListener("dispose",U);for(const F in d){const B=d[F],z=L.target.uuid;z in B&&(B[z].dispose(),delete B[z])}}}const c$={[E_]:T_,[A_]:R_,[w_]:D_,[fd]:C_,[T_]:E_,[R_]:A_,[D_]:w_,[C_]:fd};function f$(t,e){function n(){let oe=!1;const Je=new Mn;let it=null;const mt=new Mn(0,0,0,0);return{setMask:function(Ke){it!==Ke&&!oe&&(t.colorMask(Ke,Ke,Ke,Ke),it=Ke)},setLocked:function(Ke){oe=Ke},setClear:function(Ke,Fe,_t,Lt,pn){pn===!0&&(Ke*=Lt,Fe*=Lt,_t*=Lt),Je.set(Ke,Fe,_t,Lt),mt.equals(Je)===!1&&(t.clearColor(Ke,Fe,_t,Lt),mt.copy(Je))},reset:function(){oe=!1,it=null,mt.set(-1,0,0,0)}}}function i(){let oe=!1,Je=!1,it=null,mt=null,Ke=null;return{setReversed:function(Fe){if(Je!==Fe){const _t=e.get("EXT_clip_control");Fe?_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.ZERO_TO_ONE_EXT):_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.NEGATIVE_ONE_TO_ONE_EXT),Je=Fe;const Lt=Ke;Ke=null,this.setClear(Lt)}},getReversed:function(){return Je},setTest:function(Fe){Fe?ze(t.DEPTH_TEST):Ye(t.DEPTH_TEST)},setMask:function(Fe){it!==Fe&&!oe&&(t.depthMask(Fe),it=Fe)},setFunc:function(Fe){if(Je&&(Fe=c$[Fe]),mt!==Fe){switch(Fe){case E_:t.depthFunc(t.NEVER);break;case T_:t.depthFunc(t.ALWAYS);break;case A_:t.depthFunc(t.LESS);break;case fd:t.depthFunc(t.LEQUAL);break;case w_:t.depthFunc(t.EQUAL);break;case C_:t.depthFunc(t.GEQUAL);break;case R_:t.depthFunc(t.GREATER);break;case D_:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}mt=Fe}},setLocked:function(Fe){oe=Fe},setClear:function(Fe){Ke!==Fe&&(Je&&(Fe=1-Fe),t.clearDepth(Fe),Ke=Fe)},reset:function(){oe=!1,it=null,mt=null,Ke=null,Je=!1}}}function r(){let oe=!1,Je=null,it=null,mt=null,Ke=null,Fe=null,_t=null,Lt=null,pn=null;return{setTest:function(cn){oe||(cn?ze(t.STENCIL_TEST):Ye(t.STENCIL_TEST))},setMask:function(cn){Je!==cn&&!oe&&(t.stencilMask(cn),Je=cn)},setFunc:function(cn,Ua,Si){(it!==cn||mt!==Ua||Ke!==Si)&&(t.stencilFunc(cn,Ua,Si),it=cn,mt=Ua,Ke=Si)},setOp:function(cn,Ua,Si){(Fe!==cn||_t!==Ua||Lt!==Si)&&(t.stencilOp(cn,Ua,Si),Fe=cn,_t=Ua,Lt=Si)},setLocked:function(cn){oe=cn},setClear:function(cn){pn!==cn&&(t.clearStencil(cn),pn=cn)},reset:function(){oe=!1,Je=null,it=null,mt=null,Ke=null,Fe=null,_t=null,Lt=null,pn=null}}}const a=new n,o=new i,u=new r,f=new WeakMap,d=new WeakMap;let m={},g={},y=new WeakMap,b=[],_=null,A=!1,T=null,M=null,R=null,D=null,N=null,U=null,L=null,V=new vt(0,0,0),F=0,B=!1,z=null,G=null,ee=null,ie=null,pe=null;const ue=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,Q=0;const $=t.getParameter(t.VERSION);$.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec($)[1]),X=Q>=1):$.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),X=Q>=2);let me=null,Y={};const re=t.getParameter(t.SCISSOR_BOX),he=t.getParameter(t.VIEWPORT),Pe=new Mn().fromArray(re),je=new Mn().fromArray(he);function ot(oe,Je,it,mt){const Ke=new Uint8Array(4),Fe=t.createTexture();t.bindTexture(oe,Fe),t.texParameteri(oe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(oe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let _t=0;_t<it;_t++)oe===t.TEXTURE_3D||oe===t.TEXTURE_2D_ARRAY?t.texImage3D(Je,0,t.RGBA,1,1,mt,0,t.RGBA,t.UNSIGNED_BYTE,Ke):t.texImage2D(Je+_t,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ke);return Fe}const ve={};ve[t.TEXTURE_2D]=ot(t.TEXTURE_2D,t.TEXTURE_2D,1),ve[t.TEXTURE_CUBE_MAP]=ot(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ve[t.TEXTURE_2D_ARRAY]=ot(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ve[t.TEXTURE_3D]=ot(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),u.setClear(0),ze(t.DEPTH_TEST),o.setFunc(fd),Ne(!1),we(dw),ze(t.CULL_FACE),De(Bu);function ze(oe){m[oe]!==!0&&(t.enable(oe),m[oe]=!0)}function Ye(oe){m[oe]!==!1&&(t.disable(oe),m[oe]=!1)}function Oe(oe,Je){return g[oe]!==Je?(t.bindFramebuffer(oe,Je),g[oe]=Je,oe===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=Je),oe===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=Je),!0):!1}function Xe(oe,Je){let it=b,mt=!1;if(oe){it=y.get(Je),it===void 0&&(it=[],y.set(Je,it));const Ke=oe.textures;if(it.length!==Ke.length||it[0]!==t.COLOR_ATTACHMENT0){for(let Fe=0,_t=Ke.length;Fe<_t;Fe++)it[Fe]=t.COLOR_ATTACHMENT0+Fe;it.length=Ke.length,mt=!0}}else it[0]!==t.BACK&&(it[0]=t.BACK,mt=!0);mt&&t.drawBuffers(it)}function lt(oe){return _!==oe?(t.useProgram(oe),_=oe,!0):!1}const Le={[lf]:t.FUNC_ADD,[mz]:t.FUNC_SUBTRACT,[gz]:t.FUNC_REVERSE_SUBTRACT};Le[vz]=t.MIN,Le[yz]=t.MAX;const J={[xz]:t.ZERO,[bz]:t.ONE,[_z]:t.SRC_COLOR,[S_]:t.SRC_ALPHA,[wz]:t.SRC_ALPHA_SATURATE,[Tz]:t.DST_COLOR,[Mz]:t.DST_ALPHA,[Sz]:t.ONE_MINUS_SRC_COLOR,[M_]:t.ONE_MINUS_SRC_ALPHA,[Az]:t.ONE_MINUS_DST_COLOR,[Ez]:t.ONE_MINUS_DST_ALPHA,[Cz]:t.CONSTANT_COLOR,[Rz]:t.ONE_MINUS_CONSTANT_COLOR,[Dz]:t.CONSTANT_ALPHA,[Nz]:t.ONE_MINUS_CONSTANT_ALPHA};function De(oe,Je,it,mt,Ke,Fe,_t,Lt,pn,cn){if(oe===Bu){A===!0&&(Ye(t.BLEND),A=!1);return}if(A===!1&&(ze(t.BLEND),A=!0),oe!==pz){if(oe!==T||cn!==B){if((M!==lf||N!==lf)&&(t.blendEquation(t.FUNC_ADD),M=lf,N=lf),cn)switch(oe){case id:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case pw:t.blendFunc(t.ONE,t.ONE);break;case mw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case gw:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case id:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case pw:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case mw:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case gw:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}R=null,D=null,U=null,L=null,V.set(0,0,0),F=0,T=oe,B=cn}return}Ke=Ke||Je,Fe=Fe||it,_t=_t||mt,(Je!==M||Ke!==N)&&(t.blendEquationSeparate(Le[Je],Le[Ke]),M=Je,N=Ke),(it!==R||mt!==D||Fe!==U||_t!==L)&&(t.blendFuncSeparate(J[it],J[mt],J[Fe],J[_t]),R=it,D=mt,U=Fe,L=_t),(Lt.equals(V)===!1||pn!==F)&&(t.blendColor(Lt.r,Lt.g,Lt.b,pn),V.copy(Lt),F=pn),T=oe,B=!1}function Ue(oe,Je){oe.side===Bl?Ye(t.CULL_FACE):ze(t.CULL_FACE);let it=oe.side===Oa;Je&&(it=!it),Ne(it),oe.blending===id&&oe.transparent===!1?De(Bu):De(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.blendColor,oe.blendAlpha,oe.premultipliedAlpha),o.setFunc(oe.depthFunc),o.setTest(oe.depthTest),o.setMask(oe.depthWrite),a.setMask(oe.colorWrite);const mt=oe.stencilWrite;u.setTest(mt),mt&&(u.setMask(oe.stencilWriteMask),u.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),u.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),We(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?ze(t.SAMPLE_ALPHA_TO_COVERAGE):Ye(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ne(oe){z!==oe&&(oe?t.frontFace(t.CW):t.frontFace(t.CCW),z=oe)}function we(oe){oe!==fz?(ze(t.CULL_FACE),oe!==G&&(oe===dw?t.cullFace(t.BACK):oe===hz?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ye(t.CULL_FACE),G=oe}function tt(oe){oe!==ee&&(X&&t.lineWidth(oe),ee=oe)}function We(oe,Je,it){oe?(ze(t.POLYGON_OFFSET_FILL),(ie!==Je||pe!==it)&&(t.polygonOffset(Je,it),ie=Je,pe=it)):Ye(t.POLYGON_OFFSET_FILL)}function Qe(oe){oe?ze(t.SCISSOR_TEST):Ye(t.SCISSOR_TEST)}function Nt(oe){oe===void 0&&(oe=t.TEXTURE0+ue-1),me!==oe&&(t.activeTexture(oe),me=oe)}function Vt(oe,Je,it){it===void 0&&(me===null?it=t.TEXTURE0+ue-1:it=me);let mt=Y[it];mt===void 0&&(mt={type:void 0,texture:void 0},Y[it]=mt),(mt.type!==oe||mt.texture!==Je)&&(me!==it&&(t.activeTexture(it),me=it),t.bindTexture(oe,Je||ve[oe]),mt.type=oe,mt.texture=Je)}function K(){const oe=Y[me];oe!==void 0&&oe.type!==void 0&&(t.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function j(){try{t.compressedTexImage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function ge(){try{t.compressedTexImage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ce(){try{t.texSubImage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ve(){try{t.texSubImage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Re(){try{t.compressedTexSubImage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function ct(){try{t.compressedTexSubImage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function nt(){try{t.texStorage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function yt(){try{t.texStorage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function xt(){try{t.texImage2D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function qe(){try{t.texImage3D(...arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function at(oe){Pe.equals(oe)===!1&&(t.scissor(oe.x,oe.y,oe.z,oe.w),Pe.copy(oe))}function At(oe){je.equals(oe)===!1&&(t.viewport(oe.x,oe.y,oe.z,oe.w),je.copy(oe))}function bt(oe,Je){let it=d.get(Je);it===void 0&&(it=new WeakMap,d.set(Je,it));let mt=it.get(oe);mt===void 0&&(mt=t.getUniformBlockIndex(Je,oe.name),it.set(oe,mt))}function st(oe,Je){const mt=d.get(Je).get(oe);f.get(Je)!==mt&&(t.uniformBlockBinding(Je,mt,oe.__bindingPointIndex),f.set(Je,mt))}function Ht(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),m={},me=null,Y={},g={},y=new WeakMap,b=[],_=null,A=!1,T=null,M=null,R=null,D=null,N=null,U=null,L=null,V=new vt(0,0,0),F=0,B=!1,z=null,G=null,ee=null,ie=null,pe=null,Pe.set(0,0,t.canvas.width,t.canvas.height),je.set(0,0,t.canvas.width,t.canvas.height),a.reset(),o.reset(),u.reset()}return{buffers:{color:a,depth:o,stencil:u},enable:ze,disable:Ye,bindFramebuffer:Oe,drawBuffers:Xe,useProgram:lt,setBlending:De,setMaterial:Ue,setFlipSided:Ne,setCullFace:we,setLineWidth:tt,setPolygonOffset:We,setScissorTest:Qe,activeTexture:Nt,bindTexture:Vt,unbindTexture:K,compressedTexImage2D:j,compressedTexImage3D:ge,texImage2D:xt,texImage3D:qe,updateUBOMapping:bt,uniformBlockBinding:st,texStorage2D:nt,texStorage3D:yt,texSubImage2D:Ce,texSubImage3D:Ve,compressedTexSubImage2D:Re,compressedTexSubImage3D:ct,scissor:at,viewport:At,reset:Ht}}function h$(t,e,n,i,r,a,o){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new Ge,m=new WeakMap;let g;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(K,j){return b?new OffscreenCanvas(K,j):_0("canvas")}function A(K,j,ge){let Ce=1;const Ve=Vt(K);if((Ve.width>ge||Ve.height>ge)&&(Ce=ge/Math.max(Ve.width,Ve.height)),Ce<1)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const Re=Math.floor(Ce*Ve.width),ct=Math.floor(Ce*Ve.height);g===void 0&&(g=_(Re,ct));const nt=j?_(Re,ct):g;return nt.width=Re,nt.height=ct,nt.getContext("2d").drawImage(K,0,0,Re,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ve.width+"x"+Ve.height+") to ("+Re+"x"+ct+")."),nt}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ve.width+"x"+Ve.height+")."),K;return K}function T(K){return K.generateMipmaps}function M(K){t.generateMipmap(K)}function R(K){return K.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?t.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function D(K,j,ge,Ce,Ve=!1){if(K!==null){if(t[K]!==void 0)return t[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let Re=j;if(j===t.RED&&(ge===t.FLOAT&&(Re=t.R32F),ge===t.HALF_FLOAT&&(Re=t.R16F),ge===t.UNSIGNED_BYTE&&(Re=t.R8)),j===t.RED_INTEGER&&(ge===t.UNSIGNED_BYTE&&(Re=t.R8UI),ge===t.UNSIGNED_SHORT&&(Re=t.R16UI),ge===t.UNSIGNED_INT&&(Re=t.R32UI),ge===t.BYTE&&(Re=t.R8I),ge===t.SHORT&&(Re=t.R16I),ge===t.INT&&(Re=t.R32I)),j===t.RG&&(ge===t.FLOAT&&(Re=t.RG32F),ge===t.HALF_FLOAT&&(Re=t.RG16F),ge===t.UNSIGNED_BYTE&&(Re=t.RG8)),j===t.RG_INTEGER&&(ge===t.UNSIGNED_BYTE&&(Re=t.RG8UI),ge===t.UNSIGNED_SHORT&&(Re=t.RG16UI),ge===t.UNSIGNED_INT&&(Re=t.RG32UI),ge===t.BYTE&&(Re=t.RG8I),ge===t.SHORT&&(Re=t.RG16I),ge===t.INT&&(Re=t.RG32I)),j===t.RGB_INTEGER&&(ge===t.UNSIGNED_BYTE&&(Re=t.RGB8UI),ge===t.UNSIGNED_SHORT&&(Re=t.RGB16UI),ge===t.UNSIGNED_INT&&(Re=t.RGB32UI),ge===t.BYTE&&(Re=t.RGB8I),ge===t.SHORT&&(Re=t.RGB16I),ge===t.INT&&(Re=t.RGB32I)),j===t.RGBA_INTEGER&&(ge===t.UNSIGNED_BYTE&&(Re=t.RGBA8UI),ge===t.UNSIGNED_SHORT&&(Re=t.RGBA16UI),ge===t.UNSIGNED_INT&&(Re=t.RGBA32UI),ge===t.BYTE&&(Re=t.RGBA8I),ge===t.SHORT&&(Re=t.RGBA16I),ge===t.INT&&(Re=t.RGBA32I)),j===t.RGB&&(ge===t.UNSIGNED_INT_5_9_9_9_REV&&(Re=t.RGB9_E5),ge===t.UNSIGNED_INT_10F_11F_11F_REV&&(Re=t.R11F_G11F_B10F)),j===t.RGBA){const ct=Ve?x0:xn.getTransfer(Ce);ge===t.FLOAT&&(Re=t.RGBA32F),ge===t.HALF_FLOAT&&(Re=t.RGBA16F),ge===t.UNSIGNED_BYTE&&(Re=ct===Hn?t.SRGB8_ALPHA8:t.RGBA8),ge===t.UNSIGNED_SHORT_4_4_4_4&&(Re=t.RGBA4),ge===t.UNSIGNED_SHORT_5_5_5_1&&(Re=t.RGB5_A1)}return(Re===t.R16F||Re===t.R32F||Re===t.RG16F||Re===t.RG32F||Re===t.RGBA16F||Re===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function N(K,j){let ge;return K?j===null||j===qu||j===xm?ge=t.DEPTH24_STENCIL8:j===is?ge=t.DEPTH32F_STENCIL8:j===ym&&(ge=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===qu||j===xm?ge=t.DEPTH_COMPONENT24:j===is?ge=t.DEPTH_COMPONENT32F:j===ym&&(ge=t.DEPTH_COMPONENT16),ge}function U(K,j){return T(K)===!0||K.isFramebufferTexture&&K.minFilter!==Vr&&K.minFilter!==ur?Math.log2(Math.max(j.width,j.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?j.mipmaps.length:1}function L(K){const j=K.target;j.removeEventListener("dispose",L),F(j),j.isVideoTexture&&m.delete(j)}function V(K){const j=K.target;j.removeEventListener("dispose",V),z(j)}function F(K){const j=i.get(K);if(j.__webglInit===void 0)return;const ge=K.source,Ce=y.get(ge);if(Ce){const Ve=Ce[j.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&B(K),Object.keys(Ce).length===0&&y.delete(ge)}i.remove(K)}function B(K){const j=i.get(K);t.deleteTexture(j.__webglTexture);const ge=K.source,Ce=y.get(ge);delete Ce[j.__cacheKey],o.memory.textures--}function z(K){const j=i.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),i.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++){if(Array.isArray(j.__webglFramebuffer[Ce]))for(let Ve=0;Ve<j.__webglFramebuffer[Ce].length;Ve++)t.deleteFramebuffer(j.__webglFramebuffer[Ce][Ve]);else t.deleteFramebuffer(j.__webglFramebuffer[Ce]);j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer[Ce])}else{if(Array.isArray(j.__webglFramebuffer))for(let Ce=0;Ce<j.__webglFramebuffer.length;Ce++)t.deleteFramebuffer(j.__webglFramebuffer[Ce]);else t.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&t.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&t.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let Ce=0;Ce<j.__webglColorRenderbuffer.length;Ce++)j.__webglColorRenderbuffer[Ce]&&t.deleteRenderbuffer(j.__webglColorRenderbuffer[Ce]);j.__webglDepthRenderbuffer&&t.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const ge=K.textures;for(let Ce=0,Ve=ge.length;Ce<Ve;Ce++){const Re=i.get(ge[Ce]);Re.__webglTexture&&(t.deleteTexture(Re.__webglTexture),o.memory.textures--),i.remove(ge[Ce])}i.remove(K)}let G=0;function ee(){G=0}function ie(){const K=G;return K>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+r.maxTextures),G+=1,K}function pe(K){const j=[];return j.push(K.wrapS),j.push(K.wrapT),j.push(K.wrapR||0),j.push(K.magFilter),j.push(K.minFilter),j.push(K.anisotropy),j.push(K.internalFormat),j.push(K.format),j.push(K.type),j.push(K.generateMipmaps),j.push(K.premultiplyAlpha),j.push(K.flipY),j.push(K.unpackAlignment),j.push(K.colorSpace),j.join()}function ue(K,j){const ge=i.get(K);if(K.isVideoTexture&&Qe(K),K.isRenderTargetTexture===!1&&K.isExternalTexture!==!0&&K.version>0&&ge.__version!==K.version){const Ce=K.image;if(Ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ve(ge,K,j);return}}else K.isExternalTexture&&(ge.__webglTexture=K.sourceTexture?K.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ge.__webglTexture,t.TEXTURE0+j)}function X(K,j){const ge=i.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&ge.__version!==K.version){ve(ge,K,j);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ge.__webglTexture,t.TEXTURE0+j)}function Q(K,j){const ge=i.get(K);if(K.isRenderTargetTexture===!1&&K.version>0&&ge.__version!==K.version){ve(ge,K,j);return}n.bindTexture(t.TEXTURE_3D,ge.__webglTexture,t.TEXTURE0+j)}function $(K,j){const ge=i.get(K);if(K.version>0&&ge.__version!==K.version){ze(ge,K,j);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ge.__webglTexture,t.TEXTURE0+j)}const me={[m0]:t.REPEAT,[ro]:t.CLAMP_TO_EDGE,[g0]:t.MIRRORED_REPEAT},Y={[Vr]:t.NEAREST,[q2]:t.NEAREST_MIPMAP_NEAREST,[am]:t.NEAREST_MIPMAP_LINEAR,[ur]:t.LINEAR,[Qv]:t.LINEAR_MIPMAP_NEAREST,[Hl]:t.LINEAR_MIPMAP_LINEAR},re={[Wz]:t.NEVER,[$z]:t.ALWAYS,[Yz]:t.LESS,[eC]:t.LEQUAL,[Kz]:t.EQUAL,[Jz]:t.GEQUAL,[Zz]:t.GREATER,[Qz]:t.NOTEQUAL};function he(K,j){if(j.type===is&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===ur||j.magFilter===Qv||j.magFilter===am||j.magFilter===Hl||j.minFilter===ur||j.minFilter===Qv||j.minFilter===am||j.minFilter===Hl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(K,t.TEXTURE_WRAP_S,me[j.wrapS]),t.texParameteri(K,t.TEXTURE_WRAP_T,me[j.wrapT]),(K===t.TEXTURE_3D||K===t.TEXTURE_2D_ARRAY)&&t.texParameteri(K,t.TEXTURE_WRAP_R,me[j.wrapR]),t.texParameteri(K,t.TEXTURE_MAG_FILTER,Y[j.magFilter]),t.texParameteri(K,t.TEXTURE_MIN_FILTER,Y[j.minFilter]),j.compareFunction&&(t.texParameteri(K,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(K,t.TEXTURE_COMPARE_FUNC,re[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===Vr||j.minFilter!==am&&j.minFilter!==Hl||j.type===is&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||i.get(j).__currentAnisotropy){const ge=e.get("EXT_texture_filter_anisotropic");t.texParameterf(K,ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,r.getMaxAnisotropy())),i.get(j).__currentAnisotropy=j.anisotropy}}}function Pe(K,j){let ge=!1;K.__webglInit===void 0&&(K.__webglInit=!0,j.addEventListener("dispose",L));const Ce=j.source;let Ve=y.get(Ce);Ve===void 0&&(Ve={},y.set(Ce,Ve));const Re=pe(j);if(Re!==K.__cacheKey){Ve[Re]===void 0&&(Ve[Re]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ge=!0),Ve[Re].usedTimes++;const ct=Ve[K.__cacheKey];ct!==void 0&&(Ve[K.__cacheKey].usedTimes--,ct.usedTimes===0&&B(j)),K.__cacheKey=Re,K.__webglTexture=Ve[Re].texture}return ge}function je(K,j,ge){return Math.floor(Math.floor(K/ge)/j)}function ot(K,j,ge,Ce){const Re=K.updateRanges;if(Re.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,j.width,j.height,ge,Ce,j.data);else{Re.sort((qe,at)=>qe.start-at.start);let ct=0;for(let qe=1;qe<Re.length;qe++){const at=Re[ct],At=Re[qe],bt=at.start+at.count,st=je(At.start,j.width,4),Ht=je(at.start,j.width,4);At.start<=bt+1&&st===Ht&&je(At.start+At.count-1,j.width,4)===st?at.count=Math.max(at.count,At.start+At.count-at.start):(++ct,Re[ct]=At)}Re.length=ct+1;const nt=t.getParameter(t.UNPACK_ROW_LENGTH),yt=t.getParameter(t.UNPACK_SKIP_PIXELS),xt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,j.width);for(let qe=0,at=Re.length;qe<at;qe++){const At=Re[qe],bt=Math.floor(At.start/4),st=Math.ceil(At.count/4),Ht=bt%j.width,oe=Math.floor(bt/j.width),Je=st,it=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ht),t.pixelStorei(t.UNPACK_SKIP_ROWS,oe),n.texSubImage2D(t.TEXTURE_2D,0,Ht,oe,Je,it,ge,Ce,j.data)}K.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,nt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,yt),t.pixelStorei(t.UNPACK_SKIP_ROWS,xt)}}function ve(K,j,ge){let Ce=t.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(Ce=t.TEXTURE_2D_ARRAY),j.isData3DTexture&&(Ce=t.TEXTURE_3D);const Ve=Pe(K,j),Re=j.source;n.bindTexture(Ce,K.__webglTexture,t.TEXTURE0+ge);const ct=i.get(Re);if(Re.version!==ct.__version||Ve===!0){n.activeTexture(t.TEXTURE0+ge);const nt=xn.getPrimaries(xn.workingColorSpace),yt=j.colorSpace===Ou?null:xn.getPrimaries(j.colorSpace),xt=j.colorSpace===Ou||nt===yt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,xt);let qe=A(j.image,!1,r.maxTextureSize);qe=Nt(j,qe);const at=a.convert(j.format,j.colorSpace),At=a.convert(j.type);let bt=D(j.internalFormat,at,At,j.colorSpace,j.isVideoTexture);he(Ce,j);let st;const Ht=j.mipmaps,oe=j.isVideoTexture!==!0,Je=ct.__version===void 0||Ve===!0,it=Re.dataReady,mt=U(j,qe);if(j.isDepthTexture)bt=N(j.format===_m,j.type),Je&&(oe?n.texStorage2D(t.TEXTURE_2D,1,bt,qe.width,qe.height):n.texImage2D(t.TEXTURE_2D,0,bt,qe.width,qe.height,0,at,At,null));else if(j.isDataTexture)if(Ht.length>0){oe&&Je&&n.texStorage2D(t.TEXTURE_2D,mt,bt,Ht[0].width,Ht[0].height);for(let Ke=0,Fe=Ht.length;Ke<Fe;Ke++)st=Ht[Ke],oe?it&&n.texSubImage2D(t.TEXTURE_2D,Ke,0,0,st.width,st.height,at,At,st.data):n.texImage2D(t.TEXTURE_2D,Ke,bt,st.width,st.height,0,at,At,st.data);j.generateMipmaps=!1}else oe?(Je&&n.texStorage2D(t.TEXTURE_2D,mt,bt,qe.width,qe.height),it&&ot(j,qe,at,At)):n.texImage2D(t.TEXTURE_2D,0,bt,qe.width,qe.height,0,at,At,qe.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){oe&&Je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,mt,bt,Ht[0].width,Ht[0].height,qe.depth);for(let Ke=0,Fe=Ht.length;Ke<Fe;Ke++)if(st=Ht[Ke],j.format!==ra)if(at!==null)if(oe){if(it)if(j.layerUpdates.size>0){const _t=Aw(st.width,st.height,j.format,j.type);for(const Lt of j.layerUpdates){const pn=st.data.subarray(Lt*_t/st.data.BYTES_PER_ELEMENT,(Lt+1)*_t/st.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ke,0,0,Lt,st.width,st.height,1,at,pn)}j.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ke,0,0,0,st.width,st.height,qe.depth,at,st.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ke,bt,st.width,st.height,qe.depth,0,st.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else oe?it&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ke,0,0,0,st.width,st.height,qe.depth,at,At,st.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ke,bt,st.width,st.height,qe.depth,0,at,At,st.data)}else{oe&&Je&&n.texStorage2D(t.TEXTURE_2D,mt,bt,Ht[0].width,Ht[0].height);for(let Ke=0,Fe=Ht.length;Ke<Fe;Ke++)st=Ht[Ke],j.format!==ra?at!==null?oe?it&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ke,0,0,st.width,st.height,at,st.data):n.compressedTexImage2D(t.TEXTURE_2D,Ke,bt,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):oe?it&&n.texSubImage2D(t.TEXTURE_2D,Ke,0,0,st.width,st.height,at,At,st.data):n.texImage2D(t.TEXTURE_2D,Ke,bt,st.width,st.height,0,at,At,st.data)}else if(j.isDataArrayTexture)if(oe){if(Je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,mt,bt,qe.width,qe.height,qe.depth),it)if(j.layerUpdates.size>0){const Ke=Aw(qe.width,qe.height,j.format,j.type);for(const Fe of j.layerUpdates){const _t=qe.data.subarray(Fe*Ke/qe.data.BYTES_PER_ELEMENT,(Fe+1)*Ke/qe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Fe,qe.width,qe.height,1,at,At,_t)}j.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,qe.width,qe.height,qe.depth,at,At,qe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,bt,qe.width,qe.height,qe.depth,0,at,At,qe.data);else if(j.isData3DTexture)oe?(Je&&n.texStorage3D(t.TEXTURE_3D,mt,bt,qe.width,qe.height,qe.depth),it&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,qe.width,qe.height,qe.depth,at,At,qe.data)):n.texImage3D(t.TEXTURE_3D,0,bt,qe.width,qe.height,qe.depth,0,at,At,qe.data);else if(j.isFramebufferTexture){if(Je)if(oe)n.texStorage2D(t.TEXTURE_2D,mt,bt,qe.width,qe.height);else{let Ke=qe.width,Fe=qe.height;for(let _t=0;_t<mt;_t++)n.texImage2D(t.TEXTURE_2D,_t,bt,Ke,Fe,0,at,At,null),Ke>>=1,Fe>>=1}}else if(Ht.length>0){if(oe&&Je){const Ke=Vt(Ht[0]);n.texStorage2D(t.TEXTURE_2D,mt,bt,Ke.width,Ke.height)}for(let Ke=0,Fe=Ht.length;Ke<Fe;Ke++)st=Ht[Ke],oe?it&&n.texSubImage2D(t.TEXTURE_2D,Ke,0,0,at,At,st):n.texImage2D(t.TEXTURE_2D,Ke,bt,at,At,st);j.generateMipmaps=!1}else if(oe){if(Je){const Ke=Vt(qe);n.texStorage2D(t.TEXTURE_2D,mt,bt,Ke.width,Ke.height)}it&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,at,At,qe)}else n.texImage2D(t.TEXTURE_2D,0,bt,at,At,qe);T(j)&&M(Ce),ct.__version=Re.version,j.onUpdate&&j.onUpdate(j)}K.__version=j.version}function ze(K,j,ge){if(j.image.length!==6)return;const Ce=Pe(K,j),Ve=j.source;n.bindTexture(t.TEXTURE_CUBE_MAP,K.__webglTexture,t.TEXTURE0+ge);const Re=i.get(Ve);if(Ve.version!==Re.__version||Ce===!0){n.activeTexture(t.TEXTURE0+ge);const ct=xn.getPrimaries(xn.workingColorSpace),nt=j.colorSpace===Ou?null:xn.getPrimaries(j.colorSpace),yt=j.colorSpace===Ou||ct===nt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,j.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,j.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);const xt=j.isCompressedTexture||j.image[0].isCompressedTexture,qe=j.image[0]&&j.image[0].isDataTexture,at=[];for(let Fe=0;Fe<6;Fe++)!xt&&!qe?at[Fe]=A(j.image[Fe],!0,r.maxCubemapSize):at[Fe]=qe?j.image[Fe].image:j.image[Fe],at[Fe]=Nt(j,at[Fe]);const At=at[0],bt=a.convert(j.format,j.colorSpace),st=a.convert(j.type),Ht=D(j.internalFormat,bt,st,j.colorSpace),oe=j.isVideoTexture!==!0,Je=Re.__version===void 0||Ce===!0,it=Ve.dataReady;let mt=U(j,At);he(t.TEXTURE_CUBE_MAP,j);let Ke;if(xt){oe&&Je&&n.texStorage2D(t.TEXTURE_CUBE_MAP,mt,Ht,At.width,At.height);for(let Fe=0;Fe<6;Fe++){Ke=at[Fe].mipmaps;for(let _t=0;_t<Ke.length;_t++){const Lt=Ke[_t];j.format!==ra?bt!==null?oe?it&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,_t,0,0,Lt.width,Lt.height,bt,Lt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,_t,Ht,Lt.width,Lt.height,0,Lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):oe?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,_t,0,0,Lt.width,Lt.height,bt,st,Lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,_t,Ht,Lt.width,Lt.height,0,bt,st,Lt.data)}}}else{if(Ke=j.mipmaps,oe&&Je){Ke.length>0&&mt++;const Fe=Vt(at[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,mt,Ht,Fe.width,Fe.height)}for(let Fe=0;Fe<6;Fe++)if(qe){oe?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,at[Fe].width,at[Fe].height,bt,st,at[Fe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Ht,at[Fe].width,at[Fe].height,0,bt,st,at[Fe].data);for(let _t=0;_t<Ke.length;_t++){const pn=Ke[_t].image[Fe].image;oe?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,_t+1,0,0,pn.width,pn.height,bt,st,pn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,_t+1,Ht,pn.width,pn.height,0,bt,st,pn.data)}}else{oe?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,bt,st,at[Fe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Ht,bt,st,at[Fe]);for(let _t=0;_t<Ke.length;_t++){const Lt=Ke[_t];oe?it&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,_t+1,0,0,bt,st,Lt.image[Fe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,_t+1,Ht,bt,st,Lt.image[Fe])}}}T(j)&&M(t.TEXTURE_CUBE_MAP),Re.__version=Ve.version,j.onUpdate&&j.onUpdate(j)}K.__version=j.version}function Ye(K,j,ge,Ce,Ve,Re){const ct=a.convert(ge.format,ge.colorSpace),nt=a.convert(ge.type),yt=D(ge.internalFormat,ct,nt,ge.colorSpace),xt=i.get(j),qe=i.get(ge);if(qe.__renderTarget=j,!xt.__hasExternalTextures){const at=Math.max(1,j.width>>Re),At=Math.max(1,j.height>>Re);Ve===t.TEXTURE_3D||Ve===t.TEXTURE_2D_ARRAY?n.texImage3D(Ve,Re,yt,at,At,j.depth,0,ct,nt,null):n.texImage2D(Ve,Re,yt,at,At,0,ct,nt,null)}n.bindFramebuffer(t.FRAMEBUFFER,K),We(j)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ce,Ve,qe.__webglTexture,0,tt(j)):(Ve===t.TEXTURE_2D||Ve>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ce,Ve,qe.__webglTexture,Re),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Oe(K,j,ge){if(t.bindRenderbuffer(t.RENDERBUFFER,K),j.depthBuffer){const Ce=j.depthTexture,Ve=Ce&&Ce.isDepthTexture?Ce.type:null,Re=N(j.stencilBuffer,Ve),ct=j.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=tt(j);We(j)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,nt,Re,j.width,j.height):ge?t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,Re,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,Re,j.width,j.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ct,t.RENDERBUFFER,K)}else{const Ce=j.textures;for(let Ve=0;Ve<Ce.length;Ve++){const Re=Ce[Ve],ct=a.convert(Re.format,Re.colorSpace),nt=a.convert(Re.type),yt=D(Re.internalFormat,ct,nt,Re.colorSpace),xt=tt(j);ge&&We(j)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,xt,yt,j.width,j.height):We(j)?u.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,xt,yt,j.width,j.height):t.renderbufferStorage(t.RENDERBUFFER,yt,j.width,j.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Xe(K,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,K),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ce=i.get(j.depthTexture);Ce.__renderTarget=j,(!Ce.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),ue(j.depthTexture,0);const Ve=Ce.__webglTexture,Re=tt(j);if(j.depthTexture.format===bm)We(j)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ve,0,Re):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ve,0);else if(j.depthTexture.format===_m)We(j)?u.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ve,0,Re):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ve,0);else throw new Error("Unknown depthTexture format")}function lt(K){const j=i.get(K),ge=K.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==K.depthTexture){const Ce=K.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),Ce){const Ve=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,Ce.removeEventListener("dispose",Ve)};Ce.addEventListener("dispose",Ve),j.__depthDisposeCallback=Ve}j.__boundDepthTexture=Ce}if(K.depthTexture&&!j.__autoAllocateDepthBuffer){if(ge)throw new Error("target.depthTexture not supported in Cube render targets");const Ce=K.texture.mipmaps;Ce&&Ce.length>0?Xe(j.__webglFramebuffer[0],K):Xe(j.__webglFramebuffer,K)}else if(ge){j.__webglDepthbuffer=[];for(let Ce=0;Ce<6;Ce++)if(n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer[Ce]),j.__webglDepthbuffer[Ce]===void 0)j.__webglDepthbuffer[Ce]=t.createRenderbuffer(),Oe(j.__webglDepthbuffer[Ce],K,!1);else{const Ve=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Re=j.__webglDepthbuffer[Ce];t.bindRenderbuffer(t.RENDERBUFFER,Re),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ve,t.RENDERBUFFER,Re)}}else{const Ce=K.texture.mipmaps;if(Ce&&Ce.length>0?n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=t.createRenderbuffer(),Oe(j.__webglDepthbuffer,K,!1);else{const Ve=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Re=j.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Re),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ve,t.RENDERBUFFER,Re)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Le(K,j,ge){const Ce=i.get(K);j!==void 0&&Ye(Ce.__webglFramebuffer,K,K.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ge!==void 0&&lt(K)}function J(K){const j=K.texture,ge=i.get(K),Ce=i.get(j);K.addEventListener("dispose",V);const Ve=K.textures,Re=K.isWebGLCubeRenderTarget===!0,ct=Ve.length>1;if(ct||(Ce.__webglTexture===void 0&&(Ce.__webglTexture=t.createTexture()),Ce.__version=j.version,o.memory.textures++),Re){ge.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)if(j.mipmaps&&j.mipmaps.length>0){ge.__webglFramebuffer[nt]=[];for(let yt=0;yt<j.mipmaps.length;yt++)ge.__webglFramebuffer[nt][yt]=t.createFramebuffer()}else ge.__webglFramebuffer[nt]=t.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){ge.__webglFramebuffer=[];for(let nt=0;nt<j.mipmaps.length;nt++)ge.__webglFramebuffer[nt]=t.createFramebuffer()}else ge.__webglFramebuffer=t.createFramebuffer();if(ct)for(let nt=0,yt=Ve.length;nt<yt;nt++){const xt=i.get(Ve[nt]);xt.__webglTexture===void 0&&(xt.__webglTexture=t.createTexture(),o.memory.textures++)}if(K.samples>0&&We(K)===!1){ge.__webglMultisampledFramebuffer=t.createFramebuffer(),ge.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let nt=0;nt<Ve.length;nt++){const yt=Ve[nt];ge.__webglColorRenderbuffer[nt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ge.__webglColorRenderbuffer[nt]);const xt=a.convert(yt.format,yt.colorSpace),qe=a.convert(yt.type),at=D(yt.internalFormat,xt,qe,yt.colorSpace,K.isXRRenderTarget===!0),At=tt(K);t.renderbufferStorageMultisample(t.RENDERBUFFER,At,at,K.width,K.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,ge.__webglColorRenderbuffer[nt])}t.bindRenderbuffer(t.RENDERBUFFER,null),K.depthBuffer&&(ge.__webglDepthRenderbuffer=t.createRenderbuffer(),Oe(ge.__webglDepthRenderbuffer,K,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Re){n.bindTexture(t.TEXTURE_CUBE_MAP,Ce.__webglTexture),he(t.TEXTURE_CUBE_MAP,j);for(let nt=0;nt<6;nt++)if(j.mipmaps&&j.mipmaps.length>0)for(let yt=0;yt<j.mipmaps.length;yt++)Ye(ge.__webglFramebuffer[nt][yt],K,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,yt);else Ye(ge.__webglFramebuffer[nt],K,j,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0);T(j)&&M(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ct){for(let nt=0,yt=Ve.length;nt<yt;nt++){const xt=Ve[nt],qe=i.get(xt);let at=t.TEXTURE_2D;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(at=K.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(at,qe.__webglTexture),he(at,xt),Ye(ge.__webglFramebuffer,K,xt,t.COLOR_ATTACHMENT0+nt,at,0),T(xt)&&M(at)}n.unbindTexture()}else{let nt=t.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(nt=K.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(nt,Ce.__webglTexture),he(nt,j),j.mipmaps&&j.mipmaps.length>0)for(let yt=0;yt<j.mipmaps.length;yt++)Ye(ge.__webglFramebuffer[yt],K,j,t.COLOR_ATTACHMENT0,nt,yt);else Ye(ge.__webglFramebuffer,K,j,t.COLOR_ATTACHMENT0,nt,0);T(j)&&M(nt),n.unbindTexture()}K.depthBuffer&&lt(K)}function De(K){const j=K.textures;for(let ge=0,Ce=j.length;ge<Ce;ge++){const Ve=j[ge];if(T(Ve)){const Re=R(K),ct=i.get(Ve).__webglTexture;n.bindTexture(Re,ct),M(Re),n.unbindTexture()}}}const Ue=[],Ne=[];function we(K){if(K.samples>0){if(We(K)===!1){const j=K.textures,ge=K.width,Ce=K.height;let Ve=t.COLOR_BUFFER_BIT;const Re=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ct=i.get(K),nt=j.length>1;if(nt)for(let xt=0;xt<j.length;xt++)n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+xt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+xt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const yt=K.texture.mipmaps;yt&&yt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let xt=0;xt<j.length;xt++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(Ve|=t.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(Ve|=t.STENCIL_BUFFER_BIT)),nt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ct.__webglColorRenderbuffer[xt]);const qe=i.get(j[xt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,qe,0)}t.blitFramebuffer(0,0,ge,Ce,0,0,ge,Ce,Ve,t.NEAREST),f===!0&&(Ue.length=0,Ne.length=0,Ue.push(t.COLOR_ATTACHMENT0+xt),K.depthBuffer&&K.resolveDepthBuffer===!1&&(Ue.push(Re),Ne.push(Re),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ne)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ue))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),nt)for(let xt=0;xt<j.length;xt++){n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+xt,t.RENDERBUFFER,ct.__webglColorRenderbuffer[xt]);const qe=i.get(j[xt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+xt,t.TEXTURE_2D,qe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(K.depthBuffer&&K.resolveDepthBuffer===!1&&f){const j=K.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[j])}}}function tt(K){return Math.min(r.maxSamples,K.samples)}function We(K){const j=i.get(K);return K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function Qe(K){const j=o.render.frame;m.get(K)!==j&&(m.set(K,j),K.update())}function Nt(K,j){const ge=K.colorSpace,Ce=K.format,Ve=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||ge!==yf&&ge!==Ou&&(xn.getTransfer(ge)===Hn?(Ce!==ra||Ve!==oo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ge)),j}function Vt(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(d.width=K.naturalWidth||K.width,d.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(d.width=K.displayWidth,d.height=K.displayHeight):(d.width=K.width,d.height=K.height),d}this.allocateTextureUnit=ie,this.resetTextureUnits=ee,this.setTexture2D=ue,this.setTexture2DArray=X,this.setTexture3D=Q,this.setTextureCube=$,this.rebindTextures=Le,this.setupRenderTarget=J,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=we,this.setupDepthRenderbuffer=lt,this.setupFrameBufferTexture=Ye,this.useMultisampledRTT=We}function c5(t,e){function n(i,r=Ou){let a;const o=xn.getTransfer(r);if(i===oo)return t.UNSIGNED_BYTE;if(i===$S)return t.UNSIGNED_SHORT_4_4_4_4;if(i===e1)return t.UNSIGNED_SHORT_5_5_5_1;if(i===Y2)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===K2)return t.UNSIGNED_INT_10F_11F_11F_REV;if(i===X2)return t.BYTE;if(i===W2)return t.SHORT;if(i===ym)return t.UNSIGNED_SHORT;if(i===JS)return t.INT;if(i===qu)return t.UNSIGNED_INT;if(i===is)return t.FLOAT;if(i===Fm)return t.HALF_FLOAT;if(i===Z2)return t.ALPHA;if(i===Q2)return t.RGB;if(i===ra)return t.RGBA;if(i===bm)return t.DEPTH_COMPONENT;if(i===_m)return t.DEPTH_STENCIL;if(i===t1)return t.RED;if(i===Q0)return t.RED_INTEGER;if(i===J2)return t.RG;if(i===n1)return t.RG_INTEGER;if(i===i1)return t.RGBA_INTEGER;if(i===Jv||i===$v||i===e0||i===t0)if(o===Hn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Jv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===$v)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===e0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===t0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Jv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===$v)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===e0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===t0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===N_||i===O_||i===P_||i===U_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===N_)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===O_)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===P_)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===U_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===L_||i===I_||i===B_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===L_||i===I_)return o===Hn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===B_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===z_||i===V_||i===H_||i===F_||i===j_||i===k_||i===G_||i===q_||i===X_||i===W_||i===Y_||i===K_||i===Z_||i===Q_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===z_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===V_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===H_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===F_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===j_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===k_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===G_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===q_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===X_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===W_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Y_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===K_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Z_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Q_)return o===Hn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===J_||i===$_||i===eS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===J_)return o===Hn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===$_)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===eS)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===tS||i===nS||i===iS||i===rS)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===tS)return a.COMPRESSED_RED_RGTC1_EXT;if(i===nS)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===iS)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===rS)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===xm?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}const d$=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,p$=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class m${constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new uC(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Ko({vertexShader:d$,fragmentShader:p$,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ki(new Gm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class g$ extends Jl{constructor(e,n){super();const i=this;let r=null,a=1,o=null,u="local-floor",f=1,d=null,m=null,g=null,y=null,b=null,_=null;const A=typeof XRWebGLBinding<"u",T=new m$,M={},R=n.getContextAttributes();let D=null,N=null;const U=[],L=[],V=new Ge;let F=null;const B=new Mr;B.viewport=new Mn;const z=new Mr;z.viewport=new Mn;const G=[B,z],ee=new $4;let ie=null,pe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ve){let ze=U[ve];return ze===void 0&&(ze=new h_,U[ve]=ze),ze.getTargetRaySpace()},this.getControllerGrip=function(ve){let ze=U[ve];return ze===void 0&&(ze=new h_,U[ve]=ze),ze.getGripSpace()},this.getHand=function(ve){let ze=U[ve];return ze===void 0&&(ze=new h_,U[ve]=ze),ze.getHandSpace()};function ue(ve){const ze=L.indexOf(ve.inputSource);if(ze===-1)return;const Ye=U[ze];Ye!==void 0&&(Ye.update(ve.inputSource,ve.frame,d||o),Ye.dispatchEvent({type:ve.type,data:ve.inputSource}))}function X(){r.removeEventListener("select",ue),r.removeEventListener("selectstart",ue),r.removeEventListener("selectend",ue),r.removeEventListener("squeeze",ue),r.removeEventListener("squeezestart",ue),r.removeEventListener("squeezeend",ue),r.removeEventListener("end",X),r.removeEventListener("inputsourceschange",Q);for(let ve=0;ve<U.length;ve++){const ze=L[ve];ze!==null&&(L[ve]=null,U[ve].disconnect(ze))}ie=null,pe=null,T.reset();for(const ve in M)delete M[ve];e.setRenderTarget(D),b=null,y=null,g=null,r=null,N=null,ot.stop(),i.isPresenting=!1,e.setPixelRatio(F),e.setSize(V.width,V.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ve){a=ve,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ve){u=ve,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(ve){d=ve},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return g===null&&A&&(g=new XRWebGLBinding(r,n)),g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(ve){if(r=ve,r!==null){if(D=e.getRenderTarget(),r.addEventListener("select",ue),r.addEventListener("selectstart",ue),r.addEventListener("selectend",ue),r.addEventListener("squeeze",ue),r.addEventListener("squeezestart",ue),r.addEventListener("squeezeend",ue),r.addEventListener("end",X),r.addEventListener("inputsourceschange",Q),R.xrCompatible!==!0&&await n.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(V),A&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ye=null,Oe=null,Xe=null;R.depth&&(Xe=R.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ye=R.stencil?_m:bm,Oe=R.stencil?xm:qu);const lt={colorFormat:n.RGBA8,depthFormat:Xe,scaleFactor:a};g=this.getBinding(),y=g.createProjectionLayer(lt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),N=new Zl(y.textureWidth,y.textureHeight,{format:ra,type:oo,depthTexture:new lC(y.textureWidth,y.textureHeight,Oe,void 0,void 0,void 0,void 0,void 0,void 0,Ye),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Ye={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(r,n,Ye),r.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),N=new Zl(b.framebufferWidth,b.framebufferHeight,{format:ra,type:oo,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(f),d=null,o=await r.requestReferenceSpace(u),ot.setContext(r),ot.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function Q(ve){for(let ze=0;ze<ve.removed.length;ze++){const Ye=ve.removed[ze],Oe=L.indexOf(Ye);Oe>=0&&(L[Oe]=null,U[Oe].disconnect(Ye))}for(let ze=0;ze<ve.added.length;ze++){const Ye=ve.added[ze];let Oe=L.indexOf(Ye);if(Oe===-1){for(let lt=0;lt<U.length;lt++)if(lt>=L.length){L.push(Ye),Oe=lt;break}else if(L[lt]===null){L[lt]=Ye,Oe=lt;break}if(Oe===-1)break}const Xe=U[Oe];Xe&&Xe.connect(Ye)}}const $=new Z,me=new Z;function Y(ve,ze,Ye){$.setFromMatrixPosition(ze.matrixWorld),me.setFromMatrixPosition(Ye.matrixWorld);const Oe=$.distanceTo(me),Xe=ze.projectionMatrix.elements,lt=Ye.projectionMatrix.elements,Le=Xe[14]/(Xe[10]-1),J=Xe[14]/(Xe[10]+1),De=(Xe[9]+1)/Xe[5],Ue=(Xe[9]-1)/Xe[5],Ne=(Xe[8]-1)/Xe[0],we=(lt[8]+1)/lt[0],tt=Le*Ne,We=Le*we,Qe=Oe/(-Ne+we),Nt=Qe*-Ne;if(ze.matrixWorld.decompose(ve.position,ve.quaternion,ve.scale),ve.translateX(Nt),ve.translateZ(Qe),ve.matrixWorld.compose(ve.position,ve.quaternion,ve.scale),ve.matrixWorldInverse.copy(ve.matrixWorld).invert(),Xe[10]===-1)ve.projectionMatrix.copy(ze.projectionMatrix),ve.projectionMatrixInverse.copy(ze.projectionMatrixInverse);else{const Vt=Le+Qe,K=J+Qe,j=tt-Nt,ge=We+(Oe-Nt),Ce=De*J/K*Vt,Ve=Ue*J/K*Vt;ve.projectionMatrix.makePerspective(j,ge,Ce,Ve,Vt,K),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert()}}function re(ve,ze){ze===null?ve.matrixWorld.copy(ve.matrix):ve.matrixWorld.multiplyMatrices(ze.matrixWorld,ve.matrix),ve.matrixWorldInverse.copy(ve.matrixWorld).invert()}this.updateCamera=function(ve){if(r===null)return;let ze=ve.near,Ye=ve.far;T.texture!==null&&(T.depthNear>0&&(ze=T.depthNear),T.depthFar>0&&(Ye=T.depthFar)),ee.near=z.near=B.near=ze,ee.far=z.far=B.far=Ye,(ie!==ee.near||pe!==ee.far)&&(r.updateRenderState({depthNear:ee.near,depthFar:ee.far}),ie=ee.near,pe=ee.far),ee.layers.mask=ve.layers.mask|6,B.layers.mask=ee.layers.mask&3,z.layers.mask=ee.layers.mask&5;const Oe=ve.parent,Xe=ee.cameras;re(ee,Oe);for(let lt=0;lt<Xe.length;lt++)re(Xe[lt],Oe);Xe.length===2?Y(ee,B,z):ee.projectionMatrix.copy(B.projectionMatrix),he(ve,ee,Oe)};function he(ve,ze,Ye){Ye===null?ve.matrix.copy(ze.matrixWorld):(ve.matrix.copy(Ye.matrixWorld),ve.matrix.invert(),ve.matrix.multiply(ze.matrixWorld)),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.updateMatrixWorld(!0),ve.projectionMatrix.copy(ze.projectionMatrix),ve.projectionMatrixInverse.copy(ze.projectionMatrixInverse),ve.isPerspectiveCamera&&(ve.fov=Mm*2*Math.atan(1/ve.projectionMatrix.elements[5]),ve.zoom=1)}this.getCamera=function(){return ee},this.getFoveation=function(){if(!(y===null&&b===null))return f},this.setFoveation=function(ve){f=ve,y!==null&&(y.fixedFoveation=ve),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=ve)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(ee)},this.getCameraTexture=function(ve){return M[ve]};let Pe=null;function je(ve,ze){if(m=ze.getViewerPose(d||o),_=ze,m!==null){const Ye=m.views;b!==null&&(e.setRenderTargetFramebuffer(N,b.framebuffer),e.setRenderTarget(N));let Oe=!1;Ye.length!==ee.cameras.length&&(ee.cameras.length=0,Oe=!0);for(let J=0;J<Ye.length;J++){const De=Ye[J];let Ue=null;if(b!==null)Ue=b.getViewport(De);else{const we=g.getViewSubImage(y,De);Ue=we.viewport,J===0&&(e.setRenderTargetTextures(N,we.colorTexture,we.depthStencilTexture),e.setRenderTarget(N))}let Ne=G[J];Ne===void 0&&(Ne=new Mr,Ne.layers.enable(J),Ne.viewport=new Mn,G[J]=Ne),Ne.matrix.fromArray(De.transform.matrix),Ne.matrix.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.projectionMatrix.fromArray(De.projectionMatrix),Ne.projectionMatrixInverse.copy(Ne.projectionMatrix).invert(),Ne.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),J===0&&(ee.matrix.copy(Ne.matrix),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale)),Oe===!0&&ee.cameras.push(Ne)}const Xe=r.enabledFeatures;if(Xe&&Xe.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&A){g=i.getBinding();const J=g.getDepthInformation(Ye[0]);J&&J.isValid&&J.texture&&T.init(J,r.renderState)}if(Xe&&Xe.includes("camera-access")&&A){e.state.unbindTexture(),g=i.getBinding();for(let J=0;J<Ye.length;J++){const De=Ye[J].camera;if(De){let Ue=M[De];Ue||(Ue=new uC,M[De]=Ue);const Ne=g.getCameraImage(De);Ue.sourceTexture=Ne}}}}for(let Ye=0;Ye<U.length;Ye++){const Oe=L[Ye],Xe=U[Ye];Oe!==null&&Xe!==void 0&&Xe.update(Oe,ze,d||o)}Pe&&Pe(ve,ze),ze.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ze}),_=null}const ot=new a5;ot.setAnimationLoop(je),this.setAnimationLoop=function(ve){Pe=ve},this.dispose=function(){}}}const zh=new Ds,v$=new Gt;function y$(t,e){function n(T,M){T.matrixAutoUpdate===!0&&T.updateMatrix(),M.value.copy(T.matrix)}function i(T,M){M.color.getRGB(T.fogColor.value,r4(t)),M.isFog?(T.fogNear.value=M.near,T.fogFar.value=M.far):M.isFogExp2&&(T.fogDensity.value=M.density)}function r(T,M,R,D,N){M.isMeshBasicMaterial||M.isMeshLambertMaterial?a(T,M):M.isMeshToonMaterial?(a(T,M),g(T,M)):M.isMeshPhongMaterial?(a(T,M),m(T,M)):M.isMeshStandardMaterial?(a(T,M),y(T,M),M.isMeshPhysicalMaterial&&b(T,M,N)):M.isMeshMatcapMaterial?(a(T,M),_(T,M)):M.isMeshDepthMaterial?a(T,M):M.isMeshDistanceMaterial?(a(T,M),A(T,M)):M.isMeshNormalMaterial?a(T,M):M.isLineBasicMaterial?(o(T,M),M.isLineDashedMaterial&&u(T,M)):M.isPointsMaterial?f(T,M,R,D):M.isSpriteMaterial?d(T,M):M.isShadowMaterial?(T.color.value.copy(M.color),T.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function a(T,M){T.opacity.value=M.opacity,M.color&&T.diffuse.value.copy(M.color),M.emissive&&T.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(T.map.value=M.map,n(M.map,T.mapTransform)),M.alphaMap&&(T.alphaMap.value=M.alphaMap,n(M.alphaMap,T.alphaMapTransform)),M.bumpMap&&(T.bumpMap.value=M.bumpMap,n(M.bumpMap,T.bumpMapTransform),T.bumpScale.value=M.bumpScale,M.side===Oa&&(T.bumpScale.value*=-1)),M.normalMap&&(T.normalMap.value=M.normalMap,n(M.normalMap,T.normalMapTransform),T.normalScale.value.copy(M.normalScale),M.side===Oa&&T.normalScale.value.negate()),M.displacementMap&&(T.displacementMap.value=M.displacementMap,n(M.displacementMap,T.displacementMapTransform),T.displacementScale.value=M.displacementScale,T.displacementBias.value=M.displacementBias),M.emissiveMap&&(T.emissiveMap.value=M.emissiveMap,n(M.emissiveMap,T.emissiveMapTransform)),M.specularMap&&(T.specularMap.value=M.specularMap,n(M.specularMap,T.specularMapTransform)),M.alphaTest>0&&(T.alphaTest.value=M.alphaTest);const R=e.get(M),D=R.envMap,N=R.envMapRotation;D&&(T.envMap.value=D,zh.copy(N),zh.x*=-1,zh.y*=-1,zh.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(zh.y*=-1,zh.z*=-1),T.envMapRotation.value.setFromMatrix4(v$.makeRotationFromEuler(zh)),T.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,T.reflectivity.value=M.reflectivity,T.ior.value=M.ior,T.refractionRatio.value=M.refractionRatio),M.lightMap&&(T.lightMap.value=M.lightMap,T.lightMapIntensity.value=M.lightMapIntensity,n(M.lightMap,T.lightMapTransform)),M.aoMap&&(T.aoMap.value=M.aoMap,T.aoMapIntensity.value=M.aoMapIntensity,n(M.aoMap,T.aoMapTransform))}function o(T,M){T.diffuse.value.copy(M.color),T.opacity.value=M.opacity,M.map&&(T.map.value=M.map,n(M.map,T.mapTransform))}function u(T,M){T.dashSize.value=M.dashSize,T.totalSize.value=M.dashSize+M.gapSize,T.scale.value=M.scale}function f(T,M,R,D){T.diffuse.value.copy(M.color),T.opacity.value=M.opacity,T.size.value=M.size*R,T.scale.value=D*.5,M.map&&(T.map.value=M.map,n(M.map,T.uvTransform)),M.alphaMap&&(T.alphaMap.value=M.alphaMap,n(M.alphaMap,T.alphaMapTransform)),M.alphaTest>0&&(T.alphaTest.value=M.alphaTest)}function d(T,M){T.diffuse.value.copy(M.color),T.opacity.value=M.opacity,T.rotation.value=M.rotation,M.map&&(T.map.value=M.map,n(M.map,T.mapTransform)),M.alphaMap&&(T.alphaMap.value=M.alphaMap,n(M.alphaMap,T.alphaMapTransform)),M.alphaTest>0&&(T.alphaTest.value=M.alphaTest)}function m(T,M){T.specular.value.copy(M.specular),T.shininess.value=Math.max(M.shininess,1e-4)}function g(T,M){M.gradientMap&&(T.gradientMap.value=M.gradientMap)}function y(T,M){T.metalness.value=M.metalness,M.metalnessMap&&(T.metalnessMap.value=M.metalnessMap,n(M.metalnessMap,T.metalnessMapTransform)),T.roughness.value=M.roughness,M.roughnessMap&&(T.roughnessMap.value=M.roughnessMap,n(M.roughnessMap,T.roughnessMapTransform)),M.envMap&&(T.envMapIntensity.value=M.envMapIntensity)}function b(T,M,R){T.ior.value=M.ior,M.sheen>0&&(T.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),T.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(T.sheenColorMap.value=M.sheenColorMap,n(M.sheenColorMap,T.sheenColorMapTransform)),M.sheenRoughnessMap&&(T.sheenRoughnessMap.value=M.sheenRoughnessMap,n(M.sheenRoughnessMap,T.sheenRoughnessMapTransform))),M.clearcoat>0&&(T.clearcoat.value=M.clearcoat,T.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(T.clearcoatMap.value=M.clearcoatMap,n(M.clearcoatMap,T.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(T.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,n(M.clearcoatRoughnessMap,T.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(T.clearcoatNormalMap.value=M.clearcoatNormalMap,n(M.clearcoatNormalMap,T.clearcoatNormalMapTransform),T.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===Oa&&T.clearcoatNormalScale.value.negate())),M.dispersion>0&&(T.dispersion.value=M.dispersion),M.iridescence>0&&(T.iridescence.value=M.iridescence,T.iridescenceIOR.value=M.iridescenceIOR,T.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],T.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(T.iridescenceMap.value=M.iridescenceMap,n(M.iridescenceMap,T.iridescenceMapTransform)),M.iridescenceThicknessMap&&(T.iridescenceThicknessMap.value=M.iridescenceThicknessMap,n(M.iridescenceThicknessMap,T.iridescenceThicknessMapTransform))),M.transmission>0&&(T.transmission.value=M.transmission,T.transmissionSamplerMap.value=R.texture,T.transmissionSamplerSize.value.set(R.width,R.height),M.transmissionMap&&(T.transmissionMap.value=M.transmissionMap,n(M.transmissionMap,T.transmissionMapTransform)),T.thickness.value=M.thickness,M.thicknessMap&&(T.thicknessMap.value=M.thicknessMap,n(M.thicknessMap,T.thicknessMapTransform)),T.attenuationDistance.value=M.attenuationDistance,T.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(T.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(T.anisotropyMap.value=M.anisotropyMap,n(M.anisotropyMap,T.anisotropyMapTransform))),T.specularIntensity.value=M.specularIntensity,T.specularColor.value.copy(M.specularColor),M.specularColorMap&&(T.specularColorMap.value=M.specularColorMap,n(M.specularColorMap,T.specularColorMapTransform)),M.specularIntensityMap&&(T.specularIntensityMap.value=M.specularIntensityMap,n(M.specularIntensityMap,T.specularIntensityMapTransform))}function _(T,M){M.matcap&&(T.matcap.value=M.matcap)}function A(T,M){const R=e.get(M).light;T.referencePosition.value.setFromMatrixPosition(R.matrixWorld),T.nearDistance.value=R.shadow.camera.near,T.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function x$(t,e,n,i){let r={},a={},o=[];const u=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function f(R,D){const N=D.program;i.uniformBlockBinding(R,N)}function d(R,D){let N=r[R.id];N===void 0&&(_(R),N=m(R),r[R.id]=N,R.addEventListener("dispose",T));const U=D.program;i.updateUBOMapping(R,U);const L=e.render.frame;a[R.id]!==L&&(y(R),a[R.id]=L)}function m(R){const D=g();R.__bindingPointIndex=D;const N=t.createBuffer(),U=R.__size,L=R.usage;return t.bindBuffer(t.UNIFORM_BUFFER,N),t.bufferData(t.UNIFORM_BUFFER,U,L),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,D,N),N}function g(){for(let R=0;R<u;R++)if(o.indexOf(R)===-1)return o.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(R){const D=r[R.id],N=R.uniforms,U=R.__cache;t.bindBuffer(t.UNIFORM_BUFFER,D);for(let L=0,V=N.length;L<V;L++){const F=Array.isArray(N[L])?N[L]:[N[L]];for(let B=0,z=F.length;B<z;B++){const G=F[B];if(b(G,L,B,U)===!0){const ee=G.__offset,ie=Array.isArray(G.value)?G.value:[G.value];let pe=0;for(let ue=0;ue<ie.length;ue++){const X=ie[ue],Q=A(X);typeof X=="number"||typeof X=="boolean"?(G.__data[0]=X,t.bufferSubData(t.UNIFORM_BUFFER,ee+pe,G.__data)):X.isMatrix3?(G.__data[0]=X.elements[0],G.__data[1]=X.elements[1],G.__data[2]=X.elements[2],G.__data[3]=0,G.__data[4]=X.elements[3],G.__data[5]=X.elements[4],G.__data[6]=X.elements[5],G.__data[7]=0,G.__data[8]=X.elements[6],G.__data[9]=X.elements[7],G.__data[10]=X.elements[8],G.__data[11]=0):(X.toArray(G.__data,pe),pe+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,ee,G.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function b(R,D,N,U){const L=R.value,V=D+"_"+N;if(U[V]===void 0)return typeof L=="number"||typeof L=="boolean"?U[V]=L:U[V]=L.clone(),!0;{const F=U[V];if(typeof L=="number"||typeof L=="boolean"){if(F!==L)return U[V]=L,!0}else if(F.equals(L)===!1)return F.copy(L),!0}return!1}function _(R){const D=R.uniforms;let N=0;const U=16;for(let V=0,F=D.length;V<F;V++){const B=Array.isArray(D[V])?D[V]:[D[V]];for(let z=0,G=B.length;z<G;z++){const ee=B[z],ie=Array.isArray(ee.value)?ee.value:[ee.value];for(let pe=0,ue=ie.length;pe<ue;pe++){const X=ie[pe],Q=A(X),$=N%U,me=$%Q.boundary,Y=$+me;N+=me,Y!==0&&U-Y<Q.storage&&(N+=U-Y),ee.__data=new Float32Array(Q.storage/Float32Array.BYTES_PER_ELEMENT),ee.__offset=N,N+=Q.storage}}}const L=N%U;return L>0&&(N+=U-L),R.__size=N,R.__cache={},this}function A(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),D}function T(R){const D=R.target;D.removeEventListener("dispose",T);const N=o.indexOf(D.__bindingPointIndex);o.splice(N,1),t.deleteBuffer(r[D.id]),delete r[D.id],delete a[D.id]}function M(){for(const R in r)t.deleteBuffer(r[R]);o=[],r={},a={}}return{bind:f,update:d,dispose:M}}class f5{constructor(e={}){const{canvas:n=t4(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:u=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:d=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const _=new Uint32Array(4),A=new Int32Array(4);let T=null,M=null;const R=[],D=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Wl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let U=!1;this._outputColorSpace=na;let L=0,V=0,F=null,B=-1,z=null;const G=new Mn,ee=new Mn;let ie=null;const pe=new vt(0);let ue=0,X=n.width,Q=n.height,$=1,me=null,Y=null;const re=new Mn(0,0,X,Q),he=new Mn(0,0,X,Q);let Pe=!1;const je=new km;let ot=!1,ve=!1;const ze=new Gt,Ye=new Z,Oe=new Mn,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let lt=!1;function Le(){return F===null?$:1}let J=i;function De(q,le){return n.getContext(q,le)}try{const q={alpha:!0,depth:r,stencil:a,antialias:u,premultipliedAlpha:f,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${K0}`),n.addEventListener("webglcontextlost",it,!1),n.addEventListener("webglcontextrestored",mt,!1),n.addEventListener("webglcontextcreationerror",Ke,!1),J===null){const le="webgl2";if(J=De(le,q),J===null)throw De(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(q){throw console.error("THREE.WebGLRenderer: "+q.message),q}let Ue,Ne,we,tt,We,Qe,Nt,Vt,K,j,ge,Ce,Ve,Re,ct,nt,yt,xt,qe,at,At,bt,st,Ht;function oe(){Ue=new NQ(J),Ue.init(),bt=new c5(J,Ue),Ne=new EQ(J,Ue,e,bt),we=new f$(J,Ue),Ne.reversedDepthBuffer&&y&&we.buffers.depth.setReversed(!0),tt=new UQ(J),We=new JJ,Qe=new h$(J,Ue,we,We,Ne,bt,tt),Nt=new AQ(N),Vt=new DQ(N),K=new HY(J),st=new SQ(J,K),j=new OQ(J,K,tt,st),ge=new IQ(J,j,K,tt),qe=new LQ(J,Ne,Qe),nt=new TQ(We),Ce=new QJ(N,Nt,Vt,Ue,Ne,st,nt),Ve=new y$(N,We),Re=new e$,ct=new s$(Ue),xt=new _Q(N,Nt,Vt,we,ge,b,f),yt=new u$(N,ge,Ne),Ht=new x$(J,tt,Ne,we),at=new MQ(J,Ue,tt),At=new PQ(J,Ue,tt),tt.programs=Ce.programs,N.capabilities=Ne,N.extensions=Ue,N.properties=We,N.renderLists=Re,N.shadowMap=yt,N.state=we,N.info=tt}oe();const Je=new g$(N,J);this.xr=Je,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const q=Ue.get("WEBGL_lose_context");q&&q.loseContext()},this.forceContextRestore=function(){const q=Ue.get("WEBGL_lose_context");q&&q.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(q){q!==void 0&&($=q,this.setSize(X,Q,!1))},this.getSize=function(q){return q.set(X,Q)},this.setSize=function(q,le,xe=!0){if(Je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}X=q,Q=le,n.width=Math.floor(q*$),n.height=Math.floor(le*$),xe===!0&&(n.style.width=q+"px",n.style.height=le+"px"),this.setViewport(0,0,q,le)},this.getDrawingBufferSize=function(q){return q.set(X*$,Q*$).floor()},this.setDrawingBufferSize=function(q,le,xe){X=q,Q=le,$=xe,n.width=Math.floor(q*xe),n.height=Math.floor(le*xe),this.setViewport(0,0,q,le)},this.getCurrentViewport=function(q){return q.copy(G)},this.getViewport=function(q){return q.copy(re)},this.setViewport=function(q,le,xe,Ee){q.isVector4?re.set(q.x,q.y,q.z,q.w):re.set(q,le,xe,Ee),we.viewport(G.copy(re).multiplyScalar($).round())},this.getScissor=function(q){return q.copy(he)},this.setScissor=function(q,le,xe,Ee){q.isVector4?he.set(q.x,q.y,q.z,q.w):he.set(q,le,xe,Ee),we.scissor(ee.copy(he).multiplyScalar($).round())},this.getScissorTest=function(){return Pe},this.setScissorTest=function(q){we.setScissorTest(Pe=q)},this.setOpaqueSort=function(q){me=q},this.setTransparentSort=function(q){Y=q},this.getClearColor=function(q){return q.copy(xt.getClearColor())},this.setClearColor=function(){xt.setClearColor(...arguments)},this.getClearAlpha=function(){return xt.getClearAlpha()},this.setClearAlpha=function(){xt.setClearAlpha(...arguments)},this.clear=function(q=!0,le=!0,xe=!0){let Ee=0;if(q){let fe=!1;if(F!==null){const Ze=F.texture.format;fe=Ze===i1||Ze===n1||Ze===Q0}if(fe){const Ze=F.texture.type,rt=Ze===oo||Ze===qu||Ze===ym||Ze===xm||Ze===$S||Ze===e1,gt=xt.getClearColor(),ut=xt.getClearAlpha(),Ct=gt.r,Pt=gt.g,Tt=gt.b;rt?(_[0]=Ct,_[1]=Pt,_[2]=Tt,_[3]=ut,J.clearBufferuiv(J.COLOR,0,_)):(A[0]=Ct,A[1]=Pt,A[2]=Tt,A[3]=ut,J.clearBufferiv(J.COLOR,0,A))}else Ee|=J.COLOR_BUFFER_BIT}le&&(Ee|=J.DEPTH_BUFFER_BIT),xe&&(Ee|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",it,!1),n.removeEventListener("webglcontextrestored",mt,!1),n.removeEventListener("webglcontextcreationerror",Ke,!1),xt.dispose(),Re.dispose(),ct.dispose(),We.dispose(),Nt.dispose(),Vt.dispose(),ge.dispose(),st.dispose(),Ht.dispose(),Ce.dispose(),Je.dispose(),Je.removeEventListener("sessionstart",Si),Je.removeEventListener("sessionend",Mi),ti.stop()};function it(q){q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function mt(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const q=tt.autoReset,le=yt.enabled,xe=yt.autoUpdate,Ee=yt.needsUpdate,fe=yt.type;oe(),tt.autoReset=q,yt.enabled=le,yt.autoUpdate=xe,yt.needsUpdate=Ee,yt.type=fe}function Ke(q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",q.statusMessage)}function Fe(q){const le=q.target;le.removeEventListener("dispose",Fe),_t(le)}function _t(q){Lt(q),We.remove(q)}function Lt(q){const le=We.get(q).programs;le!==void 0&&(le.forEach(function(xe){Ce.releaseProgram(xe)}),q.isShaderMaterial&&Ce.releaseShaderCache(q))}this.renderBufferDirect=function(q,le,xe,Ee,fe,Ze){le===null&&(le=Xe);const rt=fe.isMesh&&fe.matrixWorld.determinant()<0,gt=Ps(q,le,xe,Ee,fe);we.setMaterial(Ee,rt);let ut=xe.index,Ct=1;if(Ee.wireframe===!0){if(ut=j.getWireframeAttribute(xe),ut===void 0)return;Ct=2}const Pt=xe.drawRange,Tt=xe.attributes.position;let Jt=Pt.start*Ct,gn=(Pt.start+Pt.count)*Ct;Ze!==null&&(Jt=Math.max(Jt,Ze.start*Ct),gn=Math.min(gn,(Ze.start+Ze.count)*Ct)),ut!==null?(Jt=Math.max(Jt,0),gn=Math.min(gn,ut.count)):Tt!=null&&(Jt=Math.max(Jt,0),gn=Math.min(gn,Tt.count));const Kn=gn-Jt;if(Kn<0||Kn===1/0)return;st.setup(fe,Ee,gt,xe,ut);let Nn,Kt=at;if(ut!==null&&(Nn=K.get(ut),Kt=At,Kt.setIndex(Nn)),fe.isMesh)Ee.wireframe===!0?(we.setLineWidth(Ee.wireframeLinewidth*Le()),Kt.setMode(J.LINES)):Kt.setMode(J.TRIANGLES);else if(fe.isLine){let Rt=Ee.linewidth;Rt===void 0&&(Rt=1),we.setLineWidth(Rt*Le()),fe.isLineSegments?Kt.setMode(J.LINES):fe.isLineLoop?Kt.setMode(J.LINE_LOOP):Kt.setMode(J.LINE_STRIP)}else fe.isPoints?Kt.setMode(J.POINTS):fe.isSprite&&Kt.setMode(J.TRIANGLES);if(fe.isBatchedMesh)if(fe._multiDrawInstances!==null)S0("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Kt.renderMultiDrawInstances(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount,fe._multiDrawInstances);else if(Ue.get("WEBGL_multi_draw"))Kt.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else{const Rt=fe._multiDrawStarts,Zn=fe._multiDrawCounts,on=fe._multiDrawCount,Qi=ut?K.get(ut).bytesPerElement:1,Ia=We.get(Ee).currentProgram.getUniforms();for(let Ji=0;Ji<on;Ji++)Ia.setValue(J,"_gl_DrawID",Ji),Kt.render(Rt[Ji]/Qi,Zn[Ji])}else if(fe.isInstancedMesh)Kt.renderInstances(Jt,Kn,fe.count);else if(xe.isInstancedBufferGeometry){const Rt=xe._maxInstanceCount!==void 0?xe._maxInstanceCount:1/0,Zn=Math.min(xe.instanceCount,Rt);Kt.renderInstances(Jt,Kn,Zn)}else Kt.render(Jt,Kn)};function pn(q,le,xe){q.transparent===!0&&q.side===Bl&&q.forceSinglePass===!1?(q.side=Oa,q.needsUpdate=!0,fa(q,le,xe),q.side=ku,q.needsUpdate=!0,fa(q,le,xe),q.side=Bl):fa(q,le,xe)}this.compile=function(q,le,xe=null){xe===null&&(xe=q),M=ct.get(xe),M.init(le),D.push(M),xe.traverseVisible(function(fe){fe.isLight&&fe.layers.test(le.layers)&&(M.pushLight(fe),fe.castShadow&&M.pushShadow(fe))}),q!==xe&&q.traverseVisible(function(fe){fe.isLight&&fe.layers.test(le.layers)&&(M.pushLight(fe),fe.castShadow&&M.pushShadow(fe))}),M.setupLights();const Ee=new Set;return q.traverse(function(fe){if(!(fe.isMesh||fe.isPoints||fe.isLine||fe.isSprite))return;const Ze=fe.material;if(Ze)if(Array.isArray(Ze))for(let rt=0;rt<Ze.length;rt++){const gt=Ze[rt];pn(gt,xe,fe),Ee.add(gt)}else pn(Ze,xe,fe),Ee.add(Ze)}),M=D.pop(),Ee},this.compileAsync=function(q,le,xe=null){const Ee=this.compile(q,le,xe);return new Promise(fe=>{function Ze(){if(Ee.forEach(function(rt){We.get(rt).currentProgram.isReady()&&Ee.delete(rt)}),Ee.size===0){fe(q);return}setTimeout(Ze,10)}Ue.get("KHR_parallel_shader_compile")!==null?Ze():setTimeout(Ze,10)})};let cn=null;function Ua(q){cn&&cn(q)}function Si(){ti.stop()}function Mi(){ti.start()}const ti=new a5;ti.setAnimationLoop(Ua),typeof self<"u"&&ti.setContext(self),this.setAnimationLoop=function(q){cn=q,Je.setAnimationLoop(q),q===null?ti.stop():ti.start()},Je.addEventListener("sessionstart",Si),Je.addEventListener("sessionend",Mi),this.render=function(q,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;if(q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Je.enabled===!0&&Je.isPresenting===!0&&(Je.cameraAutoUpdate===!0&&Je.updateCamera(le),le=Je.getCamera()),q.isScene===!0&&q.onBeforeRender(N,q,le,F),M=ct.get(q,D.length),M.init(le),D.push(M),ze.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),je.setFromProjectionMatrix(ze,As,le.reversedDepth),ve=this.localClippingEnabled,ot=nt.init(this.clippingPlanes,ve),T=Re.get(q,R.length),T.init(),R.push(T),Je.enabled===!0&&Je.isPresenting===!0){const Ze=N.xr.getDepthSensingMesh();Ze!==null&&La(Ze,le,-1/0,N.sortObjects)}La(q,le,0,N.sortObjects),T.finish(),N.sortObjects===!0&&T.sort(me,Y),lt=Je.enabled===!1||Je.isPresenting===!1||Je.hasDepthSensing()===!1,lt&&xt.addToRenderList(T,q),this.info.render.frame++,ot===!0&&nt.beginShadows();const xe=M.state.shadowsArray;yt.render(xe,q,le),ot===!0&&nt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ee=T.opaque,fe=T.transmissive;if(M.setupLights(),le.isArrayCamera){const Ze=le.cameras;if(fe.length>0)for(let rt=0,gt=Ze.length;rt<gt;rt++){const ut=Ze[rt];Of(Ee,fe,q,ut)}lt&&xt.render(q);for(let rt=0,gt=Ze.length;rt<gt;rt++){const ut=Ze[rt];la(T,q,ut,ut.viewport)}}else fe.length>0&&Of(Ee,fe,q,le),lt&&xt.render(q),la(T,q,le);F!==null&&V===0&&(Qe.updateMultisampleRenderTarget(F),Qe.updateRenderTargetMipmap(F)),q.isScene===!0&&q.onAfterRender(N,q,le),st.resetDefaultState(),B=-1,z=null,D.pop(),D.length>0?(M=D[D.length-1],ot===!0&&nt.setGlobalState(N.clippingPlanes,M.state.camera)):M=null,R.pop(),R.length>0?T=R[R.length-1]:T=null};function La(q,le,xe,Ee){if(q.visible===!1)return;if(q.layers.test(le.layers)){if(q.isGroup)xe=q.renderOrder;else if(q.isLOD)q.autoUpdate===!0&&q.update(le);else if(q.isLight)M.pushLight(q),q.castShadow&&M.pushShadow(q);else if(q.isSprite){if(!q.frustumCulled||je.intersectsSprite(q)){Ee&&Oe.setFromMatrixPosition(q.matrixWorld).applyMatrix4(ze);const rt=ge.update(q),gt=q.material;gt.visible&&T.push(q,rt,gt,xe,Oe.z,null)}}else if((q.isMesh||q.isLine||q.isPoints)&&(!q.frustumCulled||je.intersectsObject(q))){const rt=ge.update(q),gt=q.material;if(Ee&&(q.boundingSphere!==void 0?(q.boundingSphere===null&&q.computeBoundingSphere(),Oe.copy(q.boundingSphere.center)):(rt.boundingSphere===null&&rt.computeBoundingSphere(),Oe.copy(rt.boundingSphere.center)),Oe.applyMatrix4(q.matrixWorld).applyMatrix4(ze)),Array.isArray(gt)){const ut=rt.groups;for(let Ct=0,Pt=ut.length;Ct<Pt;Ct++){const Tt=ut[Ct],Jt=gt[Tt.materialIndex];Jt&&Jt.visible&&T.push(q,rt,Jt,xe,Oe.z,Tt)}}else gt.visible&&T.push(q,rt,gt,xe,Oe.z,null)}}const Ze=q.children;for(let rt=0,gt=Ze.length;rt<gt;rt++)La(Ze[rt],le,xe,Ee)}function la(q,le,xe,Ee){const fe=q.opaque,Ze=q.transmissive,rt=q.transparent;M.setupLightsView(xe),ot===!0&&nt.setGlobalState(N.clippingPlanes,xe),Ee&&we.viewport(G.copy(Ee)),fe.length>0&&ua(fe,le,xe),Ze.length>0&&ua(Ze,le,xe),rt.length>0&&ua(rt,le,xe),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Of(q,le,xe,Ee){if((xe.isScene===!0?xe.overrideMaterial:null)!==null)return;M.state.transmissionRenderTarget[Ee.id]===void 0&&(M.state.transmissionRenderTarget[Ee.id]=new Zl(1,1,{generateMipmaps:!0,type:Ue.has("EXT_color_buffer_half_float")||Ue.has("EXT_color_buffer_float")?Fm:oo,minFilter:Hl,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:xn.workingColorSpace}));const Ze=M.state.transmissionRenderTarget[Ee.id],rt=Ee.viewport||G;Ze.setSize(rt.z*N.transmissionResolutionScale,rt.w*N.transmissionResolutionScale);const gt=N.getRenderTarget(),ut=N.getActiveCubeFace(),Ct=N.getActiveMipmapLevel();N.setRenderTarget(Ze),N.getClearColor(pe),ue=N.getClearAlpha(),ue<1&&N.setClearColor(16777215,.5),N.clear(),lt&&xt.render(xe);const Pt=N.toneMapping;N.toneMapping=Wl;const Tt=Ee.viewport;if(Ee.viewport!==void 0&&(Ee.viewport=void 0),M.setupLightsView(Ee),ot===!0&&nt.setGlobalState(N.clippingPlanes,Ee),ua(q,xe,Ee),Qe.updateMultisampleRenderTarget(Ze),Qe.updateRenderTargetMipmap(Ze),Ue.has("WEBGL_multisampled_render_to_texture")===!1){let Jt=!1;for(let gn=0,Kn=le.length;gn<Kn;gn++){const Nn=le[gn],Kt=Nn.object,Rt=Nn.geometry,Zn=Nn.material,on=Nn.group;if(Zn.side===Bl&&Kt.layers.test(Ee.layers)){const Qi=Zn.side;Zn.side=Oa,Zn.needsUpdate=!0,ca(Kt,xe,Ee,Rt,Zn,on),Zn.side=Qi,Zn.needsUpdate=!0,Jt=!0}}Jt===!0&&(Qe.updateMultisampleRenderTarget(Ze),Qe.updateRenderTargetMipmap(Ze))}N.setRenderTarget(gt,ut,Ct),N.setClearColor(pe,ue),Tt!==void 0&&(Ee.viewport=Tt),N.toneMapping=Pt}function ua(q,le,xe){const Ee=le.isScene===!0?le.overrideMaterial:null;for(let fe=0,Ze=q.length;fe<Ze;fe++){const rt=q[fe],gt=rt.object,ut=rt.geometry,Ct=rt.group;let Pt=rt.material;Pt.allowOverride===!0&&Ee!==null&&(Pt=Ee),gt.layers.test(xe.layers)&&ca(gt,le,xe,ut,Pt,Ct)}}function ca(q,le,xe,Ee,fe,Ze){q.onBeforeRender(N,le,xe,Ee,fe,Ze),q.modelViewMatrix.multiplyMatrices(xe.matrixWorldInverse,q.matrixWorld),q.normalMatrix.getNormalMatrix(q.modelViewMatrix),fe.onBeforeRender(N,le,xe,Ee,q,Ze),fe.transparent===!0&&fe.side===Bl&&fe.forceSinglePass===!1?(fe.side=Oa,fe.needsUpdate=!0,N.renderBufferDirect(xe,le,Ee,fe,q,Ze),fe.side=ku,fe.needsUpdate=!0,N.renderBufferDirect(xe,le,Ee,fe,q,Ze),fe.side=Bl):N.renderBufferDirect(xe,le,Ee,fe,q,Ze),q.onAfterRender(N,le,xe,Ee,fe,Ze)}function fa(q,le,xe){le.isScene!==!0&&(le=Xe);const Ee=We.get(q),fe=M.state.lights,Ze=M.state.shadowsArray,rt=fe.state.version,gt=Ce.getParameters(q,fe.state,Ze,le,xe),ut=Ce.getProgramCacheKey(gt);let Ct=Ee.programs;Ee.environment=q.isMeshStandardMaterial?le.environment:null,Ee.fog=le.fog,Ee.envMap=(q.isMeshStandardMaterial?Vt:Nt).get(q.envMap||Ee.environment),Ee.envMapRotation=Ee.environment!==null&&q.envMap===null?le.environmentRotation:q.envMapRotation,Ct===void 0&&(q.addEventListener("dispose",Fe),Ct=new Map,Ee.programs=Ct);let Pt=Ct.get(ut);if(Pt!==void 0){if(Ee.currentProgram===Pt&&Ee.lightsStateVersion===rt)return cs(q,gt),Pt}else gt.uniforms=Ce.getUniforms(q),q.onBeforeCompile(gt,N),Pt=Ce.acquireProgram(gt,ut),Ct.set(ut,Pt),Ee.uniforms=gt.uniforms;const Tt=Ee.uniforms;return(!q.isShaderMaterial&&!q.isRawShaderMaterial||q.clipping===!0)&&(Tt.clippingPlanes=nt.uniform),cs(q,gt),Ee.needsLights=ho(q),Ee.lightsStateVersion=rt,Ee.needsLights&&(Tt.ambientLightColor.value=fe.state.ambient,Tt.lightProbe.value=fe.state.probe,Tt.directionalLights.value=fe.state.directional,Tt.directionalLightShadows.value=fe.state.directionalShadow,Tt.spotLights.value=fe.state.spot,Tt.spotLightShadows.value=fe.state.spotShadow,Tt.rectAreaLights.value=fe.state.rectArea,Tt.ltc_1.value=fe.state.rectAreaLTC1,Tt.ltc_2.value=fe.state.rectAreaLTC2,Tt.pointLights.value=fe.state.point,Tt.pointLightShadows.value=fe.state.pointShadow,Tt.hemisphereLights.value=fe.state.hemi,Tt.directionalShadowMap.value=fe.state.directionalShadowMap,Tt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,Tt.spotShadowMap.value=fe.state.spotShadowMap,Tt.spotLightMatrix.value=fe.state.spotLightMatrix,Tt.spotLightMap.value=fe.state.spotLightMap,Tt.pointShadowMap.value=fe.state.pointShadowMap,Tt.pointShadowMatrix.value=fe.state.pointShadowMatrix),Ee.currentProgram=Pt,Ee.uniformsList=null,Pt}function jn(q){if(q.uniformsList===null){const le=q.currentProgram.getUniforms();q.uniformsList=d_.seqWithValue(le.seq,q.uniforms)}return q.uniformsList}function cs(q,le){const xe=We.get(q);xe.outputColorSpace=le.outputColorSpace,xe.batching=le.batching,xe.batchingColor=le.batchingColor,xe.instancing=le.instancing,xe.instancingColor=le.instancingColor,xe.instancingMorph=le.instancingMorph,xe.skinning=le.skinning,xe.morphTargets=le.morphTargets,xe.morphNormals=le.morphNormals,xe.morphColors=le.morphColors,xe.morphTargetsCount=le.morphTargetsCount,xe.numClippingPlanes=le.numClippingPlanes,xe.numIntersection=le.numClipIntersection,xe.vertexAlphas=le.vertexAlphas,xe.vertexTangents=le.vertexTangents,xe.toneMapping=le.toneMapping}function Ps(q,le,xe,Ee,fe){le.isScene!==!0&&(le=Xe),Qe.resetTextureUnits();const Ze=le.fog,rt=Ee.isMeshStandardMaterial?le.environment:null,gt=F===null?N.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:yf,ut=(Ee.isMeshStandardMaterial?Vt:Nt).get(Ee.envMap||rt),Ct=Ee.vertexColors===!0&&!!xe.attributes.color&&xe.attributes.color.itemSize===4,Pt=!!xe.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),Tt=!!xe.morphAttributes.position,Jt=!!xe.morphAttributes.normal,gn=!!xe.morphAttributes.color;let Kn=Wl;Ee.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(Kn=N.toneMapping);const Nn=xe.morphAttributes.position||xe.morphAttributes.normal||xe.morphAttributes.color,Kt=Nn!==void 0?Nn.length:0,Rt=We.get(Ee),Zn=M.state.lights;if(ot===!0&&(ve===!0||q!==z)){const ii=q===z&&Ee.id===B;nt.setState(Ee,q,ii)}let on=!1;Ee.version===Rt.__version?(Rt.needsLights&&Rt.lightsStateVersion!==Zn.state.version||Rt.outputColorSpace!==gt||fe.isBatchedMesh&&Rt.batching===!1||!fe.isBatchedMesh&&Rt.batching===!0||fe.isBatchedMesh&&Rt.batchingColor===!0&&fe.colorTexture===null||fe.isBatchedMesh&&Rt.batchingColor===!1&&fe.colorTexture!==null||fe.isInstancedMesh&&Rt.instancing===!1||!fe.isInstancedMesh&&Rt.instancing===!0||fe.isSkinnedMesh&&Rt.skinning===!1||!fe.isSkinnedMesh&&Rt.skinning===!0||fe.isInstancedMesh&&Rt.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&Rt.instancingColor===!1&&fe.instanceColor!==null||fe.isInstancedMesh&&Rt.instancingMorph===!0&&fe.morphTexture===null||fe.isInstancedMesh&&Rt.instancingMorph===!1&&fe.morphTexture!==null||Rt.envMap!==ut||Ee.fog===!0&&Rt.fog!==Ze||Rt.numClippingPlanes!==void 0&&(Rt.numClippingPlanes!==nt.numPlanes||Rt.numIntersection!==nt.numIntersection)||Rt.vertexAlphas!==Ct||Rt.vertexTangents!==Pt||Rt.morphTargets!==Tt||Rt.morphNormals!==Jt||Rt.morphColors!==gn||Rt.toneMapping!==Kn||Rt.morphTargetsCount!==Kt)&&(on=!0):(on=!0,Rt.__version=Ee.version);let Qi=Rt.currentProgram;on===!0&&(Qi=fa(Ee,le,fe));let Ia=!1,Ji=!1,Oi=!1;const Pn=Qi.getUniforms(),mr=Rt.uniforms;if(we.useProgram(Qi.program)&&(Ia=!0,Ji=!0,Oi=!0),Ee.id!==B&&(B=Ee.id,Ji=!0),Ia||z!==q){we.buffers.depth.getReversed()&&q.reversedDepth!==!0&&(q._reversedDepth=!0,q.updateProjectionMatrix()),Pn.setValue(J,"projectionMatrix",q.projectionMatrix),Pn.setValue(J,"viewMatrix",q.matrixWorldInverse);const er=Pn.map.cameraPosition;er!==void 0&&er.setValue(J,Ye.setFromMatrixPosition(q.matrixWorld)),Ne.logarithmicDepthBuffer&&Pn.setValue(J,"logDepthBufFC",2/(Math.log(q.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&Pn.setValue(J,"isOrthographic",q.isOrthographicCamera===!0),z!==q&&(z=q,Ji=!0,Oi=!0)}if(fe.isSkinnedMesh){Pn.setOptional(J,fe,"bindMatrix"),Pn.setOptional(J,fe,"bindMatrixInverse");const ii=fe.skeleton;ii&&(ii.boneTexture===null&&ii.computeBoneTexture(),Pn.setValue(J,"boneTexture",ii.boneTexture,Qe))}fe.isBatchedMesh&&(Pn.setOptional(J,fe,"batchingTexture"),Pn.setValue(J,"batchingTexture",fe._matricesTexture,Qe),Pn.setOptional(J,fe,"batchingIdTexture"),Pn.setValue(J,"batchingIdTexture",fe._indirectTexture,Qe),Pn.setOptional(J,fe,"batchingColorTexture"),fe._colorsTexture!==null&&Pn.setValue(J,"batchingColorTexture",fe._colorsTexture,Qe));const $i=xe.morphAttributes;if(($i.position!==void 0||$i.normal!==void 0||$i.color!==void 0)&&qe.update(fe,xe,Qi),(Ji||Rt.receiveShadow!==fe.receiveShadow)&&(Rt.receiveShadow=fe.receiveShadow,Pn.setValue(J,"receiveShadow",fe.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(mr.envMap.value=ut,mr.flipEnvMap.value=ut.isCubeTexture&&ut.isRenderTargetTexture===!1?-1:1),Ee.isMeshStandardMaterial&&Ee.envMap===null&&le.environment!==null&&(mr.envMapIntensity.value=le.environmentIntensity),Ji&&(Pn.setValue(J,"toneMappingExposure",N.toneMappingExposure),Rt.needsLights&&el(mr,Oi),Ze&&Ee.fog===!0&&Ve.refreshFogUniforms(mr,Ze),Ve.refreshMaterialUniforms(mr,Ee,$,Q,M.state.transmissionRenderTarget[q.id]),d_.upload(J,jn(Rt),mr,Qe)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(d_.upload(J,jn(Rt),mr,Qe),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&Pn.setValue(J,"center",fe.center),Pn.setValue(J,"modelViewMatrix",fe.modelViewMatrix),Pn.setValue(J,"normalMatrix",fe.normalMatrix),Pn.setValue(J,"modelMatrix",fe.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const ii=Ee.uniformsGroups;for(let er=0,tu=ii.length;er<tu;er++){const Pi=ii[er];Ht.update(Pi,Qi),Ht.bind(Pi,Qi)}}return Qi}function el(q,le){q.ambientLightColor.needsUpdate=le,q.lightProbe.needsUpdate=le,q.directionalLights.needsUpdate=le,q.directionalLightShadows.needsUpdate=le,q.pointLights.needsUpdate=le,q.pointLightShadows.needsUpdate=le,q.spotLights.needsUpdate=le,q.spotLightShadows.needsUpdate=le,q.rectAreaLights.needsUpdate=le,q.hemisphereLights.needsUpdate=le}function ho(q){return q.isMeshLambertMaterial||q.isMeshToonMaterial||q.isMeshPhongMaterial||q.isMeshStandardMaterial||q.isShadowMaterial||q.isShaderMaterial&&q.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return V},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(q,le,xe){const Ee=We.get(q);Ee.__autoAllocateDepthBuffer=q.resolveDepthBuffer===!1,Ee.__autoAllocateDepthBuffer===!1&&(Ee.__useRenderToTexture=!1),We.get(q.texture).__webglTexture=le,We.get(q.depthTexture).__webglTexture=Ee.__autoAllocateDepthBuffer?void 0:xe,Ee.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(q,le){const xe=We.get(q);xe.__webglFramebuffer=le,xe.__useDefaultFramebuffer=le===void 0};const Ei=J.createFramebuffer();this.setRenderTarget=function(q,le=0,xe=0){F=q,L=le,V=xe;let Ee=!0,fe=null,Ze=!1,rt=!1;if(q){const ut=We.get(q);if(ut.__useDefaultFramebuffer!==void 0)we.bindFramebuffer(J.FRAMEBUFFER,null),Ee=!1;else if(ut.__webglFramebuffer===void 0)Qe.setupRenderTarget(q);else if(ut.__hasExternalTextures)Qe.rebindTextures(q,We.get(q.texture).__webglTexture,We.get(q.depthTexture).__webglTexture);else if(q.depthBuffer){const Tt=q.depthTexture;if(ut.__boundDepthTexture!==Tt){if(Tt!==null&&We.has(Tt)&&(q.width!==Tt.image.width||q.height!==Tt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Qe.setupDepthRenderbuffer(q)}}const Ct=q.texture;(Ct.isData3DTexture||Ct.isDataArrayTexture||Ct.isCompressedArrayTexture)&&(rt=!0);const Pt=We.get(q).__webglFramebuffer;q.isWebGLCubeRenderTarget?(Array.isArray(Pt[le])?fe=Pt[le][xe]:fe=Pt[le],Ze=!0):q.samples>0&&Qe.useMultisampledRTT(q)===!1?fe=We.get(q).__webglMultisampledFramebuffer:Array.isArray(Pt)?fe=Pt[xe]:fe=Pt,G.copy(q.viewport),ee.copy(q.scissor),ie=q.scissorTest}else G.copy(re).multiplyScalar($).floor(),ee.copy(he).multiplyScalar($).floor(),ie=Pe;if(xe!==0&&(fe=Ei),we.bindFramebuffer(J.FRAMEBUFFER,fe)&&Ee&&we.drawBuffers(q,fe),we.viewport(G),we.scissor(ee),we.setScissorTest(ie),Ze){const ut=We.get(q.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+le,ut.__webglTexture,xe)}else if(rt){const ut=le;for(let Ct=0;Ct<q.textures.length;Ct++){const Pt=We.get(q.textures[Ct]);J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0+Ct,Pt.__webglTexture,xe,ut)}}else if(q!==null&&xe!==0){const ut=We.get(q.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,ut.__webglTexture,xe)}B=-1},this.readRenderTargetPixels=function(q,le,xe,Ee,fe,Ze,rt,gt=0){if(!(q&&q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=We.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&rt!==void 0&&(ut=ut[rt]),ut){we.bindFramebuffer(J.FRAMEBUFFER,ut);try{const Ct=q.textures[gt],Pt=Ct.format,Tt=Ct.type;if(!Ne.textureFormatReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(Tt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=q.width-Ee&&xe>=0&&xe<=q.height-fe&&(q.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+gt),J.readPixels(le,xe,Ee,fe,bt.convert(Pt),bt.convert(Tt),Ze))}finally{const Ct=F!==null?We.get(F).__webglFramebuffer:null;we.bindFramebuffer(J.FRAMEBUFFER,Ct)}}},this.readRenderTargetPixelsAsync=async function(q,le,xe,Ee,fe,Ze,rt,gt=0){if(!(q&&q.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ut=We.get(q).__webglFramebuffer;if(q.isWebGLCubeRenderTarget&&rt!==void 0&&(ut=ut[rt]),ut)if(le>=0&&le<=q.width-Ee&&xe>=0&&xe<=q.height-fe){we.bindFramebuffer(J.FRAMEBUFFER,ut);const Ct=q.textures[gt],Pt=Ct.format,Tt=Ct.type;if(!Ne.textureFormatReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(Tt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Jt=J.createBuffer();J.bindBuffer(J.PIXEL_PACK_BUFFER,Jt),J.bufferData(J.PIXEL_PACK_BUFFER,Ze.byteLength,J.STREAM_READ),q.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+gt),J.readPixels(le,xe,Ee,fe,bt.convert(Pt),bt.convert(Tt),0);const gn=F!==null?We.get(F).__webglFramebuffer:null;we.bindFramebuffer(J.FRAMEBUFFER,gn);const Kn=J.fenceSync(J.SYNC_GPU_COMMANDS_COMPLETE,0);return J.flush(),await iX(J,Kn,4),J.bindBuffer(J.PIXEL_PACK_BUFFER,Jt),J.getBufferSubData(J.PIXEL_PACK_BUFFER,0,Ze),J.deleteBuffer(Jt),J.deleteSync(Kn),Ze}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(q,le=null,xe=0){const Ee=Math.pow(2,-xe),fe=Math.floor(q.image.width*Ee),Ze=Math.floor(q.image.height*Ee),rt=le!==null?le.x:0,gt=le!==null?le.y:0;Qe.setTexture2D(q,0),J.copyTexSubImage2D(J.TEXTURE_2D,xe,0,0,rt,gt,fe,Ze),we.unbindTexture()};const ic=J.createFramebuffer(),rc=J.createFramebuffer();this.copyTextureToTexture=function(q,le,xe=null,Ee=null,fe=0,Ze=null){Ze===null&&(fe!==0?(S0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ze=fe,fe=0):Ze=0);let rt,gt,ut,Ct,Pt,Tt,Jt,gn,Kn;const Nn=q.isCompressedTexture?q.mipmaps[Ze]:q.image;if(xe!==null)rt=xe.max.x-xe.min.x,gt=xe.max.y-xe.min.y,ut=xe.isBox3?xe.max.z-xe.min.z:1,Ct=xe.min.x,Pt=xe.min.y,Tt=xe.isBox3?xe.min.z:0;else{const $i=Math.pow(2,-fe);rt=Math.floor(Nn.width*$i),gt=Math.floor(Nn.height*$i),q.isDataArrayTexture?ut=Nn.depth:q.isData3DTexture?ut=Math.floor(Nn.depth*$i):ut=1,Ct=0,Pt=0,Tt=0}Ee!==null?(Jt=Ee.x,gn=Ee.y,Kn=Ee.z):(Jt=0,gn=0,Kn=0);const Kt=bt.convert(le.format),Rt=bt.convert(le.type);let Zn;le.isData3DTexture?(Qe.setTexture3D(le,0),Zn=J.TEXTURE_3D):le.isDataArrayTexture||le.isCompressedArrayTexture?(Qe.setTexture2DArray(le,0),Zn=J.TEXTURE_2D_ARRAY):(Qe.setTexture2D(le,0),Zn=J.TEXTURE_2D),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,le.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,le.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,le.unpackAlignment);const on=J.getParameter(J.UNPACK_ROW_LENGTH),Qi=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Ia=J.getParameter(J.UNPACK_SKIP_PIXELS),Ji=J.getParameter(J.UNPACK_SKIP_ROWS),Oi=J.getParameter(J.UNPACK_SKIP_IMAGES);J.pixelStorei(J.UNPACK_ROW_LENGTH,Nn.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Nn.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Ct),J.pixelStorei(J.UNPACK_SKIP_ROWS,Pt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Tt);const Pn=q.isDataArrayTexture||q.isData3DTexture,mr=le.isDataArrayTexture||le.isData3DTexture;if(q.isDepthTexture){const $i=We.get(q),ii=We.get(le),er=We.get($i.__renderTarget),tu=We.get(ii.__renderTarget);we.bindFramebuffer(J.READ_FRAMEBUFFER,er.__webglFramebuffer),we.bindFramebuffer(J.DRAW_FRAMEBUFFER,tu.__webglFramebuffer);for(let Pi=0;Pi<ut;Pi++)Pn&&(J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,We.get(q).__webglTexture,fe,Tt+Pi),J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,We.get(le).__webglTexture,Ze,Kn+Pi)),J.blitFramebuffer(Ct,Pt,rt,gt,Jt,gn,rt,gt,J.DEPTH_BUFFER_BIT,J.NEAREST);we.bindFramebuffer(J.READ_FRAMEBUFFER,null),we.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else if(fe!==0||q.isRenderTargetTexture||We.has(q)){const $i=We.get(q),ii=We.get(le);we.bindFramebuffer(J.READ_FRAMEBUFFER,ic),we.bindFramebuffer(J.DRAW_FRAMEBUFFER,rc);for(let er=0;er<ut;er++)Pn?J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,$i.__webglTexture,fe,Tt+er):J.framebufferTexture2D(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,$i.__webglTexture,fe),mr?J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,ii.__webglTexture,Ze,Kn+er):J.framebufferTexture2D(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,ii.__webglTexture,Ze),fe!==0?J.blitFramebuffer(Ct,Pt,rt,gt,Jt,gn,rt,gt,J.COLOR_BUFFER_BIT,J.NEAREST):mr?J.copyTexSubImage3D(Zn,Ze,Jt,gn,Kn+er,Ct,Pt,rt,gt):J.copyTexSubImage2D(Zn,Ze,Jt,gn,Ct,Pt,rt,gt);we.bindFramebuffer(J.READ_FRAMEBUFFER,null),we.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else mr?q.isDataTexture||q.isData3DTexture?J.texSubImage3D(Zn,Ze,Jt,gn,Kn,rt,gt,ut,Kt,Rt,Nn.data):le.isCompressedArrayTexture?J.compressedTexSubImage3D(Zn,Ze,Jt,gn,Kn,rt,gt,ut,Kt,Nn.data):J.texSubImage3D(Zn,Ze,Jt,gn,Kn,rt,gt,ut,Kt,Rt,Nn):q.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,Ze,Jt,gn,rt,gt,Kt,Rt,Nn.data):q.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,Ze,Jt,gn,Nn.width,Nn.height,Kt,Nn.data):J.texSubImage2D(J.TEXTURE_2D,Ze,Jt,gn,rt,gt,Kt,Rt,Nn);J.pixelStorei(J.UNPACK_ROW_LENGTH,on),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Qi),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Ia),J.pixelStorei(J.UNPACK_SKIP_ROWS,Ji),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Oi),Ze===0&&le.generateMipmaps&&J.generateMipmap(Zn),we.unbindTexture()},this.initRenderTarget=function(q){We.get(q).__webglFramebuffer===void 0&&Qe.setupRenderTarget(q)},this.initTexture=function(q){q.isCubeTexture?Qe.setTextureCube(q,0):q.isData3DTexture?Qe.setTexture3D(q,0):q.isDataArrayTexture||q.isCompressedArrayTexture?Qe.setTexture2DArray(q,0):Qe.setTexture2D(q,0),we.unbindTexture()},this.resetState=function(){L=0,V=0,F=null,we.reset(),st.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return As}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=xn._getDrawingBufferColorSpace(e),n.unpackColorSpace=xn._getUnpackColorSpace()}}const b$=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:G2,AddEquation:lf,AddOperation:Pz,AdditiveAnimationBlendMode:$2,AdditiveBlending:pw,AgXToneMapping:zz,AlphaFormat:Z2,AlwaysCompare:$z,AlwaysDepth:T_,AlwaysStencilFunc:yw,AmbientLight:W4,AnimationAction:n5,AnimationClip:C0,AnimationLoader:DW,AnimationMixer:aY,AnimationObjectGroup:iY,AnimationUtils:AW,ArcCurve:y4,ArrayCamera:$4,ArrowHelper:NY,AttachedBindMode:vw,Audio:e5,AudioAnalyser:WW,AudioContext:EC,AudioListener:GW,AudioLoader:FW,AxesHelper:OY,BackSide:Oa,BasicDepthPacking:Gz,BasicShadowMap:dz,BatchedMesh:d4,Bone:oC,BooleanKeyframeTrack:Sd,Box2:mY,Box3:aa,Box3Helper:RY,BoxGeometry:_d,BoxHelper:CY,BufferAttribute:Yn,BufferGeometry:rn,BufferGeometryLoader:J4,ByteType:X2,Cache:Fl,Camera:o1,CameraHelper:wY,CanvasTexture:KX,CapsuleGeometry:m1,CatmullRomCurve3:x4,CineonToneMapping:Iz,CircleGeometry:g1,ClampToEdgeWrapping:ro,Clock:TC,Color:vt,ColorKeyframeTrack:_C,ColorManagement:xn,CompressedArrayTexture:WX,CompressedCubeTexture:YX,CompressedTexture:p1,CompressedTextureLoader:NW,ConeGeometry:ey,ConstantAlphaFactor:Dz,ConstantColorFactor:Cz,Controls:UY,CubeCamera:s4,CubeReflectionMapping:Gu,CubeRefractionMapping:vf,CubeTexture:J0,CubeTextureLoader:OW,CubeUVReflectionMapping:Hm,CubicBezierCurve:fC,CubicBezierCurve3:b4,CubicInterpolant:V4,CullFaceBack:dw,CullFaceFront:hz,CullFaceFrontBack:iq,CullFaceNone:fz,Curve:$o,CurvePath:S4,CustomBlending:pz,CustomToneMapping:Bz,CylinderGeometry:$0,Cylindrical:pY,Data3DTexture:s1,DataArrayTexture:a1,DataTexture:Yl,DataTextureLoader:PW,DataUtils:yX,DecrementStencilOp:vq,DecrementWrapStencilOp:xq,DefaultLoadingManager:j4,DepthFormat:bm,DepthStencilFormat:_m,DepthTexture:lC,DetachedBindMode:Hz,DirectionalLight:X4,DirectionalLightHelper:AY,DiscreteInterpolant:H4,DodecahedronGeometry:v1,DoubleSide:Bl,DstAlphaFactor:Mz,DstColorFactor:Tz,DynamicCopyUsage:Pq,DynamicDrawUsage:rd,DynamicReadUsage:Dq,EdgesGeometry:v4,EllipseCurve:y1,EqualCompare:Kz,EqualDepth:w_,EqualStencilFunc:Mq,EquirectangularReflectionMapping:d0,EquirectangularRefractionMapping:p0,Euler:Ds,EventDispatcher:Jl,ExternalTexture:uC,ExtrudeGeometry:x1,FileLoader:Xu,Float16BufferAttribute:TX,Float32BufferAttribute:Et,FloatType:is,Fog:u1,FogExp2:l1,FramebufferTexture:XX,FrontSide:ku,Frustum:km,FrustumArray:h1,GLBufferAttribute:cY,GLSL1:Lq,GLSL3:xw,GreaterCompare:Zz,GreaterDepth:R_,GreaterEqualCompare:Jz,GreaterEqualDepth:C_,GreaterEqualStencilFunc:wq,GreaterStencilFunc:Tq,GridHelper:EY,Group:om,HalfFloatType:Fm,HemisphereLight:k4,HemisphereLightHelper:MY,IcosahedronGeometry:b1,ImageBitmapLoader:HW,ImageLoader:R0,ImageUtils:n4,IncrementStencilOp:gq,IncrementWrapStencilOp:yq,InstancedBufferAttribute:Am,InstancedBufferGeometry:Q4,InstancedInterleavedBuffer:uY,InstancedMesh:h4,Int16BufferAttribute:MX,Int32BufferAttribute:EX,Int8BufferAttribute:bX,IntType:JS,InterleavedBuffer:c1,InterleavedBufferAttribute:hd,Interpolant:iy,InterpolateDiscrete:v0,InterpolateLinear:aS,InterpolateSmooth:f_,InterpolationSamplingMode:zq,InterpolationSamplingType:Bq,InvertStencilOp:bq,KeepStencilOp:jh,KeyframeTrack:co,LOD:c4,LatheGeometry:_1,Layers:Em,LessCompare:Yz,LessDepth:A_,LessEqualCompare:eC,LessEqualDepth:fd,LessEqualStencilFunc:Eq,LessStencilFunc:Sq,Light:Ef,LightProbe:Z4,Line:xf,Line3:yY,LineBasicMaterial:Pa,LineCurve:hC,LineCurve3:_4,LineDashedMaterial:I4,LineLoop:p4,LineSegments:$l,LinearFilter:ur,LinearInterpolant:bC,LinearMipMapLinearFilter:oq,LinearMipMapNearestFilter:sq,LinearMipmapLinearFilter:Hl,LinearMipmapNearestFilter:Qv,LinearSRGBColorSpace:yf,LinearToneMapping:Uz,LinearTransfer:x0,Loader:os,LoaderUtils:Ew,LoadingManager:SC,LoopOnce:Fz,LoopPingPong:kz,LoopRepeat:jz,MOUSE:tq,Material:oa,MaterialLoader:C1,MathUtils:tX,Matrix2:RC,Matrix3:en,Matrix4:Gt,MaxEquation:yz,Mesh:Ki,MeshBasicMaterial:Sf,MeshDepthMaterial:vC,MeshDistanceMaterial:yC,MeshLambertMaterial:U4,MeshMatcapMaterial:L4,MeshNormalMaterial:P4,MeshPhongMaterial:N4,MeshPhysicalMaterial:D4,MeshStandardMaterial:gC,MeshToonMaterial:O4,MinEquation:vz,MirroredRepeatWrapping:g0,MixOperation:Oz,MultiplyBlending:gw,MultiplyOperation:Z0,NearestFilter:Vr,NearestMipMapLinearFilter:aq,NearestMipMapNearestFilter:rq,NearestMipmapLinearFilter:am,NearestMipmapNearestFilter:q2,NeutralToneMapping:Vz,NeverCompare:Wz,NeverDepth:E_,NeverStencilFunc:_q,NoBlending:Bu,NoColorSpace:Ou,NoToneMapping:Wl,NormalAnimationBlendMode:r1,NormalBlending:id,NotEqualCompare:Qz,NotEqualDepth:D_,NotEqualStencilFunc:Aq,NumberKeyframeTrack:A0,Object3D:En,ObjectLoader:zW,ObjectSpaceNormalMap:Xz,OctahedronGeometry:ty,OneFactor:bz,OneMinusConstantAlphaFactor:Nz,OneMinusConstantColorFactor:Rz,OneMinusDstAlphaFactor:Ez,OneMinusDstColorFactor:Az,OneMinusSrcAlphaFactor:M_,OneMinusSrcColorFactor:Sz,OrthographicCamera:ay,PCFShadowMap:ZS,PCFSoftShadowMap:Zv,PMREMGenerator:ww,Path:uS,PerspectiveCamera:Mr,Plane:af,PlaneGeometry:Gm,PlaneHelper:DY,PointLight:q4,PointLightHelper:_Y,Points:m4,PointsMaterial:d1,PolarGridHelper:TY,PolyhedronGeometry:Mf,PositionalAudio:XW,PropertyBinding:Sn,PropertyMixer:t5,QuadraticBezierCurve:dC,QuadraticBezierCurve3:pC,Quaternion:as,QuaternionKeyframeTrack:ry,QuaternionLinearInterpolant:F4,RED_GREEN_RGTC2_Format:iS,RED_RGTC1_Format:tS,REVISION:K0,RGBADepthPacking:qz,RGBAFormat:ra,RGBAIntegerFormat:i1,RGBA_ASTC_10x10_Format:K_,RGBA_ASTC_10x5_Format:X_,RGBA_ASTC_10x6_Format:W_,RGBA_ASTC_10x8_Format:Y_,RGBA_ASTC_12x10_Format:Z_,RGBA_ASTC_12x12_Format:Q_,RGBA_ASTC_4x4_Format:z_,RGBA_ASTC_5x4_Format:V_,RGBA_ASTC_5x5_Format:H_,RGBA_ASTC_6x5_Format:F_,RGBA_ASTC_6x6_Format:j_,RGBA_ASTC_8x5_Format:k_,RGBA_ASTC_8x6_Format:G_,RGBA_ASTC_8x8_Format:q_,RGBA_BPTC_Format:J_,RGBA_ETC2_EAC_Format:B_,RGBA_PVRTC_2BPPV1_Format:U_,RGBA_PVRTC_4BPPV1_Format:P_,RGBA_S3TC_DXT1_Format:$v,RGBA_S3TC_DXT3_Format:e0,RGBA_S3TC_DXT5_Format:t0,RGBDepthPacking:hq,RGBFormat:Q2,RGBIntegerFormat:lq,RGB_BPTC_SIGNED_Format:$_,RGB_BPTC_UNSIGNED_Format:eS,RGB_ETC1_Format:L_,RGB_ETC2_Format:I_,RGB_PVRTC_2BPPV1_Format:O_,RGB_PVRTC_4BPPV1_Format:N_,RGB_S3TC_DXT1_Format:Jv,RGDepthPacking:dq,RGFormat:J2,RGIntegerFormat:n1,RawShaderMaterial:R4,Ray:jm,Raycaster:i5,RectAreaLight:Y4,RedFormat:t1,RedIntegerFormat:Q0,ReinhardToneMapping:Lz,RenderTarget:nC,RenderTarget3D:sY,RepeatWrapping:m0,ReplaceStencilOp:mq,ReverseSubtractEquation:gz,RingGeometry:S1,SIGNED_RED_GREEN_RGTC2_Format:rS,SIGNED_RED_RGTC1_Format:nS,SRGBColorSpace:na,SRGBTransfer:Hn,Scene:aC,ShaderChunk:sn,ShaderLib:ko,ShaderMaterial:Ko,ShadowMaterial:C4,Shape:sd,ShapeGeometry:M1,ShapePath:PY,ShapeUtils:Wo,ShortType:W2,Skeleton:f1,SkeletonHelper:bY,SkinnedMesh:f4,Source:ff,Sphere:Hr,SphereGeometry:ny,Spherical:dY,SphericalHarmonics3:K4,SplineCurve:mC,SpotLight:G4,SpotLightHelper:xY,Sprite:u4,SpriteMaterial:sC,SrcAlphaFactor:S_,SrcAlphaSaturateFactor:wz,SrcColorFactor:_z,StaticCopyUsage:Oq,StaticDrawUsage:b0,StaticReadUsage:Rq,StereoCamera:jW,StreamCopyUsage:Uq,StreamDrawUsage:Cq,StreamReadUsage:Nq,StringKeyframeTrack:Md,SubtractEquation:mz,SubtractiveBlending:mw,TOUCH:nq,TangentSpaceNormalMap:_f,TetrahedronGeometry:E1,Texture:Ni,TextureLoader:UW,TextureUtils:VY,Timer:fY,TimestampQuery:Iq,TorusGeometry:T1,TorusKnotGeometry:A1,Triangle:ts,TriangleFanDrawMode:fq,TriangleStripDrawMode:cq,TrianglesDrawMode:uq,TubeGeometry:w1,UVMapping:QS,Uint16BufferAttribute:iC,Uint32BufferAttribute:rC,Uint8BufferAttribute:_X,Uint8ClampedBufferAttribute:SX,Uniform:CC,UniformsGroup:lY,UniformsLib:ht,UniformsUtils:a4,UnsignedByteType:oo,UnsignedInt101111Type:K2,UnsignedInt248Type:xm,UnsignedInt5999Type:Y2,UnsignedIntType:qu,UnsignedShort4444Type:$S,UnsignedShort5551Type:e1,UnsignedShortType:ym,VSMShadowMap:jo,Vector2:Ge,Vector3:Z,Vector4:Mn,VectorKeyframeTrack:w0,VideoFrameTexture:qX,VideoTexture:g4,WebGL3DRenderTarget:lX,WebGLArrayRenderTarget:oX,WebGLCoordinateSystem:As,WebGLCubeRenderTarget:o4,WebGLRenderTarget:Zl,WebGLRenderer:f5,WebGLUtils:c5,WebGPUCoordinateSystem:Sm,WebXRController:h_,WireframeGeometry:w4,WrapAroundEnding:y0,ZeroCurvatureEnding:Kh,ZeroFactor:xz,ZeroSlopeEnding:Zh,ZeroStencilOp:pq,createCanvasElement:t4},Symbol.toStringTag,{value:"Module"}));var sT={exports:{}},oT={},lT={exports:{}},uT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO;function _$(){if(GO)return uT;GO=1;var t=bd();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,r=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function u(g,y){var b=y(),_=i({inst:{value:b,getSnapshot:y}}),A=_[0].inst,T=_[1];return a(function(){A.value=b,A.getSnapshot=y,f(A)&&T({inst:A})},[g,b,y]),r(function(){return f(A)&&T({inst:A}),g(function(){f(A)&&T({inst:A})})},[g]),o(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function d(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return uT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,uT}var qO;function S$(){return qO||(qO=1,lT.exports=_$()),lT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO;function M$(){if(XO)return oT;XO=1;var t=bd(),e=S$();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var i=typeof Object.is=="function"?Object.is:n,r=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,u=t.useMemo,f=t.useDebugValue;return oT.useSyncExternalStoreWithSelector=function(d,m,g,y,b){var _=a(null);if(_.current===null){var A={hasValue:!1,value:null};_.current=A}else A=_.current;_=u(function(){function M(L){if(!R){if(R=!0,D=L,L=y(L),b!==void 0&&A.hasValue){var V=A.value;if(b(V,L))return N=V}return N=L}if(V=N,i(D,L))return V;var F=y(L);return b!==void 0&&b(V,F)?(D=L,V):(D=L,N=F)}var R=!1,D,N,U=g===void 0?null:g;return[function(){return M(m())},U===null?void 0:function(){return M(U())}]},[m,g,y,b]);var T=r(d,_[0],_[1]);return o(function(){A.hasValue=!0,A.value=T},[T]),f(T),T},oT}var WO;function E$(){return WO||(WO=1,sT.exports=M$()),sT.exports}var h5=E$();const T$=Jo(h5),YO=t=>{let e;const n=new Set,i=(d,m)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(b=>b(e,y))}},r=()=>e,u={setState:i,getState:r,getInitialState:()=>f,subscribe:d=>(n.add(d),()=>n.delete(d))},f=e=t(i,r,u);return u},A$=(t=>t?YO(t):YO),{useSyncExternalStoreWithSelector:w$}=T$,C$=t=>t;function R$(t,e=C$,n){const i=w$(t.subscribe,t.getState,t.getInitialState,e,n);return wI.useDebugValue(i),i}const KO=(t,e)=>{const n=A$(t),i=(r,a=e)=>R$(n,r,a);return Object.assign(i,n),i},D$=((t,e)=>t?KO(t,e):KO);var cT={exports:{}},fT={exports:{}},hT={exports:{}},dT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO;function N$(){return ZO||(ZO=1,(function(t){function e(X,Q){var $=X.length;X.push(Q);e:for(;0<$;){var me=$-1>>>1,Y=X[me];if(0<r(Y,Q))X[me]=Q,X[$]=Y,$=me;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var Q=X[0],$=X.pop();if($!==Q){X[0]=$;e:for(var me=0,Y=X.length,re=Y>>>1;me<re;){var he=2*(me+1)-1,Pe=X[he],je=he+1,ot=X[je];if(0>r(Pe,$))je<Y&&0>r(ot,Pe)?(X[me]=ot,X[je]=$,me=je):(X[me]=Pe,X[he]=$,me=he);else if(je<Y&&0>r(ot,$))X[me]=ot,X[je]=$,me=je;else break e}}return Q}function r(X,Q){var $=X.sortIndex-Q.sortIndex;return $!==0?$:X.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],d=[],m=1,g=null,y=3,b=!1,_=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(X){for(var Q=n(d);Q!==null;){if(Q.callback===null)i(d);else if(Q.startTime<=X)i(d),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=n(d)}}function N(X){if(A=!1,D(X),!_)if(n(f)!==null)_=!0,pe();else{var Q=n(d);Q!==null&&ue(N,Q.startTime-X)}}var U=!1,L=-1,V=5,F=-1;function B(){return!(t.unstable_now()-F<V)}function z(){if(U){var X=t.unstable_now();F=X;var Q=!0;try{e:{_=!1,A&&(A=!1,M(L),L=-1),b=!0;var $=y;try{t:{for(D(X),g=n(f);g!==null&&!(g.expirationTime>X&&B());){var me=g.callback;if(typeof me=="function"){g.callback=null,y=g.priorityLevel;var Y=me(g.expirationTime<=X);if(X=t.unstable_now(),typeof Y=="function"){g.callback=Y,D(X),Q=!0;break t}g===n(f)&&i(f),D(X)}else i(f);g=n(f)}if(g!==null)Q=!0;else{var re=n(d);re!==null&&ue(N,re.startTime-X),Q=!1}}break e}finally{g=null,y=$,b=!1}Q=void 0}}finally{Q?G():U=!1}}}var G;if(typeof R=="function")G=function(){R(z)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ie=ee.port2;ee.port1.onmessage=z,G=function(){ie.postMessage(null)}}else G=function(){T(z,0)};function pe(){U||(U=!0,G())}function ue(X,Q){L=T(function(){X(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){_||b||(_=!0,pe())},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(X){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var $=y;y=Q;try{return X()}finally{y=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,Q){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var $=y;y=X;try{return Q()}finally{y=$}},t.unstable_scheduleCallback=function(X,Q,$){var me=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?me+$:me):$=me,X){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,X={id:m++,callback:Q,priorityLevel:X,startTime:$,expirationTime:Y,sortIndex:-1},$>me?(X.sortIndex=$,e(d,X),n(f)===null&&X===n(d)&&(A?(M(L),L=-1):A=!0,ue(N,$-me))):(X.sortIndex=Y,e(f,X),_||b||(_=!0,pe())),X},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(X){var Q=y;return function(){var $=y;y=Q;try{return X.apply(this,arguments)}finally{y=$}}}})(dT)),dT}var QO;function d5(){return QO||(QO=1,hT.exports=N$()),hT.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function O$(){return JO||(JO=1,(function(t){t.exports=function(e){function n(c,h,x,E){return new Ug(c,h,x,E)}function i(){}function r(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return c===null||typeof c!="object"?null:(c=Ao&&c[Ao]||c["@@iterator"],typeof c=="function"?c:null)}function o(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===zg?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case gl:return"Fragment";case Ha:return"Portal";case Zd:return"Profiler";case sh:return"StrictMode";case Qd:return"Suspense";case Ec:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case ds:return(c.displayName||"Context")+".Provider";case Ig:return(c._context.displayName||"Context")+".Consumer";case lh:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Jd:return h=c.displayName||null,h!==null?h:o(c.type)||"Memo";case Fa:h=c._payload,c=c._init;try{return o(c(h))}catch{}}return null}function u(c){if(zs===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);zs=h&&h[1]||"",wo=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+c+wo}function f(c,h){if(!c||su)return"";su=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(h){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Yt){var pt=Yt}Reflect.construct(c,[],ft)}else{try{ft.call()}catch(Yt){pt=Yt}c.call(ft.prototype)}}else{try{throw Error()}catch(Yt){pt=Yt}(ft=c())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Yt){if(Yt&&pt&&typeof Yt.stack=="string")return[Yt.stack,pt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=E.DetermineComponentFrameRoot(),W=O[0],ne=O[1];if(W&&ne){var de=W.split(`
`),Ie=ne.split(`
`);for(C=E=0;E<de.length&&!de[E].includes("DetermineComponentFrameRoot");)E++;for(;C<Ie.length&&!Ie[C].includes("DetermineComponentFrameRoot");)C++;if(E===de.length||C===Ie.length)for(E=de.length-1,C=Ie.length-1;1<=E&&0<=C&&de[E]!==Ie[C];)C--;for(;1<=E&&0<=C;E--,C--)if(de[E]!==Ie[C]){if(E!==1||C!==1)do if(E--,C--,0>C||de[E]!==Ie[C]){var et=`
`+de[E].replace(" at new "," at ");return c.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",c.displayName)),et}while(1<=E&&0<=C);break}}}finally{su=!1,Error.prepareStackTrace=x}return(x=c?c.displayName||c.name:"")?u(x):""}function d(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=f(c.type,!1),c;case 11:return c=f(c.type.render,!1),c;case 1:return c=f(c.type,!0),c;default:return""}}function m(c){try{var h="";do h+=d(c),c=c.return;while(c);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function g(c){var h=c,x=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(x=h.return),c=h.return;while(c)}return h.tag===3?x:null}function y(c){if(g(c)!==c)throw Error(r(188))}function b(c){var h=c.alternate;if(!h){if(h=g(c),h===null)throw Error(r(188));return h!==c?null:c}for(var x=c,E=h;;){var C=x.return;if(C===null)break;var O=C.alternate;if(O===null){if(E=C.return,E!==null){x=E;continue}break}if(C.child===O.child){for(O=C.child;O;){if(O===x)return y(C),c;if(O===E)return y(C),h;O=O.sibling}throw Error(r(188))}if(x.return!==E.return)x=C,E=O;else{for(var W=!1,ne=C.child;ne;){if(ne===x){W=!0,x=C,E=O;break}if(ne===E){W=!0,E=C,x=O;break}ne=ne.sibling}if(!W){for(ne=O.child;ne;){if(ne===x){W=!0,x=O,E=C;break}if(ne===E){W=!0,E=O,x=C;break}ne=ne.sibling}if(!W)throw Error(r(189))}}if(x.alternate!==E)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?c:h}function _(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=_(c),h!==null)return h;c=c.sibling}return null}function A(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(h=A(c),h!==null))return h;c=c.sibling}return null}function T(c){return{current:c}}function M(c){0>No||(c.current=gi[No],gi[No]=null,No--)}function R(c,h){No++,gi[No]=c.current,c.current=h}function D(c){return c>>>=0,c===0?32:31-(Cx(c)/Rx|0)|0}function N(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function U(c,h){var x=c.pendingLanes;if(x===0)return 0;var E=0,C=c.suspendedLanes,O=c.pingedLanes,W=c.warmLanes;c=c.finishedLanes!==0;var ne=x&134217727;return ne!==0?(x=ne&~C,x!==0?E=N(x):(O&=ne,O!==0?E=N(O):c||(W=ne&~W,W!==0&&(E=N(W))))):(ne=x&~C,ne!==0?E=N(ne):O!==0?E=N(O):c||(W=x&~W,W!==0&&(E=N(W)))),E===0?0:h!==0&&h!==E&&(h&C)===0&&(C=E&-E,W=h&-h,C>=W||C===32&&(W&4194176)!==0)?h:E}function L(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function V(c,h){switch(c){case 1:case 2:case 4:case 8:return h+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var c=Hs;return Hs<<=1,(Hs&4194176)===0&&(Hs=128),c}function B(){var c=uu;return uu<<=1,(uu&62914560)===0&&(uu=4194304),c}function z(c){for(var h=[],x=0;31>x;x++)h.push(c);return h}function G(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ee(c,h,x,E,C,O){var W=c.pendingLanes;c.pendingLanes=x,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=x,c.entangledLanes&=x,c.errorRecoveryDisabledLanes&=x,c.shellSuspendCounter=0;var ne=c.entanglements,de=c.expirationTimes,Ie=c.hiddenUpdates;for(x=W&~x;0<x;){var et=31-Dr(x),ft=1<<et;ne[et]=0,de[et]=-1;var pt=Ie[et];if(pt!==null)for(Ie[et]=null,et=0;et<pt.length;et++){var Yt=pt[et];Yt!==null&&(Yt.lane&=-536870913)}x&=~ft}E!==0&&ie(c,E,0),O!==0&&C===0&&c.tag!==0&&(c.suspendedLanes|=O&~(W&~h))}function ie(c,h,x){c.pendingLanes|=h,c.suspendedLanes&=~h;var E=31-Dr(h);c.entangledLanes|=h,c.entanglements[E]=c.entanglements[E]|1073741824|x&4194218}function pe(c,h){var x=c.entangledLanes|=h;for(c=c.entanglements;x;){var E=31-Dr(x),C=1<<E;C&h|c[E]&h&&(c[E]|=h),x&=~C}}function ue(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function X(c){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(vi,c,void 0,(c.current.flags&128)===128)}catch{}}function Q(c){if(typeof Ox=="function"&&Gi(c),Zr&&typeof Zr.setStrictMode=="function")try{Zr.setStrictMode(vi,c)}catch{}}function $(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}function me(c,h){if(typeof c=="object"&&c!==null){var x=iv.get(c);return x!==void 0?x:(h={value:c,source:h,stack:m(h)},iv.set(c,h),h)}return{value:c,source:h,stack:m(h)}}function Y(c,h){cu[fu++]=Pc,cu[fu++]=hu,hu=c,Pc=h}function re(c,h,x){ga[va++]=gs,ga[va++]=vs,ga[va++]=Ml,Ml=c;var E=gs;c=vs;var C=32-Dr(E)-1;E&=~(1<<C),x+=1;var O=32-Dr(h)+C;if(30<O){var W=C-C%5;O=(E&(1<<W)-1).toString(32),E>>=W,C-=W,gs=1<<32-Dr(h)+C|x<<C|E,vs=O+c}else gs=1<<O|x<<C|E,vs=c}function he(c){c.return!==null&&(Y(c,1),re(c,1,0))}function Pe(c){for(;c===hu;)hu=cu[--fu],cu[fu]=null,Pc=cu[--fu],cu[fu]=null;for(;c===Ml;)Ml=ga[--va],ga[va]=null,vs=ga[--va],ga[va]=null,gs=ga[--va],ga[va]=null}function je(c,h){R(Fs,h),R(Uc,c),R(Li,null),c=Wy(h),M(Li),R(Li,c)}function ot(){M(Li),M(Uc),M(Fs)}function ve(c){c.memoizedState!==null&&R(du,c);var h=Li.current,x=Cc(h,c.type);h!==x&&(R(Uc,c),R(Li,x))}function ze(c){Uc.current===c&&(M(Li),M(Uc)),du.current===c&&(M(du),Cr?ps._currentValue=yl:ps._currentValue2=yl)}function Ye(c){var h=Error(r(418,""));throw J(me(h,c)),vh}function Oe(c,h){if(!sr)throw Error(r(175));yx(c.stateNode,c.type,c.memoizedProps,h,c)||Ye(c)}function Xe(c){for(or=c.return;or;)switch(or.tag){case 3:case 27:qi=!0;return;case 5:case 13:qi=!1;return;default:or=or.return}}function lt(c){if(!sr||c!==or)return!1;if(!mn)return Xe(c),mn=!0,!1;var h=!1;if(In?c.tag!==3&&c.tag!==27&&(c.tag!==5||op(c.type)&&!Qt(c.type,c.memoizedProps))&&(h=!0):c.tag!==3&&(c.tag!==5||op(c.type)&&!Qt(c.type,c.memoizedProps))&&(h=!0),h&&lr&&Ye(c),Xe(c),c.tag===13){if(!sr)throw Error(r(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));lr=bx(c)}else lr=or?$g(c.stateNode):null;return!0}function Le(){sr&&(lr=or=null,mn=!1)}function J(c){Ga===null?Ga=[c]:Ga.push(c)}function De(){for(var c=pu,h=ys=pu=0;h<c;){var x=qa[h];qa[h++]=null;var E=qa[h];qa[h++]=null;var C=qa[h];qa[h++]=null;var O=qa[h];if(qa[h++]=null,E!==null&&C!==null){var W=E.pending;W===null?C.next=C:(C.next=W.next,W.next=C),E.pending=C}O!==0&&tt(x,C,O)}}function Ue(c,h,x,E){qa[pu++]=c,qa[pu++]=h,qa[pu++]=x,qa[pu++]=E,ys|=E,c.lanes|=E,c=c.alternate,c!==null&&(c.lanes|=E)}function Ne(c,h,x,E){return Ue(c,h,x,E),We(c)}function we(c,h){return Ue(c,null,null,h),We(c)}function tt(c,h,x){c.lanes|=x;var E=c.alternate;E!==null&&(E.lanes|=x);for(var C=!1,O=c.return;O!==null;)O.childLanes|=x,E=O.alternate,E!==null&&(E.childLanes|=x),O.tag===22&&(c=O.stateNode,c===null||c._visibility&1||(C=!0)),c=O,O=O.return;C&&h!==null&&c.tag===3&&(O=c.stateNode,C=31-Dr(x),O=O.hiddenUpdates,c=O[C],c===null?O[C]=[h]:c.push(h),h.lane=x|536870912)}function We(c){if(50<kc)throw kc=0,Sp=null,Error(r(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}function Qe(c){c!==Oo&&c.next===null&&(Oo===null?yh=Oo=c:Oo=Oo.next=c),kn=!0,mu||(mu=!0,Ce(Vt))}function Nt(c,h){if(!rv&&kn){rv=!0;do for(var x=!1,E=yh;E!==null;){if(c!==0){var C=E.pendingLanes;if(C===0)var O=0;else{var W=E.suspendedLanes,ne=E.pingedLanes;O=(1<<31-Dr(42|c)+1)-1,O&=C&~(W&~ne),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(x=!0,ge(E,O))}else O=fn,O=U(E,E===wn?O:0),(O&3)===0||L(E,O)||(x=!0,ge(E,O));E=E.next}while(x);rv=!1}}function Vt(){kn=mu=!1;var c=0;Lc!==0&&(Qy()&&(c=Lc),Lc=0);for(var h=ka(),x=null,E=yh;E!==null;){var C=E.next,O=K(E,h);O===0?(E.next=null,x===null?yh=C:x.next=C,C===null&&(Oo=x)):(x=E,(c!==0||(O&3)!==0)&&(kn=!0)),E=C}Nt(c)}function K(c,h){for(var x=c.suspendedLanes,E=c.pingedLanes,C=c.expirationTimes,O=c.pendingLanes&-62914561;0<O;){var W=31-Dr(O),ne=1<<W,de=C[W];de===-1?((ne&x)===0||(ne&E)!==0)&&(C[W]=V(ne,h)):de<=h&&(c.expiredLanes|=ne),O&=~ne}if(h=wn,x=fn,x=U(c,c===h?x:0),E=c.callbackNode,x===0||c===h&&Un===2||c.cancelPendingCommit!==null)return E!==null&&E!==null&&fp(E),c.callbackNode=null,c.callbackPriority=0;if((x&3)===0||L(c,x)){if(h=x&-x,h===c.callbackPriority)return h;switch(E!==null&&fp(E),ue(x)){case 2:case 8:x=Nx;break;case 32:x=pp;break;case 268435456:x=_M;break;default:x=pp}return E=j.bind(null,c),x=gh(x,E),c.callbackPriority=h,c.callbackNode=x,h}return E!==null&&E!==null&&fp(E),c.callbackPriority=2,c.callbackNode=null,2}function j(c,h){var x=c.callbackNode;if(hs()&&c.callbackNode!==x)return null;var E=fn;return E=U(c,c===wn?E:0),E===0?null:(fl(c,E,h),K(c,ka()),c.callbackNode!=null&&c.callbackNode===x?j.bind(null,c):null)}function ge(c,h){if(hs())return null;fl(c,h,!0)}function Ce(c){kg?Do(function(){(yn&6)!==0?gh(dp,c):c()}):gh(dp,c)}function Ve(){return Lc===0&&(Lc=F()),Lc}function Re(c,h){if(Ic===null){var x=Ic=[];gu=0,ya=Ve(),vu={status:"pending",value:void 0,then:function(E){x.push(E)}}}return gu++,h.then(ct,ct),h}function ct(){if(--gu===0&&Ic!==null){vu!==null&&(vu.status="fulfilled");var c=Ic;Ic=null,ya=0,vu=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function nt(c,h){var x=[],E={status:"pending",value:null,reason:null,then:function(C){x.push(C)}};return c.then(function(){E.status="fulfilled",E.value=h;for(var C=0;C<x.length;C++)(0,x[C])(h)},function(C){for(E.status="rejected",E.reason=C,C=0;C<x.length;C++)(0,x[C])(void 0)}),E}function yt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xt(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function qe(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function at(c,h,x){var E=c.updateQueue;if(E===null)return null;if(E=E.shared,(yn&2)!==0){var C=E.pending;return C===null?h.next=h:(h.next=C.next,C.next=h),E.pending=h,h=We(c),tt(c,null,x),h}return Ue(c,E,h,x),We(c)}function At(c,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194176)!==0)){var E=h.lanes;E&=c.pendingLanes,x|=E,h.lanes=x,pe(c,x)}}function bt(c,h){var x=c.updateQueue,E=c.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var C=null,O=null;if(x=x.firstBaseUpdate,x!==null){do{var W={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};O===null?C=O=W:O=O.next=W,x=x.next}while(x!==null);O===null?C=O=h:O=O.next=h}else C=O=h;x={baseState:E.baseState,firstBaseUpdate:C,lastBaseUpdate:O,shared:E.shared,callbacks:E.callbacks},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=h:c.next=h,x.lastBaseUpdate=h}function st(){if(yu){var c=vu;if(c!==null)throw c}}function Ht(c,h,x,E){yu=!1;var C=c.updateQueue;Po=!1;var O=C.firstBaseUpdate,W=C.lastBaseUpdate,ne=C.shared.pending;if(ne!==null){C.shared.pending=null;var de=ne,Ie=de.next;de.next=null,W===null?O=Ie:W.next=Ie,W=de;var et=c.alternate;et!==null&&(et=et.updateQueue,ne=et.lastBaseUpdate,ne!==W&&(ne===null?et.firstBaseUpdate=Ie:ne.next=Ie,et.lastBaseUpdate=de))}if(O!==null){var ft=C.baseState;W=0,et=Ie=de=null,ne=O;do{var pt=ne.lane&-536870913,Yt=pt!==ne.lane;if(Yt?(fn&pt)===pt:(E&pt)===pt){pt!==0&&pt===ya&&(yu=!0),et!==null&&(et=et.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Aa=c,Ol=ne;pt=h;var Pl=x;switch(Ol.tag){case 1:if(Aa=Ol.payload,typeof Aa=="function"){ft=Aa.call(Pl,ft,pt);break e}ft=Aa;break e;case 3:Aa.flags=Aa.flags&-65537|128;case 0:if(Aa=Ol.payload,pt=typeof Aa=="function"?Aa.call(Pl,ft,pt):Aa,pt==null)break e;ft=Kd({},ft,pt);break e;case 2:Po=!0}}pt=ne.callback,pt!==null&&(c.flags|=64,Yt&&(c.flags|=8192),Yt=C.callbacks,Yt===null?C.callbacks=[pt]:Yt.push(pt))}else Yt={lane:pt,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},et===null?(Ie=et=Yt,de=ft):et=et.next=Yt,W|=pt;if(ne=ne.next,ne===null){if(ne=C.shared.pending,ne===null)break;Yt=ne,ne=Yt.next,Yt.next=null,C.lastBaseUpdate=Yt,C.shared.pending=null}}while(!0);et===null&&(de=ft),C.baseState=de,C.firstBaseUpdate=Ie,C.lastBaseUpdate=et,O===null&&(C.shared.lanes=0),Ea|=W,c.lanes=W,c.memoizedState=ft}}function oe(c,h){if(typeof c!="function")throw Error(r(191,c));c.call(h)}function Je(c,h){var x=c.callbacks;if(x!==null)for(c.callbacks=null,c=0;c<x.length;c++)oe(x[c],h)}function it(c,h){if(Qr(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var x=Object.keys(c),E=Object.keys(h);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var C=x[E];if(!js.call(h,C)||!Qr(c[C],h[C]))return!1}return!0}function mt(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Ke(){}function Fe(c,h,x){switch(x=c[x],x===void 0?c.push(h):x!==h&&(h.then(Ke,Ke),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,c===Bc?Error(r(483)):c;default:if(typeof h.status=="string")h.then(Ke,Ke);else{if(c=wn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=h,c.status="pending",c.then(function(E){if(h.status==="pending"){var C=h;C.status="fulfilled",C.value=E}},function(E){if(h.status==="pending"){var C=h;C.status="rejected",C.reason=E}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,c===Bc?Error(r(483)):c}throw El=h,Bc}}function _t(){if(El===null)throw Error(r(459));var c=El;return El=null,c}function Lt(c){var h=Al;return Al+=1,Tl===null&&(Tl=[]),Fe(Tl,c,h)}function pn(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function cn(c,h){throw h.$$typeof===pM?Error(r(525)):(c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function Ua(c){var h=c._init;return h(c._payload)}function Si(c){function h(_e,ae){if(c){var Te=_e.deletions;Te===null?(_e.deletions=[ae],_e.flags|=16):Te.push(ae)}}function x(_e,ae){if(!c)return null;for(;ae!==null;)h(_e,ae),ae=ae.sibling;return null}function E(_e){for(var ae=new Map;_e!==null;)_e.key!==null?ae.set(_e.key,_e):ae.set(_e.index,_e),_e=_e.sibling;return ae}function C(_e,ae){return _e=Va(_e,ae),_e.index=0,_e.sibling=null,_e}function O(_e,ae,Te){return _e.index=Te,c?(Te=_e.alternate,Te!==null?(Te=Te.index,Te<ae?(_e.flags|=33554434,ae):Te):(_e.flags|=33554434,ae)):(_e.flags|=1048576,ae)}function W(_e){return c&&_e.alternate===null&&(_e.flags|=33554434),_e}function ne(_e,ae,Te,$e){return ae===null||ae.tag!==6?(ae=Wd(Te,_e.mode,$e),ae.return=_e,ae):(ae=C(ae,Te),ae.return=_e,ae)}function de(_e,ae,Te,$e){var wt=Te.type;return wt===gl?et(_e,ae,Te.props.children,$e,Te.key):ae!==null&&(ae.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Fa&&Ua(wt)===ae.type)?(ae=C(ae,Te.props),pn(ae,Te),ae.return=_e,ae):(ae=Bs(Te.type,Te.key,Te.props,null,_e.mode,$e),pn(ae,Te),ae.return=_e,ae)}function Ie(_e,ae,Te,$e){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==Te.containerInfo||ae.stateNode.implementation!==Te.implementation?(ae=Lg(Te,_e.mode,$e),ae.return=_e,ae):(ae=C(ae,Te.children||[]),ae.return=_e,ae)}function et(_e,ae,Te,$e,wt){return ae===null||ae.tag!==7?(ae=oi(Te,_e.mode,$e,wt),ae.return=_e,ae):(ae=C(ae,Te),ae.return=_e,ae)}function ft(_e,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Wd(""+ae,_e.mode,Te),ae.return=_e,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ah:return Te=Bs(ae.type,ae.key,ae.props,null,_e.mode,Te),pn(Te,ae),Te.return=_e,Te;case Ha:return ae=Lg(ae,_e.mode,Te),ae.return=_e,ae;case Fa:var $e=ae._init;return ae=$e(ae._payload),ft(_e,ae,Te)}if(Tc(ae)||a(ae))return ae=oi(ae,_e.mode,Te,null),ae.return=_e,ae;if(typeof ae.then=="function")return ft(_e,Lt(ae),Te);if(ae.$$typeof===ds)return ft(_e,Gf(_e,ae),Te);cn(_e,ae)}return null}function pt(_e,ae,Te,$e){var wt=ae!==null?ae.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return wt!==null?null:ne(_e,ae,""+Te,$e);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case ah:return Te.key===wt?de(_e,ae,Te,$e):null;case Ha:return Te.key===wt?Ie(_e,ae,Te,$e):null;case Fa:return wt=Te._init,Te=wt(Te._payload),pt(_e,ae,Te,$e)}if(Tc(Te)||a(Te))return wt!==null?null:et(_e,ae,Te,$e,null);if(typeof Te.then=="function")return pt(_e,ae,Lt(Te),$e);if(Te.$$typeof===ds)return pt(_e,ae,Gf(_e,Te),$e);cn(_e,Te)}return null}function Yt(_e,ae,Te,$e,wt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return _e=_e.get(Te)||null,ne(ae,_e,""+$e,wt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case ah:return _e=_e.get($e.key===null?Te:$e.key)||null,de(ae,_e,$e,wt);case Ha:return _e=_e.get($e.key===null?Te:$e.key)||null,Ie(ae,_e,$e,wt);case Fa:var Jn=$e._init;return $e=Jn($e._payload),Yt(_e,ae,Te,$e,wt)}if(Tc($e)||a($e))return _e=_e.get(Te)||null,et(ae,_e,$e,wt,null);if(typeof $e.then=="function")return Yt(_e,ae,Te,Lt($e),wt);if($e.$$typeof===ds)return Yt(_e,ae,Te,Gf(ae,$e),wt);cn(ae,$e)}return null}function Aa(_e,ae,Te,$e){for(var wt=null,Jn=null,jt=ae,_n=ae=0,yi=null;jt!==null&&_n<Te.length;_n++){jt.index>_n?(yi=jt,jt=null):yi=jt.sibling;var un=pt(_e,jt,Te[_n],$e);if(un===null){jt===null&&(jt=yi);break}c&&jt&&un.alternate===null&&h(_e,jt),ae=O(un,ae,_n),Jn===null?wt=un:Jn.sibling=un,Jn=un,jt=yi}if(_n===Te.length)return x(_e,jt),mn&&Y(_e,_n),wt;if(jt===null){for(;_n<Te.length;_n++)jt=ft(_e,Te[_n],$e),jt!==null&&(ae=O(jt,ae,_n),Jn===null?wt=jt:Jn.sibling=jt,Jn=jt);return mn&&Y(_e,_n),wt}for(jt=E(jt);_n<Te.length;_n++)yi=Yt(jt,_e,_n,Te[_n],$e),yi!==null&&(c&&yi.alternate!==null&&jt.delete(yi.key===null?_n:yi.key),ae=O(yi,ae,_n),Jn===null?wt=yi:Jn.sibling=yi,Jn=yi);return c&&jt.forEach(function(Zs){return h(_e,Zs)}),mn&&Y(_e,_n),wt}function Ol(_e,ae,Te,$e){if(Te==null)throw Error(r(151));for(var wt=null,Jn=null,jt=ae,_n=ae=0,yi=null,un=Te.next();jt!==null&&!un.done;_n++,un=Te.next()){jt.index>_n?(yi=jt,jt=null):yi=jt.sibling;var Zs=pt(_e,jt,un.value,$e);if(Zs===null){jt===null&&(jt=yi);break}c&&jt&&Zs.alternate===null&&h(_e,jt),ae=O(Zs,ae,_n),Jn===null?wt=Zs:Jn.sibling=Zs,Jn=Zs,jt=yi}if(un.done)return x(_e,jt),mn&&Y(_e,_n),wt;if(jt===null){for(;!un.done;_n++,un=Te.next())un=ft(_e,un.value,$e),un!==null&&(ae=O(un,ae,_n),Jn===null?wt=un:Jn.sibling=un,Jn=un);return mn&&Y(_e,_n),wt}for(jt=E(jt);!un.done;_n++,un=Te.next())un=Yt(jt,_e,_n,un.value,$e),un!==null&&(c&&un.alternate!==null&&jt.delete(un.key===null?_n:un.key),ae=O(un,ae,_n),Jn===null?wt=un:Jn.sibling=un,Jn=un);return c&&jt.forEach(function(Mp){return h(_e,Mp)}),mn&&Y(_e,_n),wt}function Pl(_e,ae,Te,$e){if(typeof Te=="object"&&Te!==null&&Te.type===gl&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case ah:e:{for(var wt=Te.key;ae!==null;){if(ae.key===wt){if(wt=Te.type,wt===gl){if(ae.tag===7){x(_e,ae.sibling),$e=C(ae,Te.props.children),$e.return=_e,_e=$e;break e}}else if(ae.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===Fa&&Ua(wt)===ae.type){x(_e,ae.sibling),$e=C(ae,Te.props),pn($e,Te),$e.return=_e,_e=$e;break e}x(_e,ae);break}else h(_e,ae);ae=ae.sibling}Te.type===gl?($e=oi(Te.props.children,_e.mode,$e,Te.key),$e.return=_e,_e=$e):($e=Bs(Te.type,Te.key,Te.props,null,_e.mode,$e),pn($e,Te),$e.return=_e,_e=$e)}return W(_e);case Ha:e:{for(wt=Te.key;ae!==null;){if(ae.key===wt)if(ae.tag===4&&ae.stateNode.containerInfo===Te.containerInfo&&ae.stateNode.implementation===Te.implementation){x(_e,ae.sibling),$e=C(ae,Te.children||[]),$e.return=_e,_e=$e;break e}else{x(_e,ae);break}else h(_e,ae);ae=ae.sibling}$e=Lg(Te,_e.mode,$e),$e.return=_e,_e=$e}return W(_e);case Fa:return wt=Te._init,Te=wt(Te._payload),Pl(_e,ae,Te,$e)}if(Tc(Te))return Aa(_e,ae,Te,$e);if(a(Te)){if(wt=a(Te),typeof wt!="function")throw Error(r(150));return Te=wt.call(Te),Ol(_e,ae,Te,$e)}if(typeof Te.then=="function")return Pl(_e,ae,Lt(Te),$e);if(Te.$$typeof===ds)return Pl(_e,ae,Gf(_e,Te),$e);cn(_e,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ae!==null&&ae.tag===6?(x(_e,ae.sibling),$e=C(ae,Te),$e.return=_e,_e=$e):(x(_e,ae),$e=Wd(Te,_e.mode,$e),$e.return=_e,_e=$e),W(_e)):x(_e,ae)}return function(_e,ae,Te,$e){try{Al=0;var wt=Pl(_e,ae,Te,$e);return Tl=null,wt}catch(jt){if(jt===Bc)throw jt;var Jn=n(29,jt,null,_e.mode);return Jn.lanes=$e,Jn.return=_e,Jn}finally{}}}function Mi(c,h){c=xr,R(zc,c),R(Gn,h),xr=c|h.baseLanes}function ti(){R(zc,xr),R(Gn,Gn.current)}function La(){xr=zc.current,M(Gn),M(zc)}function la(c){var h=c.alternate;R(Ii,Ii.current&1),R(xa,c),Bn===null&&(h===null||Gn.current!==null||h.memoizedState!==null)&&(Bn=c)}function Of(c){if(c.tag===22){if(R(Ii,Ii.current),R(xa,c),Bn===null){var h=c.alternate;h!==null&&h.memoizedState!==null&&(Bn=c)}}else ua()}function ua(){R(Ii,Ii.current),R(xa,xa.current)}function ca(c){M(xa),Bn===c&&(Bn=null),M(Ii)}function fa(c){for(var h=c;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||rp(x)||ap(x)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function jn(){throw Error(r(321))}function cs(c,h){if(h===null)return!1;for(var x=0;x<h.length&&x<c.length;x++)if(!Qr(c[x],h[x]))return!1;return!0}function Ps(c,h,x,E,C,O){return Uo=O,tn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ft.H=c===null||c.memoizedState===null?Rl:Nr,Cl=!1,O=x(E,C),Cl=!1,xu&&(O=ho(h,x,E,C)),el(c),O}function el(c){Ft.H=li;var h=Ut!==null&&Ut.next!==null;if(Uo=0,vn=Ut=tn=null,Xa=!1,bu=0,Xi=null,h)throw Error(r(300));c===null||zn||(c=c.dependencies,c!==null&&kf(c)&&(zn=!0))}function ho(c,h,x,E){tn=c;var C=0;do{if(xu&&(Xi=null),bu=0,xu=!1,25<=C)throw Error(r(301));if(C+=1,vn=Ut=null,c.updateQueue!=null){var O=c.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}Ft.H=ba,O=h(x,E)}while(xu);return O}function Ei(){var c=Ft.H,h=c.useState()[0];return h=typeof h.then=="function"?Ee(h):h,c=c.useState()[0],(Ut!==null?Ut.memoizedState:null)!==c&&(tn.flags|=1024),h}function ic(){var c=mp!==0;return mp=0,c}function rc(c,h,x){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~x}function q(c){if(Xa){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Xa=!1}Uo=0,vn=Ut=tn=null,xu=!1,bu=mp=0,Xi=null}function le(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?tn.memoizedState=vn=c:vn=vn.next=c,vn}function xe(){if(Ut===null){var c=tn.alternate;c=c!==null?c.memoizedState:null}else c=Ut.next;var h=vn===null?tn.memoizedState:vn.next;if(h!==null)vn=h,Ut=c;else{if(c===null)throw tn.alternate===null?Error(r(467)):Error(r(310));Ut=c,c={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},vn===null?tn.memoizedState=vn=c:vn=vn.next=c}return vn}function Ee(c){var h=bu;return bu+=1,Xi===null&&(Xi=[]),c=Fe(Xi,c,h),h=tn,(vn===null?h.memoizedState:vn.next)===null&&(h=h.alternate,Ft.H=h===null||h.memoizedState===null?Rl:Nr),c}function fe(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Ee(c);if(c.$$typeof===ds)return nr(c)}throw Error(r(438,String(c)))}function Ze(c){var h=null,x=tn.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var E=tn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(h={data:E.data.map(function(C){return C.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=gp(),tn.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(c),E=0;E<c;E++)x[E]=Xy;return h.index++,x}function rt(c,h){return typeof h=="function"?h(c):h}function gt(c){var h=xe();return ut(h,Ut,c)}function ut(c,h,x){var E=c.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=x;var C=c.baseQueue,O=E.pending;if(O!==null){if(C!==null){var W=C.next;C.next=O.next,O.next=W}h.baseQueue=C=O,E.pending=null}if(O=c.baseState,C===null)c.memoizedState=O;else{h=C.next;var ne=W=null,de=null,Ie=h,et=!1;do{var ft=Ie.lane&-536870913;if(ft!==Ie.lane?(fn&ft)===ft:(Uo&ft)===ft){var pt=Ie.revertLane;if(pt===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),ft===ya&&(et=!0);else if((Uo&pt)===pt){Ie=Ie.next,pt===ya&&(et=!0);continue}else ft={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},de===null?(ne=de=ft,W=O):de=de.next=ft,tn.lanes|=pt,Ea|=pt;ft=Ie.action,Cl&&x(O,ft),O=Ie.hasEagerState?Ie.eagerState:x(O,ft)}else pt={lane:ft,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},de===null?(ne=de=pt,W=O):de=de.next=pt,tn.lanes|=ft,Ea|=ft;Ie=Ie.next}while(Ie!==null&&Ie!==h);if(de===null?W=O:de.next=ne,!Qr(O,c.memoizedState)&&(zn=!0,et&&(x=vu,x!==null)))throw x;c.memoizedState=O,c.baseState=W,c.baseQueue=de,E.lastRenderedState=O}return C===null&&(E.lanes=0),[c.memoizedState,E.dispatch]}function Ct(c){var h=xe(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var E=x.dispatch,C=x.pending,O=h.memoizedState;if(C!==null){x.pending=null;var W=C=C.next;do O=c(O,W.action),W=W.next;while(W!==C);Qr(O,h.memoizedState)||(zn=!0),h.memoizedState=O,h.baseQueue===null&&(h.baseState=O),x.lastRenderedState=O}return[O,E]}function Pt(c,h,x){var E=tn,C=xe(),O=mn;if(O){if(x===void 0)throw Error(r(407));x=x()}else x=h();var W=!Qr((Ut||C).memoizedState,x);if(W&&(C.memoizedState=x,zn=!0),C=C.queue,sg(gn.bind(null,E,C,c),[c]),C.getSnapshot!==h||W||vn!==null&&vn.memoizedState.tag&1){if(E.flags|=2048,Pi(9,Jt.bind(null,E,C,x,h),{destroy:void 0},null),wn===null)throw Error(r(349));O||(Uo&60)!==0||Tt(E,h,x)}return x}function Tt(c,h,x){c.flags|=16384,c={getSnapshot:h,value:x},h=tn.updateQueue,h===null?(h=gp(),tn.updateQueue=h,h.stores=[c]):(x=h.stores,x===null?h.stores=[c]:x.push(c))}function Jt(c,h,x,E){h.value=x,h.getSnapshot=E,Kn(h)&&Nn(c)}function gn(c,h,x){return x(function(){Kn(h)&&Nn(c)})}function Kn(c){var h=c.getSnapshot;c=c.value;try{var x=h();return!Qr(c,x)}catch{return!0}}function Nn(c){var h=we(c,2);h!==null&&ki(h,c,2)}function Kt(c){var h=le();if(typeof c=="function"){var x=c;if(c=x(),Cl){Q(!0);try{x()}finally{Q(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:c},h}function Rt(c,h,x,E){return c.baseState=x,ut(c,Ut,typeof E=="function"?E:rt)}function Zn(c,h,x,E,C){if(zf(c))throw Error(r(485));if(c=h.action,c!==null){var O={payload:C,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){O.listeners.push(W)}};Ft.T!==null?x(!0):O.isTransition=!1,E(O),x=h.pending,x===null?(O.next=h.pending=O,on(h,O)):(O.next=x.next,h.pending=x.next=O)}}function on(c,h){var x=h.action,E=h.payload,C=c.state;if(h.isTransition){var O=Ft.T,W={};Ft.T=W;try{var ne=x(C,E),de=Ft.S;de!==null&&de(W,ne),Qi(c,h,ne)}catch(Ie){Ji(c,h,Ie)}finally{Ft.T=O}}else try{O=x(C,E),Qi(c,h,O)}catch(Ie){Ji(c,h,Ie)}}function Qi(c,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(E){Ia(c,h,E)},function(E){return Ji(c,h,E)}):Ia(c,h,x)}function Ia(c,h,x){h.status="fulfilled",h.value=x,Oi(h),c.state=x,h=c.pending,h!==null&&(x=h.next,x===h?c.pending=null:(x=x.next,h.next=x,on(c,x)))}function Ji(c,h,x){var E=c.pending;if(c.pending=null,E!==null){E=E.next;do h.status="rejected",h.reason=x,Oi(h),h=h.next;while(h!==E)}c.action=null}function Oi(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function Pn(c,h){return h}function mr(c,h){if(mn){var x=wn.formState;if(x!==null){e:{var E=tn;if(mn){if(lr){var C=Jg(lr,qi);if(C){lr=$g(C),E=px(C);break e}}Ye(E)}E=!1}E&&(h=x[0])}}x=le(),x.memoizedState=x.baseState=h,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:h},x.queue=E,x=cg.bind(null,tn,E),E.dispatch=x,E=Kt(!1);var O=oc.bind(null,tn,!1,E.queue);return E=le(),C={state:h,dispatch:null,action:c,pending:null},E.queue=C,x=Zn.bind(null,tn,C,O,x),C.dispatch=x,E.memoizedState=c,[h,x,!1]}function $i(c){var h=xe();return ii(h,Ut,c)}function ii(c,h,x){h=ut(c,h,Pn)[0],c=gt(rt)[0],h=typeof h=="object"&&h!==null&&typeof h.then=="function"?Ee(h):h;var E=xe(),C=E.queue,O=C.dispatch;return x!==E.memoizedState&&(tn.flags|=2048,Pi(9,er.bind(null,C,x),{destroy:void 0},null)),[h,O,c]}function er(c,h){c.action=h}function tu(c){var h=xe(),x=Ut;if(x!==null)return ii(h,x,c);xe(),h=h.memoizedState,x=xe();var E=x.queue.dispatch;return x.memoizedState=c,[h,E,!1]}function Pi(c,h,x,E){return c={tag:c,create:h,inst:x,deps:E,next:null},h=tn.updateQueue,h===null&&(h=gp(),tn.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=c.next=c:(E=x.next,x.next=c,c.next=E,h.lastEffect=c),c}function My(){return xe().memoizedState}function Pf(c,h,x,E){var C=le();tn.flags|=c,C.memoizedState=Pi(1|h,x,{destroy:void 0},E===void 0?null:E)}function Uf(c,h,x,E){var C=xe();E=E===void 0?null:E;var O=C.memoizedState.inst;Ut!==null&&E!==null&&cs(E,Ut.memoizedState.deps)?C.memoizedState=Pi(h,x,O,E):(tn.flags|=c,C.memoizedState=Pi(1|h,x,O,E))}function wd(c,h){Pf(8390656,8,c,h)}function sg(c,h){Uf(2048,8,c,h)}function Ey(c,h){return Uf(4,2,c,h)}function Lf(c,h){return Uf(4,4,c,h)}function Cd(c,h){if(typeof h=="function"){c=c();var x=h(c);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function Rd(c,h,x){x=x!=null?x.concat([c]):null,Uf(4,4,Cd.bind(null,h,c),x)}function tl(){}function nu(c,h){var x=xe();h=h===void 0?null:h;var E=x.memoizedState;return h!==null&&cs(h,E[1])?E[0]:(x.memoizedState=[c,h],c)}function og(c,h){var x=xe();h=h===void 0?null:h;var E=x.memoizedState;if(h!==null&&cs(h,E[1]))return E[0];if(E=c(),Cl){Q(!0);try{c()}finally{Q(!1)}}return x.memoizedState=[E,h],E}function If(c,h,x){return x===void 0||(Uo&1073741824)!==0?c.memoizedState=h:(c.memoizedState=x,c=Rg(),tn.lanes|=c,Ea|=c,x)}function lg(c,h,x,E){return Qr(x,h)?x:Gn.current!==null?(c=If(c,x,E),Qr(c,h)||(zn=!0),c):(Uo&42)===0?(zn=!0,c.memoizedState=x):(c=Rg(),tn.lanes|=c,Ea|=c,h)}function ac(c,h,x,E,C){var O=Ro();vr(O!==0&&8>O?O:8);var W=Ft.T,ne={};Ft.T=ne,oc(c,!1,h,x);try{var de=C(),Ie=Ft.S;if(Ie!==null&&Ie(ne,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var et=nt(de,E);nl(c,h,et,pi(c))}else nl(c,h,E,pi(c))}catch(ft){nl(c,h,{then:function(){},status:"rejected",reason:ft},pi())}finally{vr(O),Ft.T=W}}function Us(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:yl,baseState:yl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:yl},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:x},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function Bf(){return nr(ps)}function sc(){return xe().memoizedState}function po(){return xe().memoizedState}function ug(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var x=pi();c=qe(x);var E=at(h,c,x);E!==null&&(ki(E,h,x),At(E,h,x)),h={cache:sl()},c.payload=h;return}h=h.return}}function Dd(c,h,x){var E=pi();x={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},zf(c)?Tr(h,x):(x=Ne(c,h,x,E),x!==null&&(ki(x,c,E),il(x,h,E)))}function cg(c,h,x){var E=pi();nl(c,h,x,E)}function nl(c,h,x,E){var C={lane:E,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(zf(c))Tr(h,C);else{var O=c.alternate;if(c.lanes===0&&(O===null||O.lanes===0)&&(O=h.lastRenderedReducer,O!==null))try{var W=h.lastRenderedState,ne=O(W,x);if(C.hasEagerState=!0,C.eagerState=ne,Qr(ne,W))return Ue(c,h,C,0),wn===null&&De(),!1}catch{}finally{}if(x=Ne(c,h,C,E),x!==null)return ki(x,c,E),il(x,h,E),!0}return!1}function oc(c,h,x,E){if(E={lane:2,revertLane:Ve(),action:E,hasEagerState:!1,eagerState:null,next:null},zf(c)){if(h)throw Error(r(479))}else h=Ne(c,x,E,2),h!==null&&ki(h,c,2)}function zf(c){var h=c.alternate;return c===tn||h!==null&&h===tn}function Tr(c,h){xu=Xa=!0;var x=c.pending;x===null?h.next=h:(h.next=x.next,x.next=h),c.pending=h}function il(c,h,x){if((x&4194176)!==0){var E=h.lanes;E&=c.pendingLanes,x|=E,h.lanes=x,pe(c,x)}}function lc(c,h,x,E){h=c.memoizedState,x=x(E,h),x=x==null?h:Kd({},h,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}function uc(c,h,x,E,C,O,W){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(E,O,W):h.prototype&&h.prototype.isPureReactComponent?!it(x,E)||!it(C,O):!0}function Ty(c,h,x,E){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,E),h.state!==c&&Gs.enqueueReplaceState(h,h.state,null)}function mo(c,h){var x=h;if("ref"in h){x={};for(var E in h)E!=="ref"&&(x[E]=h[E])}if(c=c.defaultProps){x===h&&(x=Kd({},x));for(var C in c)x[C]===void 0&&(x[C]=c[C])}return x}function cc(c,h){try{var x=c.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(E){setTimeout(function(){throw E})}}function fc(c,h,x){try{var E=c.onCaughtError;E(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function hc(c,h,x){return x=qe(x),x.tag=3,x.payload={element:null},x.callback=function(){cc(c,h)},x}function fg(c){return c=qe(c),c.tag=3,c}function Ay(c,h,x,E){var C=x.type.getDerivedStateFromError;if(typeof C=="function"){var O=E.value;c.payload=function(){return C(O)},c.callback=function(){fc(h,x,E)}}var W=x.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(c.callback=function(){fc(h,x,E),typeof C!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var ne=E.stack;this.componentDidCatch(E.value,{componentStack:ne!==null?ne:""})})}function cM(c,h,x,E,C){if(x.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(h=x.alternate,h!==null&&jf(h,x,C,!0),x=xa.current,x!==null){switch(x.tag){case 13:return Bn===null?Mo():x.alternate===null&&Vn===0&&(Vn=3),x.flags&=-257,x.flags|=65536,x.lanes=C,E===bh?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([E]):h.add(E),au(c,E,C)),!1;case 22:return x.flags|=65536,E===bh?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([E])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([E]):x.add(E)),au(c,E,C)),!1}throw Error(r(435,x.tag))}return au(c,E,C),Mo(),!1}if(mn)return h=xa.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=C,E!==vh&&(c=Error(r(422),{cause:E}),J(me(c,x)))):(E!==vh&&(h=Error(r(423),{cause:E}),J(me(h,x))),c=c.current.alternate,c.flags|=65536,C&=-C,c.lanes|=C,E=me(E,x),C=hc(c.stateNode,E,C),bt(c,C),Vn!==4&&(Vn=2)),!1;var O=Error(r(520),{cause:E});if(O=me(O,x),Su===null?Su=[O]:Su.push(O),Vn!==4&&(Vn=2),h===null)return!0;E=me(E,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,c=C&-C,x.lanes|=c,c=hc(x.stateNode,E,c),bt(x,c),!1;case 1:if(h=x.type,O=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Dl===null||!Dl.has(O))))return x.flags|=65536,C&=-C,x.lanes|=C,C=fg(C),Ay(C,c,x,E),bt(x,C),!1}x=x.return}while(x!==null);return!1}function tr(c,h,x,E){h.child=c===null?ks(h,null,x,E):wl(h,c.child,x,E)}function Nd(c,h,x,E,C){x=x.render;var O=h.ref;if("ref"in E){var W={};for(var ne in E)ne!=="ref"&&(W[ne]=E[ne])}else W=E;return al(h),E=Ps(c,h,x,W,O,C),ne=ic(),c!==null&&!zn?(rc(c,h,C),go(c,h,C)):(mn&&ne&&he(h),h.flags|=1,tr(c,h,E,C),h.child)}function wy(c,h,x,E,C){if(c===null){var O=x.type;return typeof O=="function"&&!th(O)&&O.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=O,Cy(c,h,O,E,C)):(c=Bs(x.type,null,E,h,h.mode,C),c.ref=h.ref,c.return=h,h.child=c)}if(O=c.child,!gg(c,C)){var W=O.memoizedProps;if(x=x.compare,x=x!==null?x:it,x(W,E)&&c.ref===h.ref)return go(c,h,C)}return h.flags|=1,c=Va(O,E),c.ref=h.ref,c.return=h,h.child=c}function Cy(c,h,x,E,C){if(c!==null){var O=c.memoizedProps;if(it(O,E)&&c.ref===h.ref)if(zn=!1,h.pendingProps=E=O,gg(c,C))(c.flags&131072)!==0&&(zn=!0);else return h.lanes=c.lanes,go(c,h,C)}return Od(c,h,x,E,C)}function Ry(c,h,x){var E=h.pendingProps,C=E.children,O=(h.stateNode._pendingVisibility&2)!==0,W=c!==null?c.memoizedState:null;if(Vf(c,h),E.mode==="hidden"||O){if((h.flags&128)!==0){if(E=W!==null?W.baseLanes|x:x,c!==null){for(C=h.child=c.child,O=0;C!==null;)O=O|C.lanes|C.childLanes,C=C.sibling;h.childLanes=O&~E}else h.childLanes=0,h.child=null;return Dy(c,h,E,x)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&Ud(h,W!==null?W.cachePool:null),W!==null?Mi(h,W):ti(),Of(h);else return h.lanes=h.childLanes=536870912,Dy(c,h,W!==null?W.baseLanes|x:x,x)}else W!==null?(Ud(h,W.cachePool),Mi(h,W),ua(),h.memoizedState=null):(c!==null&&Ud(h,null),ti(),ua());return tr(c,h,C,x),h.child}function Dy(c,h,x,E){var C=yg();return C=C===null?null:{parent:Cr?qn._currentValue:qn._currentValue2,pool:C},h.memoizedState={baseLanes:x,cachePool:C},c!==null&&Ud(h,null),ti(),Of(h),c!==null&&jf(c,h,E,!0),null}function Vf(c,h){var x=h.ref;if(x===null)c!==null&&c.ref!==null&&(h.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(c===null||c.ref!==x)&&(h.flags|=2097664)}}function Od(c,h,x,E,C){return al(h),x=Ps(c,h,x,E,void 0,C),E=ic(),c!==null&&!zn?(rc(c,h,C),go(c,h,C)):(mn&&E&&he(h),h.flags|=1,tr(c,h,x,C),h.child)}function Ny(c,h,x,E,C,O){return al(h),h.updateQueue=null,x=ho(h,E,x,C),el(c),E=ic(),c!==null&&!zn?(rc(c,h,O),go(c,h,O)):(mn&&E&&he(h),h.flags|=1,tr(c,h,x,O),h.child)}function Oy(c,h,x,E,C){if(al(h),h.stateNode===null){var O=Sl,W=x.contextType;typeof W=="object"&&W!==null&&(O=nr(W)),O=new x(E,O),h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Gs,h.stateNode=O,O._reactInternals=h,O=h.stateNode,O.props=E,O.state=h.memoizedState,O.refs={},yt(h),W=x.contextType,O.context=typeof W=="object"&&W!==null?nr(W):Sl,O.state=h.memoizedState,W=x.getDerivedStateFromProps,typeof W=="function"&&(lc(h,x,W,E),O.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(W=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),W!==O.state&&Gs.enqueueReplaceState(O,O.state,null),Ht(h,E,O,C),st(),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308),E=!0}else if(c===null){O=h.stateNode;var ne=h.memoizedProps,de=mo(x,ne);O.props=de;var Ie=O.context,et=x.contextType;W=Sl,typeof et=="object"&&et!==null&&(W=nr(et));var ft=x.getDerivedStateFromProps;et=typeof ft=="function"||typeof O.getSnapshotBeforeUpdate=="function",ne=h.pendingProps!==ne,et||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(ne||Ie!==W)&&Ty(h,O,E,W),Po=!1;var pt=h.memoizedState;O.state=pt,Ht(h,E,O,C),st(),Ie=h.memoizedState,ne||pt!==Ie||Po?(typeof ft=="function"&&(lc(h,x,ft,E),Ie=h.memoizedState),(de=Po||uc(h,x,de,E,pt,Ie,W))?(et||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(h.flags|=4194308)):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=Ie),O.props=E,O.state=Ie,O.context=W,E=de):(typeof O.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{O=h.stateNode,xt(c,h),W=h.memoizedProps,et=mo(x,W),O.props=et,ft=h.pendingProps,pt=O.context,Ie=x.contextType,de=Sl,typeof Ie=="object"&&Ie!==null&&(de=nr(Ie)),ne=x.getDerivedStateFromProps,(Ie=typeof ne=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==ft||pt!==de)&&Ty(h,O,E,de),Po=!1,pt=h.memoizedState,O.state=pt,Ht(h,E,O,C),st();var Yt=h.memoizedState;W!==ft||pt!==Yt||Po||c!==null&&c.dependencies!==null&&kf(c.dependencies)?(typeof ne=="function"&&(lc(h,x,ne,E),Yt=h.memoizedState),(et=Po||uc(h,x,et,E,pt,Yt,de)||c!==null&&c.dependencies!==null&&kf(c.dependencies))?(Ie||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(E,Yt,de),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(E,Yt,de)),typeof O.componentDidUpdate=="function"&&(h.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===c.memoizedProps&&pt===c.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===c.memoizedProps&&pt===c.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=Yt),O.props=E,O.state=Yt,O.context=de,E=et):(typeof O.componentDidUpdate!="function"||W===c.memoizedProps&&pt===c.memoizedState||(h.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===c.memoizedProps&&pt===c.memoizedState||(h.flags|=1024),E=!1)}return O=E,Vf(c,h),E=(h.flags&128)!==0,O||E?(O=h.stateNode,x=E&&typeof x.getDerivedStateFromError!="function"?null:O.render(),h.flags|=1,c!==null&&E?(h.child=wl(h,c.child,null,C),h.child=wl(h,null,x,C)):tr(c,h,x,C),h.memoizedState=O.state,c=h.child):c=go(c,h,C),c}function Py(c,h,x,E){return Le(),h.flags|=256,tr(c,h,x,E),h.child}function hg(c){return{baseLanes:c,cachePool:xg()}}function Hf(c,h,x){return c=c!==null?c.childLanes&~x:0,h&&(c|=Ta),c}function Uy(c,h,x){var E=h.pendingProps,C=!1,O=(h.flags&128)!==0,W;if((W=O)||(W=c!==null&&c.memoizedState===null?!1:(Ii.current&2)!==0),W&&(C=!0,h.flags&=-129),W=(h.flags&32)!==0,h.flags&=-33,c===null){if(mn){if(C?la(h):ua(),mn){var ne=lr,de;(de=ne)&&(ne=vx(ne,qi),ne!==null?(h.memoizedState={dehydrated:ne,treeContext:Ml!==null?{id:gs,overflow:vs}:null,retryLane:536870912},de=n(18,null,null,0),de.stateNode=ne,de.return=h,h.child=de,or=h,lr=null,de=!0):de=!1),de||Ye(h)}if(ne=h.memoizedState,ne!==null&&(ne=ne.dehydrated,ne!==null))return ap(ne)?h.lanes=16:h.lanes=536870912,null;ca(h)}return ne=E.children,E=E.fallback,C?(ua(),C=h.mode,ne=pg({mode:"hidden",children:ne},C),E=oi(E,C,x,null),ne.return=h,E.return=h,ne.sibling=E,h.child=ne,C=h.child,C.memoizedState=hg(x),C.childLanes=Hf(c,W,x),h.memoizedState=xp,E):(la(h),dg(h,ne))}if(de=c.memoizedState,de!==null&&(ne=de.dehydrated,ne!==null)){if(O)h.flags&256?(la(h),h.flags&=-257,h=Pd(c,h,x)):h.memoizedState!==null?(ua(),h.child=c.child,h.flags|=128,h=null):(ua(),C=E.fallback,ne=h.mode,E=pg({mode:"visible",children:E.children},ne),C=oi(C,ne,x,null),C.flags|=2,E.return=h,C.return=h,E.sibling=C,h.child=E,wl(h,c.child,null,x),E=h.child,E.memoizedState=hg(x),E.childLanes=Hf(c,W,x),h.memoizedState=xp,h=C);else if(la(h),ap(ne))W=hx(ne).digest,E=Error(r(419)),E.stack="",E.digest=W,J({value:E,source:null,stack:null}),h=Pd(c,h,x);else if(zn||jf(c,h,x,!1),W=(x&c.childLanes)!==0,zn||W){if(W=wn,W!==null){if(E=x&-x,(E&42)!==0)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=(E&(W.suspendedLanes|x))!==0?0:E,E!==0&&E!==de.retryLane)throw de.retryLane=E,we(c,E),ki(W,c,E),yp}rp(ne)||Mo(),h=Pd(c,h,x)}else rp(ne)?(h.flags|=128,h.child=c.child,h=Eo.bind(null,c),dx(ne,h),h=null):(c=de.treeContext,sr&&(lr=gx(ne),or=h,mn=!0,Ga=null,qi=!1,c!==null&&(ga[va++]=gs,ga[va++]=vs,ga[va++]=Ml,gs=c.id,vs=c.overflow,Ml=h)),h=dg(h,E.children),h.flags|=4096);return h}return C?(ua(),C=E.fallback,ne=h.mode,de=c.child,O=de.sibling,E=Va(de,{mode:"hidden",children:E.children}),E.subtreeFlags=de.subtreeFlags&31457280,O!==null?C=Va(O,C):(C=oi(C,ne,x,null),C.flags|=2),C.return=h,E.return=h,E.sibling=C,h.child=E,E=C,C=h.child,ne=c.child.memoizedState,ne===null?ne=hg(x):(de=ne.cachePool,de!==null?(O=Cr?qn._currentValue:qn._currentValue2,de=de.parent!==O?{parent:O,pool:O}:de):de=xg(),ne={baseLanes:ne.baseLanes|x,cachePool:de}),C.memoizedState=ne,C.childLanes=Hf(c,W,x),h.memoizedState=xp,E):(la(h),x=c.child,c=x.sibling,x=Va(x,{mode:"visible",children:E.children}),x.return=h,x.sibling=null,c!==null&&(W=h.deletions,W===null?(h.deletions=[c],h.flags|=16):W.push(c)),h.child=x,h.memoizedState=null,x)}function dg(c,h){return h=pg({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function pg(c,h){return ih(c,h,0,null)}function Pd(c,h,x){return wl(h,c.child,null,x),c=dg(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function Ly(c,h,x){c.lanes|=h;var E=c.alternate;E!==null&&(E.lanes|=h),Ff(c.return,h,x)}function mg(c,h,x,E,C){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:C}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=E,O.tail=x,O.tailMode=C)}function Iy(c,h,x){var E=h.pendingProps,C=E.revealOrder,O=E.tail;if(tr(c,h,E.children,x),E=Ii.current,(E&2)!==0)E=E&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Ly(c,x,h);else if(c.tag===19)Ly(c,x,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}E&=1}switch(R(Ii,E),C){case"forwards":for(x=h.child,C=null;x!==null;)c=x.alternate,c!==null&&fa(c)===null&&(C=x),x=x.sibling;x=C,x===null?(C=h.child,h.child=null):(C=x.sibling,x.sibling=null),mg(h,!1,C,x,O);break;case"backwards":for(x=null,C=h.child,h.child=null;C!==null;){if(c=C.alternate,c!==null&&fa(c)===null){h.child=C;break}c=C.sibling,C.sibling=x,x=C,C=c}mg(h,!0,x,null,O);break;case"together":mg(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function go(c,h,x){if(c!==null&&(h.dependencies=c.dependencies),Ea|=h.lanes,(x&h.childLanes)===0)if(c!==null){if(jf(c,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,x=Va(c,c.pendingProps),h.child=x,x.return=h;c.sibling!==null;)c=c.sibling,x=x.sibling=Va(c,c.pendingProps),x.return=h;x.sibling=null}return h.child}function gg(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&kf(c)))}function fM(c,h,x){switch(h.tag){case 3:je(h,h.stateNode.containerInfo),rl(h,qn,c.memoizedState.cache),Le();break;case 27:case 5:ve(h);break;case 4:je(h,h.stateNode.containerInfo);break;case 10:rl(h,h.type,h.memoizedProps.value);break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(la(h),h.flags|=128,null):(x&h.child.childLanes)!==0?Uy(c,h,x):(la(h),c=go(c,h,x),c!==null?c.sibling:null);la(h);break;case 19:var C=(c.flags&128)!==0;if(E=(x&h.childLanes)!==0,E||(jf(c,h,x,!1),E=(x&h.childLanes)!==0),C){if(E)return Iy(c,h,x);h.flags|=128}if(C=h.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),R(Ii,Ii.current),E)break;return null;case 22:case 23:return h.lanes=0,Ry(c,h,x);case 24:rl(h,qn,c.memoizedState.cache)}return go(c,h,x)}function By(c,h,x){if(c!==null)if(c.memoizedProps!==h.pendingProps)zn=!0;else{if(!gg(c,x)&&(h.flags&128)===0)return zn=!1,fM(c,h,x);zn=(c.flags&131072)!==0}else zn=!1,mn&&(h.flags&1048576)!==0&&re(h,Pc,h.index);switch(h.lanes=0,h.tag){case 16:e:{c=h.pendingProps;var E=h.elementType,C=E._init;if(E=C(E._payload),h.type=E,typeof E=="function")th(E)?(c=mo(E,c),h.tag=1,h=Oy(null,h,E,c,x)):(h.tag=0,h=Od(null,h,E,c,x));else{if(E!=null){if(C=E.$$typeof,C===lh){h.tag=11,h=Nd(null,h,E,c,x);break e}else if(C===Jd){h.tag=14,h=wy(null,h,E,c,x);break e}}throw h=o(E)||E,Error(r(306,h,""))}}return h;case 0:return Od(c,h,h.type,h.pendingProps,x);case 1:return E=h.type,C=mo(E,h.pendingProps),Oy(c,h,E,C,x);case 3:e:{if(je(h,h.stateNode.containerInfo),c===null)throw Error(r(387));var O=h.pendingProps;C=h.memoizedState,E=C.element,xt(c,h),Ht(h,O,null,x);var W=h.memoizedState;if(O=W.cache,rl(h,qn,O),O!==C.cache&&iu(h,[qn],x,!0),st(),O=W.element,sr&&C.isDehydrated)if(C={element:O,isDehydrated:!1,cache:W.cache},h.updateQueue.baseState=C,h.memoizedState=C,h.flags&256){h=Py(c,h,O,x);break e}else if(O!==E){E=me(Error(r(424)),h),J(E),h=Py(c,h,O,x);break e}else for(sr&&(lr=mx(h.stateNode.containerInfo),or=h,mn=!0,Ga=null,qi=!0),x=ks(h,null,O,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Le(),O===E){h=go(c,h,x);break e}tr(c,h,O,x)}h=h.child}return h;case 26:if(ma)return Vf(c,h),c===null?(x=nv(h.type,null,h.pendingProps,null))?h.memoizedState=x:mn||(h.stateNode=cp(h.type,h.pendingProps,Fs.current,h)):h.memoizedState=nv(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:if(In)return ve(h),c===null&&In&&mn&&(E=h.stateNode=ms(h.type,h.pendingProps,Fs.current,Li.current,!1),or=h,qi=!0,lr=sp(E)),E=h.pendingProps.children,c!==null||mn?tr(c,h,E,x):h.child=wl(h,null,E,x),Vf(c,h),h.child;case 5:return c===null&&mn&&(lp(h.type,h.pendingProps,Li.current),(C=E=lr)&&(E=yM(E,h.type,h.pendingProps,qi),E!==null?(h.stateNode=E,or=h,lr=sp(E),qi=!1,C=!0):C=!1),C||Ye(h)),ve(h),C=h.type,O=h.pendingProps,W=c!==null?c.memoizedProps:null,E=O.children,Qt(C,O)?E=null:W!==null&&Qt(C,W)&&(h.flags|=32),h.memoizedState!==null&&(C=Ps(c,h,Ei,null,null,x),Cr?ps._currentValue=C:ps._currentValue2=C),Vf(c,h),tr(c,h,E,x),h.child;case 6:return c===null&&mn&&(Sx(h.pendingProps,Li.current),(c=x=lr)&&(x=ev(x,h.pendingProps,qi),x!==null?(h.stateNode=x,or=h,lr=null,c=!0):c=!1),c||Ye(h)),null;case 13:return Uy(c,h,x);case 4:return je(h,h.stateNode.containerInfo),E=h.pendingProps,c===null?h.child=wl(h,null,E,x):tr(c,h,E,x),h.child;case 11:return Nd(c,h,h.type,h.pendingProps,x);case 7:return tr(c,h,h.pendingProps,x),h.child;case 8:return tr(c,h,h.pendingProps.children,x),h.child;case 12:return tr(c,h,h.pendingProps.children,x),h.child;case 10:return E=h.pendingProps,rl(h,h.type,E.value),tr(c,h,E.children,x),h.child;case 9:return C=h.type._context,E=h.pendingProps.children,al(h),C=nr(C),E=E(C),h.flags|=1,tr(c,h,E,x),h.child;case 14:return wy(c,h,h.type,h.pendingProps,x);case 15:return Cy(c,h,h.type,h.pendingProps,x);case 19:return Iy(c,h,x);case 22:return Ry(c,h,x);case 24:return al(h),E=nr(qn),c===null?(C=yg(),C===null&&(C=wn,O=sl(),C.pooledCache=O,O.refCount++,O!==null&&(C.pooledCacheLanes|=x),C=O),h.memoizedState={parent:E,cache:C},yt(h),rl(h,qn,C)):((c.lanes&x)!==0&&(xt(c,h),Ht(h,null,null,x),st()),C=c.memoizedState,O=h.memoizedState,C.parent!==E?(C={parent:E,cache:E},h.memoizedState=C,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=C),rl(h,qn,E)):(E=O.cache,rl(h,qn,E),E!==C.cache&&iu(h,[qn],x,!0))),tr(c,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function rl(c,h,x){Cr?(R(Lo,h._currentValue),h._currentValue=x):(R(Lo,h._currentValue2),h._currentValue2=x)}function vo(c){var h=Lo.current;Cr?c._currentValue=h:c._currentValue2=h,M(Lo)}function Ff(c,h,x){for(;c!==null;){var E=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),c===x)break;c=c.return}}function iu(c,h,x,E){var C=c.child;for(C!==null&&(C.return=c);C!==null;){var O=C.dependencies;if(O!==null){var W=C.child;O=O.firstContext;e:for(;O!==null;){var ne=O;O=C;for(var de=0;de<h.length;de++)if(ne.context===h[de]){O.lanes|=x,ne=O.alternate,ne!==null&&(ne.lanes|=x),Ff(O.return,x,c),E||(W=null);break e}O=ne.next}}else if(C.tag===18){if(W=C.return,W===null)throw Error(r(341));W.lanes|=x,O=W.alternate,O!==null&&(O.lanes|=x),Ff(W,x,c),W=null}else W=C.child;if(W!==null)W.return=C;else for(W=C;W!==null;){if(W===c){W=null;break}if(C=W.sibling,C!==null){C.return=W.return,W=C;break}W=W.return}C=W}}function jf(c,h,x,E){c=null;for(var C=h,O=!1;C!==null;){if(!O){if((C.flags&524288)!==0)O=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var W=C.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var ne=C.type;Qr(C.pendingProps.value,W.value)||(c!==null?c.push(ne):c=[ne])}}else if(C===du.current){if(W=C.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(c!==null?c.push(ps):c=[ps])}C=C.return}c!==null&&iu(h,c,x,E),h.flags|=262144}function kf(c){for(c=c.firstContext;c!==null;){var h=c.context;if(!Qr(Cr?h._currentValue:h._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function al(c){bs=c,_a=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function nr(c){return vg(bs,c)}function Gf(c,h){return bs===null&&al(c),vg(c,h)}function vg(c,h){var x=Cr?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:x,next:null},_a===null){if(c===null)throw Error(r(308));_a=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else _a=_a.next=h;return x}function sl(){return{controller:new Vc,data:new Map,refCount:0}}function qf(c){c.refCount--,c.refCount===0&&Px(Ux,function(){c.controller.abort()})}function yg(){var c=qs.current;return c!==null?c:wn.pooledCache}function Ud(c,h){h===null?R(qs,qs.current):R(qs,h.pool)}function xg(){var c=yg();return c===null?null:{parent:Cr?qn._currentValue:qn._currentValue2,pool:c}}function Gr(c){c.flags|=4}function dc(c,h){if(c!==null&&c.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(c=h.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function ru(c,h,x,E){if(Ui)for(x=h.child;x!==null;){if(x.tag===5||x.tag===6)ch(c,x.stateNode);else if(!(x.tag===4||In&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(ja)for(var C=h.child;C!==null;){if(C.tag===5){var O=C.stateNode;x&&E&&(O=Zg(O,C.type,C.memoizedProps)),ch(c,O)}else if(C.tag===6)O=C.stateNode,x&&E&&(O=Qg(O,C.memoizedProps)),ch(c,O);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)O=C.child,O!==null&&(O.return=C),ru(c,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function zy(c,h,x,E){if(ja)for(var C=h.child;C!==null;){if(C.tag===5){var O=C.stateNode;x&&E&&(O=Zg(O,C.type,C.memoizedProps)),Kg(c,O)}else if(C.tag===6)O=C.stateNode,x&&E&&(O=Qg(O,C.memoizedProps)),Kg(c,O);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)O=C.child,O!==null&&(O.return=C),zy(c,C,!(C.memoizedProps!==null&&C.memoizedProps.mode==="manual"),!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function Xf(c,h){if(ja&&dc(c,h)){c=h.stateNode;var x=c.containerInfo,E=fh();zy(E,h,!1,!1),c.pendingChildren=E,Gr(h),ip(x,E)}}function Ld(c,h,x,E){if(Ui)c.memoizedProps!==E&&Gr(h);else if(ja){var C=c.stateNode,O=c.memoizedProps;if((c=dc(c,h))||O!==E){var W=Li.current;O=Dc(C,x,O,E,!c,null),O===C?h.stateNode=C:(Co(O,x,E,W)&&Gr(h),h.stateNode=O,c?ru(O,h,!1,!1):Gr(h))}else h.stateNode=C}}function Id(c,h,x){if(Fg(h,x)){if(c.flags|=16777216,!tp(h,x))if(hl())c.flags|=8192;else throw El=bh,xh}else c.flags&=-16777217}function Bd(c,h){if(Tx(h)){if(c.flags|=16777216,!lu(h))if(hl())c.flags|=8192;else throw El=bh,xh}else c.flags&=-16777217}function pc(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?B():536870912,c.lanes|=h,Ys|=h)}function mc(c,h){if(!mn)switch(c.tailMode){case"hidden":h=c.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:E.sibling=null}}function ni(c){var h=c.alternate!==null&&c.alternate.child===c.child,x=0,E=0;if(h)for(var C=c.child;C!==null;)x|=C.lanes|C.childLanes,E|=C.subtreeFlags&31457280,E|=C.flags&31457280,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)x|=C.lanes|C.childLanes,E|=C.subtreeFlags,E|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=E,c.childLanes=x,h}function Vy(c,h,x){var E=h.pendingProps;switch(Pe(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(h),null;case 1:return ni(h),null;case 3:return x=h.stateNode,E=null,c!==null&&(E=c.memoizedState.cache),h.memoizedState.cache!==E&&(h.flags|=2048),vo(qn),ot(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(lt(h)?Gr(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Ga!==null&&($f(Ga),Ga=null))),Xf(c,h),ni(h),null;case 26:if(ma){x=h.type;var C=h.memoizedState;return c===null?(Gr(h),C!==null?(ni(h),Bd(h,C)):(ni(h),Id(h,x,E))):C?C!==c.memoizedState?(Gr(h),ni(h),Bd(h,C)):(ni(h),h.flags&=-16777217):(Ui?c.memoizedProps!==E&&Gr(h):Ld(c,h,x,E),ni(h),Id(h,x,E)),null}case 27:if(In){if(ze(h),x=Fs.current,C=h.type,c!==null&&h.stateNode!=null)Ui?c.memoizedProps!==E&&Gr(h):Ld(c,h,C,E);else{if(!E){if(h.stateNode===null)throw Error(r(166));return ni(h),null}c=Li.current,lt(h)?Oe(h,c):(c=ms(C,E,x,c,!0),h.stateNode=c,Gr(h))}return ni(h),null}case 5:if(ze(h),x=h.type,c!==null&&h.stateNode!=null)Ld(c,h,x,E);else{if(!E){if(h.stateNode===null)throw Error(r(166));return ni(h),null}c=Li.current,lt(h)?Oe(h,c):(C=Hg(x,E,Fs.current,c,h),ru(C,h,!1,!1),h.stateNode=C,Co(C,x,E,c)&&Gr(h))}return ni(h),Id(h,h.type,h.pendingProps),null;case 6:if(c&&h.stateNode!=null)x=c.memoizedProps,Ui?x!==E&&Gr(h):ja&&(x!==E?(h.stateNode=On(E,Fs.current,Li.current,h),Gr(h)):h.stateNode=c.stateNode);else{if(typeof E!="string"&&h.stateNode===null)throw Error(r(166));if(c=Fs.current,x=Li.current,lt(h)){if(!sr)throw Error(r(176));if(c=h.stateNode,x=h.memoizedProps,E=null,C=or,C!==null)switch(C.tag){case 27:case 5:E=C.memoizedProps}tv(c,x,h,E)||Ye(h)}else h.stateNode=On(E,c,x,h)}return ni(h),null;case 13:if(E=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(C=lt(h),E!==null&&E.dehydrated!==null){if(c===null){if(!C)throw Error(r(318));if(!sr)throw Error(r(344));if(C=h.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));xx(C,h)}else Le(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;ni(h),C=!1}else Ga!==null&&($f(Ga),Ga=null),C=!0;if(!C)return h.flags&256?(ca(h),h):(ca(h),null)}if(ca(h),(h.flags&128)!==0)return h.lanes=x,h;if(x=E!==null,c=c!==null&&c.memoizedState!==null,x){E=h.child,C=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(C=E.alternate.memoizedState.cachePool.pool);var O=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(O=E.memoizedState.cachePool.pool),O!==C&&(E.flags|=2048)}return x!==c&&x&&(h.child.flags|=8192),pc(h,h.updateQueue),ni(h),null;case 4:return ot(),Xf(c,h),c===null&&mi(h.stateNode.containerInfo),ni(h),null;case 10:return vo(h.type),ni(h),null;case 19:if(M(Ii),C=h.memoizedState,C===null)return ni(h),null;if(E=(h.flags&128)!==0,O=C.rendering,O===null)if(E)mc(C,!1);else{if(Vn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(O=fa(c),O!==null){for(h.flags|=128,mc(C,!1),c=O.updateQueue,h.updateQueue=c,pc(h,c),h.subtreeFlags=0,c=x,x=h.child;x!==null;)nh(x,c),x=x.sibling;return R(Ii,Ii.current&1|2),h.child}c=c.sibling}C.tail!==null&&ka()>jc&&(h.flags|=128,E=!0,mc(C,!1),h.lanes=4194304)}else{if(!E)if(c=fa(O),c!==null){if(h.flags|=128,E=!0,c=c.updateQueue,h.updateQueue=c,pc(h,c),mc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!O.alternate&&!mn)return ni(h),null}else 2*ka()-C.renderingStartTime>jc&&x!==536870912&&(h.flags|=128,E=!0,mc(C,!1),h.lanes=4194304);C.isBackwards?(O.sibling=h.child,h.child=O):(c=C.last,c!==null?c.sibling=O:h.child=O,C.last=O)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=ka(),h.sibling=null,c=Ii.current,R(Ii,E?c&1|2:c&1),h):(ni(h),null);case 22:case 23:return ca(h),La(),E=h.memoizedState!==null,c!==null?c.memoizedState!==null!==E&&(h.flags|=8192):E&&(h.flags|=8192),E?(x&536870912)!==0&&(h.flags&128)===0&&(ni(h),h.subtreeFlags&6&&(h.flags|=8192)):ni(h),x=h.updateQueue,x!==null&&pc(h,x.retryQueue),x=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==x&&(h.flags|=2048),c!==null&&M(qs),null;case 24:return x=null,c!==null&&(x=c.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),vo(qn),ni(h),null;case 25:return null}throw Error(r(156,h.tag))}function hM(c,h){switch(Pe(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return vo(qn),ot(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return ze(h),null;case 13:if(ca(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Le()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return M(Ii),null;case 4:return ot(),null;case 10:return vo(h.type),null;case 22:case 23:return ca(h),La(),c!==null&&M(qs),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return vo(qn),null;case 25:return null;default:return null}}function Hy(c,h){switch(Pe(h),h.tag){case 3:vo(qn),ot();break;case 26:case 27:case 5:ze(h);break;case 4:ot();break;case 13:ca(h);break;case 19:M(Ii);break;case 10:vo(h.type);break;case 22:case 23:ca(h),La(),c!==null&&M(qs);break;case 24:vo(qn)}}function Wf(c,h){try{var x=h.updateQueue,E=x!==null?x.lastEffect:null;if(E!==null){var C=E.next;x=C;do{if((x.tag&c)===c){E=void 0;var O=x.create,W=x.inst;E=O(),W.destroy=E}x=x.next}while(x!==C)}}catch(ne){Tn(h,h.return,ne)}}function ol(c,h,x){try{var E=h.updateQueue,C=E!==null?E.lastEffect:null;if(C!==null){var O=C.next;E=O;do{if((E.tag&c)===c){var W=E.inst,ne=W.destroy;if(ne!==void 0){W.destroy=void 0,C=h;var de=x;try{ne()}catch(Ie){Tn(C,de,Ie)}}}E=E.next}while(E!==O)}}catch(Ie){Tn(h,h.return,Ie)}}function Fy(c){var h=c.updateQueue;if(h!==null){var x=c.stateNode;try{Je(h,x)}catch(E){Tn(c,c.return,E)}}}function qr(c,h,x){x.props=mo(c.type,c.memoizedProps),x.state=c.memoizedState;try{x.componentWillUnmount()}catch(E){Tn(c,h,E)}}function fs(c,h){try{var x=c.ref;if(x!==null){var E=c.stateNode;switch(c.tag){case 26:case 27:case 5:var C=wc(E);break;default:C=E}typeof x=="function"?c.refCleanup=x(C):x.current=C}}catch(O){Tn(c,h,O)}}function Xr(c,h){var x=c.ref,E=c.refCleanup;if(x!==null)if(typeof E=="function")try{E()}catch(C){Tn(c,h,C)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(C){Tn(c,h,C)}else x.current=null}function bg(c){var h=c.type,x=c.memoizedProps,E=c.stateNode;try{gM(E,h,x,c)}catch(C){Tn(c,c.return,C)}}function _g(c,h,x){try{rx(c.stateNode,c.type,x,h,c)}catch(E){Tn(c,c.return,E)}}function Sg(c){return c.tag===5||c.tag===3||(ma?c.tag===26:!1)||(In?c.tag===27:!1)||c.tag===4}function Yf(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Sg(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!In||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Mg(c,h,x){var E=c.tag;if(E===5||E===6)c=c.stateNode,h?sx(x,c,h):Xg(x,c);else if(!(E===4||In&&E===27)&&(c=c.child,c!==null))for(Mg(c,h,x),c=c.sibling;c!==null;)Mg(c,h,x),c=c.sibling}function yo(c,h,x){var E=c.tag;if(E===5||E===6)c=c.stateNode,h?ax(x,c,h):nx(x,c);else if(!(E===4||In&&E===27)&&(c=c.child,c!==null))for(yo(c,h,x),c=c.sibling;c!==null;)yo(c,h,x),c=c.sibling}function zd(c,h,x){c=c.containerInfo;try{Nc(c,x)}catch(E){Tn(h,h.return,E)}}function Kf(c,h){for($d(c.containerInfo),Wt=h;Wt!==null;)if(c=Wt,h=c.child,(c.subtreeFlags&1028)!==0&&h!==null)h.return=c,Wt=h;else for(;Wt!==null;){c=Wt;var x=c.alternate;switch(h=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((h&1024)!==0&&x!==null){h=void 0;var E=c,C=x.memoizedProps;x=x.memoizedState;var O=E.stateNode;try{var W=mo(E.type,C,E.elementType===E.type);h=O.getSnapshotBeforeUpdate(W,x),O.__reactInternalSnapshotBeforeUpdate=h}catch(ne){Tn(E,E.return,ne)}}break;case 3:(h&1024)!==0&&Ui&&fx(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(r(163))}if(h=c.sibling,h!==null){h.return=c.return,Wt=h;break}Wt=c.return}return W=ln,ln=!1,W}function Vd(c,h,x){var E=x.flags;switch(x.tag){case 0:case 11:case 15:bo(c,x),E&4&&Wf(5,x);break;case 1:if(bo(c,x),E&4)if(c=x.stateNode,h===null)try{c.componentDidMount()}catch(ne){Tn(x,x.return,ne)}else{var C=mo(x.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(C,h,c.__reactInternalSnapshotBeforeUpdate)}catch(ne){Tn(x,x.return,ne)}}E&64&&Fy(x),E&512&&fs(x,x.return);break;case 3:if(bo(c,x),E&64&&(E=x.updateQueue,E!==null)){if(c=null,x.child!==null)switch(x.child.tag){case 27:case 5:c=wc(x.child.stateNode);break;case 1:c=x.child.stateNode}try{Je(E,c)}catch(ne){Tn(x,x.return,ne)}}break;case 26:if(ma){bo(c,x),E&512&&fs(x,x.return);break}case 27:case 5:bo(c,x),h===null&&E&4&&bg(x),E&512&&fs(x,x.return);break;case 12:bo(c,x);break;case 13:bo(c,x),E&4&&Hd(c,x);break;case 22:if(C=x.memoizedState!==null||Xs,!C){h=h!==null&&h.memoizedState!==null||ui;var O=Xs,W=ui;Xs=C,(ui=h)&&!W?_o(c,x,(x.subtreeFlags&8772)!==0):bo(c,x),Xs=O,ui=W}E&512&&(x.memoizedProps.mode==="manual"?fs(x,x.return):Xr(x,x.return));break;default:bo(c,x)}}function Eg(c){var h=c.alternate;h!==null&&(c.alternate=null,Eg(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&mM(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ir(c,h,x){for(x=x.child;x!==null;)ll(c,h,x),x=x.sibling}function ll(c,h,x){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(vi,x)}catch{}switch(x.tag){case 26:if(ma){ui||Xr(x,h),ir(c,h,x),x.memoizedState?ou(x.memoizedState):x.stateNode&&Oc(x.stateNode);break}case 27:if(In){ui||Xr(x,h);var E=Ot,C=$t;Ot=x.stateNode,ir(c,h,x),_l(x.stateNode),Ot=E,$t=C;break}case 5:ui||Xr(x,h);case 6:if(Ui){if(E=Ot,C=$t,Ot=null,ir(c,h,x),Ot=E,$t=C,Ot!==null)if($t)try{ox(Ot,x.stateNode)}catch(O){Tn(x,h,O)}else try{Wg(Ot,x.stateNode)}catch(O){Tn(x,h,O)}}else ir(c,h,x);break;case 18:Ui&&Ot!==null&&($t?hh(Ot,x.stateNode):_x(Ot,x.stateNode));break;case 4:Ui?(E=Ot,C=$t,Ot=x.stateNode.containerInfo,$t=!0,ir(c,h,x),Ot=E,$t=C):(ja&&zd(x.stateNode,x,fh()),ir(c,h,x));break;case 0:case 11:case 14:case 15:ui||ol(2,x,h),ui||ol(4,x,h),ir(c,h,x);break;case 1:ui||(Xr(x,h),E=x.stateNode,typeof E.componentWillUnmount=="function"&&qr(x,h,E)),ir(c,h,x);break;case 21:ir(c,h,x);break;case 22:ui||Xr(x,h),ui=(E=ui)||x.memoizedState!==null,ir(c,h,x),ui=E;break;default:ir(c,h,x)}}function Hd(c,h){if(sr&&h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{bM(c)}catch(x){Tn(h,h.return,x)}}function jy(c){switch(c.tag){case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new An),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new An),h;default:throw Error(r(435,c.tag))}}function xo(c,h){var x=jy(c);h.forEach(function(E){var C=ml.bind(null,c,E);x.has(E)||(x.add(E),E.then(C,C))})}function Ar(c,h){var x=h.deletions;if(x!==null)for(var E=0;E<x.length;E++){var C=x[E],O=c,W=h;if(Ui){var ne=W;e:for(;ne!==null;){switch(ne.tag){case 27:case 5:Ot=ne.stateNode,$t=!1;break e;case 3:Ot=ne.stateNode.containerInfo,$t=!0;break e;case 4:Ot=ne.stateNode.containerInfo,$t=!0;break e}ne=ne.return}if(Ot===null)throw Error(r(160));ll(O,W,C),Ot=null,$t=!1}else ll(O,W,C);O=C.alternate,O!==null&&(O.return=null),C.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)Tg(h,c),h=h.sibling}function Tg(c,h){var x=c.alternate,E=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ar(h,c),Wr(c),E&4&&(ol(3,c,c.return),Wf(3,c),ol(5,c,c.return));break;case 1:Ar(h,c),Wr(c),E&512&&(ui||x===null||Xr(x,x.return)),E&64&&Xs&&(c=c.updateQueue,c!==null&&(E=c.callbacks,E!==null&&(x=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=x===null?E:x.concat(E))));break;case 26:if(ma){var C=ai;Ar(h,c),Wr(c),E&512&&(ui||x===null||Xr(x,x.return)),E&4&&(E=x!==null?x.memoizedState:null,h=c.memoizedState,x===null?h===null?c.stateNode===null?c.stateNode=ph(C,c.type,c.memoizedProps,c):mh(C,c.type,c.stateNode):c.stateNode=Mx(C,h,c.memoizedProps):E!==h?(E===null?x.stateNode!==null&&Oc(x.stateNode):ou(E),h===null?mh(C,c.type,c.stateNode):Mx(C,h,c.memoizedProps)):h===null&&c.stateNode!==null&&_g(c,c.memoizedProps,x.memoizedProps));break}case 27:if(In&&E&4&&c.alternate===null){C=c.stateNode;var O=c.memoizedProps;try{bl(C),wx(c.type,O,C,c)}catch(et){Tn(c,c.return,et)}}case 5:if(Ar(h,c),Wr(c),E&512&&(ui||x===null||Xr(x,x.return)),Ui){if(c.flags&32){h=c.stateNode;try{Yg(h)}catch(et){Tn(c,c.return,et)}}E&4&&c.stateNode!=null&&(h=c.memoizedProps,_g(c,h,x!==null?x.memoizedProps:h)),E&1024&&(sv=!0)}break;case 6:if(Ar(h,c),Wr(c),E&4&&Ui){if(c.stateNode===null)throw Error(r(162));E=c.memoizedProps,x=x!==null?x.memoizedProps:E,h=c.stateNode;try{ix(h,x,E)}catch(et){Tn(c,c.return,et)}}break;case 3:if(ma?(Ex(),C=ai,ai=up(h.containerInfo),Ar(h,c),ai=C):Ar(h,c),Wr(c),E&4){if(Ui&&sr&&x!==null&&x.memoizedState.isDehydrated)try{xM(h.containerInfo)}catch(et){Tn(c,c.return,et)}if(ja){E=h.containerInfo,x=h.pendingChildren;try{Nc(E,x)}catch(et){Tn(c,c.return,et)}}}sv&&(sv=!1,ky(c));break;case 4:ma?(x=ai,ai=up(c.stateNode.containerInfo),Ar(h,c),Wr(c),ai=x):(Ar(h,c),Wr(c)),E&4&&ja&&zd(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:Ar(h,c),Wr(c);break;case 13:Ar(h,c),Wr(c),c.child.flags&8192&&c.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Or=ka()),E&4&&(E=c.updateQueue,E!==null&&(c.updateQueue=null,xo(c,E)));break;case 22:E&512&&(ui||x===null||Xr(x,x.return)),C=c.memoizedState!==null;var W=x!==null&&x.memoizedState!==null,ne=Xs,de=ui;if(Xs=ne||C,ui=de||W,Ar(h,c),ui=de,Xs=ne,Wr(c),h=c.stateNode,h._current=c,h._visibility&=-3,h._visibility|=h._pendingVisibility&2,E&8192&&(h._visibility=C?h._visibility&-2:h._visibility|1,C&&(h=Xs||ui,x===null||W||h||gc(c)),Ui&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){e:if(x=null,Ui)for(h=c;;){if(h.tag===5||ma&&h.tag===26||In&&h.tag===27){if(x===null){W=x=h;try{O=W.stateNode,C?lx(O):cx(W.stateNode,W.memoizedProps)}catch(et){Tn(W,W.return,et)}}}else if(h.tag===6){if(x===null){W=h;try{var Ie=W.stateNode;C?ux(Ie):vM(Ie,W.memoizedProps)}catch(et){Tn(W,W.return,et)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}}E&4&&(E=c.updateQueue,E!==null&&(x=E.retryQueue,x!==null&&(E.retryQueue=null,xo(c,x))));break;case 19:Ar(h,c),Wr(c),E&4&&(E=c.updateQueue,E!==null&&(c.updateQueue=null,xo(c,E)));break;case 21:break;default:Ar(h,c),Wr(c)}}function Wr(c){var h=c.flags;if(h&2){try{if(Ui&&(!In||c.tag!==27)){e:{for(var x=c.return;x!==null;){if(Sg(x)){var E=x;break e}x=x.return}throw Error(r(160))}switch(E.tag){case 27:if(In){var C=E.stateNode,O=Yf(c);yo(c,O,C);break}case 5:var W=E.stateNode;E.flags&32&&(Yg(W),E.flags&=-33);var ne=Yf(c);yo(c,ne,W);break;case 3:case 4:var de=E.stateNode.containerInfo,Ie=Yf(c);Mg(c,Ie,de);break;default:throw Error(r(161))}}}catch(et){Tn(c,c.return,et)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function ky(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;ky(h),h.tag===5&&h.flags&1024&&np(h.stateNode),c=c.sibling}}function bo(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Vd(c,h.alternate,h),h=h.sibling}function gc(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:ol(4,h,h.return),gc(h);break;case 1:Xr(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&qr(h,h.return,x),gc(h);break;case 26:case 27:case 5:Xr(h,h.return),gc(h);break;case 22:Xr(h,h.return),h.memoizedState===null&&gc(h);break;default:gc(h)}c=c.sibling}}function _o(c,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var E=h.alternate,C=c,O=h,W=O.flags;switch(O.tag){case 0:case 11:case 15:_o(C,O,x),Wf(4,O);break;case 1:if(_o(C,O,x),E=O,C=E.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Ie){Tn(E,E.return,Ie)}if(E=O,C=E.updateQueue,C!==null){var ne=E.stateNode;try{var de=C.shared.hiddenCallbacks;if(de!==null)for(C.shared.hiddenCallbacks=null,C=0;C<de.length;C++)oe(de[C],ne)}catch(Ie){Tn(E,E.return,Ie)}}x&&W&64&&Fy(O),fs(O,O.return);break;case 26:case 27:case 5:_o(C,O,x),x&&E===null&&W&4&&bg(O),fs(O,O.return);break;case 12:_o(C,O,x);break;case 13:_o(C,O,x),x&&W&4&&Hd(C,O);break;case 22:O.memoizedState===null&&_o(C,O,x),fs(O,O.return);break;default:_o(C,O,x)}h=h.sibling}}function Fd(c,h){var x=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==x&&(c!=null&&c.refCount++,x!=null&&qf(x))}function Zf(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&qf(c))}function ji(c,h,x,E){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Ag(c,h,x,E),h=h.sibling}function Ag(c,h,x,E){var C=h.flags;switch(h.tag){case 0:case 11:case 15:ji(c,h,x,E),C&2048&&Wf(9,h);break;case 3:ji(c,h,x,E),C&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&qf(c)));break;case 12:if(C&2048){ji(c,h,x,E),c=h.stateNode;try{var O=h.memoizedProps,W=O.id,ne=O.onPostCommit;typeof ne=="function"&&ne(W,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(de){Tn(h,h.return,de)}}else ji(c,h,x,E);break;case 23:break;case 22:O=h.stateNode,h.memoizedState!==null?O._visibility&4?ji(c,h,x,E):gr(c,h):O._visibility&4?ji(c,h,x,E):(O._visibility|=4,rr(c,h,x,E,(h.subtreeFlags&10256)!==0)),C&2048&&Fd(h.alternate,h);break;case 24:ji(c,h,x,E),C&2048&&Zf(h.alternate,h);break;default:ji(c,h,x,E)}}function rr(c,h,x,E,C){for(C=C&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var O=c,W=h,ne=x,de=E,Ie=W.flags;switch(W.tag){case 0:case 11:case 15:rr(O,W,ne,de,C),Wf(8,W);break;case 23:break;case 22:var et=W.stateNode;W.memoizedState!==null?et._visibility&4?rr(O,W,ne,de,C):gr(O,W):(et._visibility|=4,rr(O,W,ne,de,C)),C&&Ie&2048&&Fd(W.alternate,W);break;case 24:rr(O,W,ne,de,C),C&&Ie&2048&&Zf(W.alternate,W);break;default:rr(O,W,ne,de,C)}h=h.sibling}}function gr(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=c,E=h,C=E.flags;switch(E.tag){case 22:gr(x,E),C&2048&&Fd(E.alternate,E);break;case 24:gr(x,E),C&2048&&Zf(E.alternate,E);break;default:gr(x,E)}h=h.sibling}}function Ba(c){if(c.subtreeFlags&Sa)for(c=c.child;c!==null;)jd(c),c=c.sibling}function jd(c){switch(c.tag){case 26:Ba(c),c.flags&Sa&&(c.memoizedState!==null?Ax(ai,c.memoizedState,c.memoizedProps):Rr(c.type,c.memoizedProps));break;case 5:Ba(c),c.flags&Sa&&Rr(c.type,c.memoizedProps);break;case 3:case 4:if(ma){var h=ai;ai=up(c.stateNode.containerInfo),Ba(c),ai=h}else Ba(c);break;case 22:c.memoizedState===null&&(h=c.alternate,h!==null&&h.memoizedState!==null?(h=Sa,Sa=16777216,Ba(c),Sa=h):Ba(c));break;default:Ba(c)}}function Qf(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function ul(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var E=h[x];Wt=E,wg(E,c)}Qf(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)kd(c),c=c.sibling}function kd(c){switch(c.tag){case 0:case 11:case 15:ul(c),c.flags&2048&&ol(9,c,c.return);break;case 3:ul(c);break;case 12:ul(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&4&&(c.return===null||c.return.tag!==13)?(h._visibility&=-5,So(c)):ul(c);break;default:ul(c)}}function So(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var E=h[x];Wt=E,wg(E,c)}Qf(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:ol(8,h,h.return),So(h);break;case 22:x=h.stateNode,x._visibility&4&&(x._visibility&=-5,So(h));break;default:So(h)}c=c.sibling}}function wg(c,h){for(;Wt!==null;){var x=Wt;switch(x.tag){case 0:case 11:case 15:ol(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var E=x.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:qf(x.memoizedState.cache)}if(E=x.child,E!==null)E.return=x,Wt=E;else e:for(x=c;Wt!==null;){E=Wt;var C=E.sibling,O=E.return;if(Eg(E),E===x){Wt=null;break e}if(C!==null){C.return=O,Wt=C;break e}Wt=O}}}function vc(c){var h=Ky(c);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(r(364));return h}if(c=Gg(c),c===null)throw Error(r(362));return c.stateNode.current}function cl(c,h){var x=c.tag;switch(h.$$typeof){case Fc:if(c.type===h.value)return!0;break;case Wa:e:{for(h=h.value,c=[c,0],x=0;x<c.length;){var E=c[x++],C=E.tag,O=c[x++],W=h[O];if(C!==5&&C!==26&&C!==27||!Rc(E)){for(;W!=null&&cl(E,W);)O++,W=h[O];if(O===h.length){h=!0;break e}else for(E=E.child;E!==null;)c.push(E,O),E=E.sibling}}h=!1}return h;case Qn:if((x===5||x===26||x===27)&&$y(c.stateNode,h.value))return!0;break;case Ws:if((x===5||x===6||x===26||x===27)&&(c=Jy(c),c!==null&&0<=c.indexOf(h.value)))return!0;break;case _s:if((x===5||x===26||x===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Cg(c){switch(c.$$typeof){case Fc:return"<"+(o(c.value)||"Unknown")+">";case Wa:return":has("+(Cg(c)||"")+")";case Qn:return'[role="'+c.value+'"]';case Ws:return'"'+c.value+'"';case _s:return'[data-testname="'+c.value+'"]';default:throw Error(r(365))}}function Yr(c,h){var x=[];c=[c,0];for(var E=0;E<c.length;){var C=c[E++],O=C.tag,W=c[E++],ne=h[W];if(O!==5&&O!==26&&O!==27||!Rc(C)){for(;ne!=null&&cl(C,ne);)W++,ne=h[W];if(W===h.length)x.push(C);else for(C=C.child;C!==null;)c.push(C,W),C=C.sibling}}return x}function Jf(c,h){if(!xl)throw Error(r(363));c=vc(c),c=Yr(c,h),h=[],c=Array.from(c);for(var x=0;x<c.length;){var E=c[x++],C=E.tag;if(C===5||C===26||C===27)Rc(E)||h.push(E.stateNode);else for(E=E.child;E!==null;)c.push(E),E=E.sibling}return h}function pi(){if((yn&2)!==0&&fn!==0)return fn&-fn;if(Ft.T!==null){var c=ya;return c!==0?c:Ve()}return Zy()}function Rg(){Ta===0&&(Ta=(fn&536870912)===0||mn?F():536870912);var c=xa.current;return c!==null&&(c.flags|=32),Ta}function ki(c,h,x){(c===wn&&Un===2||c.cancelPendingCommit!==null)&&(ar(c,0),Kr(c,fn,Ta,!1)),G(c,x),((yn&2)===0||c!==wn)&&(c===wn&&((yn&2)===0&&(Io|=x),Vn===4&&Kr(c,fn,Ta,!1)),Qe(c))}function fl(c,h,x){if((yn&6)!==0)throw Error(r(327));var E=!x&&(h&60)===0&&(h&c.expiredLanes)===0||L(c,h),C=E?Ng(c,h):qd(c,h,!0),O=E;do{if(C===0){Ma&&!E&&Kr(c,h,0,!1);break}else if(C===6)Kr(c,h,0,!Ka);else{if(x=c.current.alternate,O&&!yc(x)){C=qd(c,h,!1),O=!1;continue}if(C===2){if(O=h,c.errorRecoveryDisabledLanes&O)var W=0;else W=c.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){h=W;e:{var ne=c;C=Su;var de=sr&&ne.current.memoizedState.isDehydrated;if(de&&(ar(ne,W).flags|=256),W=qd(ne,W,!1),W!==2){if(Bi&&!de){ne.errorRecoveryDisabledLanes|=O,Io|=O,C=4;break e}O=ci,ci=C,O!==null&&$f(O)}C=W}if(O=!1,C!==2)continue}}if(C===1){ar(c,0),Kr(c,h,0,!0);break}e:{switch(E=c,C){case 0:case 1:throw Error(r(345));case 4:if((h&4194176)===h){Kr(E,h,Ta,!Ka);break e}break;case 2:ci=null;break;case 3:case 5:break;default:throw Error(r(329))}if(E.finishedWork=x,E.finishedLanes=h,(h&62914560)===h&&(O=Or+300-ka(),10<O)){if(Kr(E,h,Ta,!Ka),U(E,0)!==0)break e;E.timeoutHandle=Ai(Gd.bind(null,E,x,ci,Sh,bp,h,Ta,Io,Ys,Ka,2,-0,0),O);break e}Gd(E,x,ci,Sh,bp,h,Ta,Io,Ys,Ka,0,-0,0)}}break}while(!0);Qe(c)}function $f(c){ci===null?ci=c:ci.push.apply(ci,c)}function Gd(c,h,x,E,C,O,W,ne,de,Ie,et,ft,pt){var Yt=h.subtreeFlags;if((Yt&8192||(Yt&16785408)===16785408)&&(jg(),jd(h),h=wi(),h!==null)){c.cancelPendingCommit=h(dl.bind(null,c,x,E,C,W,ne,de,1,ft,pt)),Kr(c,O,W,!Ie);return}dl(c,x,E,C,W,ne,de,et,ft,pt)}function yc(c){for(var h=c;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var E=0;E<x.length;E++){var C=x[E],O=C.getSnapshot;C=C.value;try{if(!Qr(O(),C))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Kr(c,h,x,E){h&=~_h,h&=~Io,c.suspendedLanes|=h,c.pingedLanes&=~h,E&&(c.warmLanes|=h),E=c.expirationTimes;for(var C=h;0<C;){var O=31-Dr(C),W=1<<O;E[O]=-1,C&=~W}x!==0&&ie(c,x,h)}function eh(){return(yn&6)===0?(Nt(0),!1):!0}function xc(){if(It!==null){if(Un===0)var c=It.return;else c=It,_a=bs=null,q(c),Tl=null,Al=0,c=It;for(;c!==null;)Hy(c.alternate,c),c=c.return;It=null}}function ar(c,h){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;x!==vl&&(c.timeoutHandle=vl,ep(x)),x=c.cancelPendingCommit,x!==null&&(c.cancelPendingCommit=null,x()),xc(),wn=c,It=x=Va(c.current,null),fn=h,Un=0,yr=null,Ka=!1,Ma=L(c,h),Bi=!1,Ys=Ta=_h=Io=Ea=Vn=0,ci=Su=null,bp=!1,(h&8)!==0&&(h|=h&32);var E=c.entangledLanes;if(E!==0)for(c=c.entanglements,E&=h;0<E;){var C=31-Dr(E),O=1<<C;h|=c[C],E&=~O}return xr=h,De(),x}function ha(c,h){tn=null,Ft.H=li,h===Bc?(h=_t(),Un=3):h===xh?(h=_t(),Un=4):Un=h===yp?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,yr=h,It===null&&(Vn=1,cc(c,me(h,c.current)))}function hl(){var c=xa.current;return c===null?!0:(fn&4194176)===fn?Bn===null:(fn&62914560)===fn||(fn&536870912)!==0?c===Bn:!1}function Ls(){var c=Ft.H;return Ft.H=li,c===null?li:c}function Is(){var c=Ft.A;return Ft.A=Hc,c}function Mo(){Vn=4,Ka||(fn&4194176)!==fn&&xa.current!==null||(Ma=!0),(Ea&134217727)===0&&(Io&134217727)===0||wn===null||Kr(wn,fn,Ta,!1)}function qd(c,h,x){var E=yn;yn|=2;var C=Ls(),O=Is();(wn!==c||fn!==h)&&(Sh=null,ar(c,h)),h=!1;var W=Vn;e:do try{if(Un!==0&&It!==null){var ne=It,de=yr;switch(Un){case 8:xc(),W=6;break e;case 3:case 2:case 6:xa.current===null&&(h=!0);var Ie=Un;if(Un=0,yr=null,za(c,ne,de,Ie),x&&Ma){W=0;break e}break;default:Ie=Un,Un=0,yr=null,za(c,ne,de,Ie)}}Dg(),W=Vn;break}catch(et){ha(c,et)}while(!0);return h&&c.shellSuspendCounter++,_a=bs=null,yn=E,Ft.H=C,Ft.A=O,It===null&&(wn=null,fn=0,De()),W}function Dg(){for(;It!==null;)ri(It)}function Ng(c,h){var x=yn;yn|=2;var E=Ls(),C=Is();wn!==c||fn!==h?(Sh=null,jc=ka()+500,ar(c,h)):Ma=L(c,h);e:do try{if(Un!==0&&It!==null){h=It;var O=yr;t:switch(Un){case 1:Un=0,yr=null,za(c,h,O,1);break;case 2:if(mt(O)){Un=0,yr=null,bn(h);break}h=function(){Un===2&&wn===c&&(Un=7),Qe(c)},O.then(h,h);break e;case 3:Un=7;break e;case 4:Un=5;break e;case 7:mt(O)?(Un=0,yr=null,bn(h)):(Un=0,yr=null,za(c,h,O,7));break;case 5:var W=null;switch(It.tag){case 26:W=It.memoizedState;case 5:case 27:var ne=It,de=ne.type,Ie=ne.pendingProps;if(W?lu(W):tp(de,Ie)){Un=0,yr=null;var et=ne.sibling;if(et!==null)It=et;else{var ft=ne.return;ft!==null?(It=ft,da(ft)):It=null}break t}}Un=0,yr=null,za(c,h,O,5);break;case 6:Un=0,yr=null,za(c,h,O,6);break;case 8:xc(),Vn=6;break e;default:throw Error(r(462))}}wr();break}catch(pt){ha(c,pt)}while(!0);return _a=bs=null,Ft.H=E,Ft.A=C,yn=x,It!==null?0:(wn=null,fn=0,De(),Vn)}function wr(){for(;It!==null&&!Dx();)ri(It)}function ri(c){var h=By(c.alternate,c,xr);c.memoizedProps=c.pendingProps,h===null?da(c):It=h}function bn(c){var h=c,x=h.alternate;switch(h.tag){case 15:case 0:h=Ny(x,h,h.pendingProps,h.type,void 0,fn);break;case 11:h=Ny(x,h,h.pendingProps,h.type.render,h.ref,fn);break;case 5:q(h);default:Hy(x,h),h=It=nh(h,xr),h=By(x,h,xr)}c.memoizedProps=c.pendingProps,h===null?da(c):It=h}function za(c,h,x,E){_a=bs=null,q(h),Tl=null,Al=0;var C=h.return;try{if(cM(c,C,h,x,fn)){Vn=1,cc(c,me(x,c.current)),It=null;return}}catch(O){if(C!==null)throw It=C,O;Vn=1,cc(c,me(x,c.current)),It=null;return}h.flags&32768?(mn||E===1?c=!0:Ma||(fn&536870912)!==0?c=!1:(Ka=c=!0,(E===2||E===3||E===6)&&(E=xa.current,E!==null&&E.tag===13&&(E.flags|=16384))),Xd(h,c)):da(h)}function da(c){var h=c;do{if((h.flags&32768)!==0){Xd(h,Ka);return}c=h.return;var x=Vy(h.alternate,h,xr);if(x!==null){It=x;return}if(h=h.sibling,h!==null){It=h;return}It=h=c}while(h!==null);Vn===0&&(Vn=5)}function Xd(c,h){do{var x=hM(c.alternate,c);if(x!==null){x.flags&=32767,It=x;return}if(x=c.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(c=c.sibling,c!==null)){It=c;return}It=c=x}while(c!==null);Vn=6,It=null}function dl(c,h,x,E,C,O,W,ne,de,Ie){var et=Ft.T,ft=Ro();try{vr(2),Ft.T=null,Gy(c,h,x,E,ft,C,O,W,ne,de,Ie)}finally{Ft.T=et,vr(ft)}}function Gy(c,h,x,E,C,O,W,ne){do hs();while(Ks!==null);if((yn&6)!==0)throw Error(r(327));var de=c.finishedWork;if(E=c.finishedLanes,de===null)return null;if(c.finishedWork=null,c.finishedLanes=0,de===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Ie=de.lanes|de.childLanes;if(Ie|=ys,ee(c,E,Ie,O,W,ne),c===wn&&(It=wn=null,fn=0),(de.subtreeFlags&10256)===0&&(de.flags&10256)===0||Ss||(Ss=!0,Nl=Ie,_p=x,To(pp,function(){return hs(),null})),x=(de.flags&15990)!==0,(de.subtreeFlags&15990)!==0||x?(x=Ft.T,Ft.T=null,O=Ro(),vr(2),W=yn,yn|=4,Kf(c,de),Tg(de,c),Yy(c.containerInfo),c.current=de,Vd(c,de.alternate,de),hp(),yn=W,vr(O),Ft.T=x):c.current=de,Ss?(Ss=!1,Ks=c,Mu=E):Og(c,Ie),Ie=c.pendingLanes,Ie===0&&(Dl=null),X(de.stateNode),Qe(c),h!==null)for(C=c.onRecoverableError,de=0;de<h.length;de++)Ie=h[de],C(Ie.value,{componentStack:Ie.stack});return(Mu&3)!==0&&hs(),Ie=c.pendingLanes,(E&4194218)!==0&&(Ie&42)!==0?c===Sp?kc++:(kc=0,Sp=c):kc=0,Nt(0),null}function Og(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,qf(h)))}function hs(){if(Ks!==null){var c=Ks,h=Nl;Nl=0;var x=ue(Mu),E=32>x?32:x;x=Ft.T;var C=Ro();try{if(vr(E),Ft.T=null,Ks===null)var O=!1;else{E=_p,_p=null;var W=Ks,ne=Mu;if(Ks=null,Mu=0,(yn&6)!==0)throw Error(r(331));var de=yn;if(yn|=4,kd(W.current),Ag(W,W.current,ne,E),yn=de,Nt(0,!1),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(vi,W)}catch{}O=!0}return O}finally{vr(C),Ft.T=x,Og(c,h)}}return!1}function bc(c,h,x){h=me(x,h),h=hc(c.stateNode,h,2),c=at(c,h,2),c!==null&&(G(c,2),Qe(c))}function Tn(c,h,x){if(c.tag===3)bc(c,c,x);else for(;h!==null;){if(h.tag===3){bc(h,c,x);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Dl===null||!Dl.has(E))){c=me(x,c),x=fg(2),E=at(h,x,2),E!==null&&(Ay(x,E,h,c),G(E,2),Qe(E));break}}h=h.return}}function au(c,h,x){var E=c.pingCache;if(E===null){E=c.pingCache=new Ya;var C=new Set;E.set(h,C)}else C=E.get(h),C===void 0&&(C=new Set,E.set(h,C));C.has(x)||(Bi=!0,C.add(x),c=Pg.bind(null,c,h,x),h.then(c,c))}function Pg(c,h,x){var E=c.pingCache;E!==null&&E.delete(h),c.pingedLanes|=c.suspendedLanes&x,c.warmLanes&=~x,wn===c&&(fn&x)===x&&(Vn===4||Vn===3&&(fn&62914560)===fn&&300>ka()-Or?(yn&2)===0&&ar(c,0):_h|=x,Ys===fn&&(Ys=0)),Qe(c)}function pl(c,h){h===0&&(h=B()),c=we(c,h),c!==null&&(G(c,h),Qe(c))}function Eo(c){var h=c.memoizedState,x=0;h!==null&&(x=h.retryLane),pl(c,x)}function ml(c,h){var x=0;switch(c.tag){case 13:var E=c.stateNode,C=c.memoizedState;C!==null&&(x=C.retryLane);break;case 19:E=c.stateNode;break;case 22:E=c.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(h),pl(c,x)}function To(c,h){return gh(c,h)}function Ug(c,h,x,E){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function th(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Va(c,h){var x=c.alternate;return x===null?(x=n(c.tag,h,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=h,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&31457280,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,h=c.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x.refCleanup=c.refCleanup,x}function nh(c,h){c.flags&=31457282;var x=c.alternate;return x===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=x.childLanes,c.lanes=x.lanes,c.child=x.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=x.memoizedProps,c.memoizedState=x.memoizedState,c.updateQueue=x.updateQueue,c.type=x.type,h=x.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function Bs(c,h,x,E,C,O){var W=0;if(E=c,typeof c=="function")th(c)&&(W=1);else if(typeof c=="string")W=ma&&In?dh(c,x,Li.current)?26:Vs(c)?27:5:ma?dh(c,x,Li.current)?26:5:In&&Vs(c)?27:5;else e:switch(c){case gl:return oi(x.children,C,O,h);case sh:W=8,C|=24;break;case Zd:return c=n(12,x,h,C|2),c.elementType=Zd,c.lanes=O,c;case Qd:return c=n(13,x,h,C),c.elementType=Qd,c.lanes=O,c;case Ec:return c=n(19,x,h,C),c.elementType=Ec,c.lanes=O,c;case Bg:return ih(x,C,O,h);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case oh:case ds:W=10;break e;case Ig:W=9;break e;case lh:W=11;break e;case Jd:W=14;break e;case Fa:W=16,E=null;break e}W=29,x=Error(r(130,c===null?"null":typeof c,"")),E=null}return h=n(W,x,h,C),h.elementType=c,h.type=E,h.lanes=O,h}function oi(c,h,x,E){return c=n(7,c,E,h),c.lanes=x,c}function ih(c,h,x,E){c=n(22,c,E,h),c.elementType=Bg,c.lanes=x;var C={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=C._current;if(O===null)throw Error(r(456));if((C._pendingVisibility&2)===0){var W=we(O,2);W!==null&&(C._pendingVisibility|=2,ki(W,O,2))}},attach:function(){var O=C._current;if(O===null)throw Error(r(456));if((C._pendingVisibility&2)!==0){var W=we(O,2);W!==null&&(C._pendingVisibility&=-3,ki(W,O,2))}}};return c.stateNode=C,c}function Wd(c,h,x){return c=n(6,c,null,h),c.lanes=x,c}function Lg(c,h,x){return h=n(4,c.children!==null?c.children:[],c.key,h),h.lanes=x,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}function dM(c,h,x,E,C,O,W,ne){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=vl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=E,this.onUncaughtError=C,this.onCaughtError=O,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function qy(c,h,x,E,C,O,W,ne,de,Ie,et,ft){return c=new dM(c,h,x,W,ne,de,Ie,ft),h=1,O===!0&&(h|=24),O=n(3,null,null,h),c.current=O,O.stateNode=c,h=sl(),h.refCount++,c.pooledCache=h,h.refCount++,O.memoizedState={element:E,isDehydrated:x,cache:h},yt(O),c}function Ti(c){return c?(c=Sl,c):Sl}function Yd(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=b(h),c=c!==null?_(c):null,c===null?null:wc(c.stateNode)}function _c(c,h,x,E,C,O){C=Ti(C),E.context===null?E.context=C:E.pendingContext=C,E=qe(h),E.payload={element:x},O=O===void 0?null:O,O!==null&&(E.callback=O),x=at(c,E,h),x!==null&&(ki(x,c,h),At(x,c,h))}function Sc(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<h?x:h}}function rh(c,h){Sc(c,h),(c=c.alternate)&&Sc(c,h)}var Zt={},Mc=bd(),pa=d5(),Kd=Object.assign,pM=Symbol.for("react.element"),ah=Symbol.for("react.transitional.element"),Ha=Symbol.for("react.portal"),gl=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),Zd=Symbol.for("react.profiler"),oh=Symbol.for("react.provider"),Ig=Symbol.for("react.consumer"),ds=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),Qd=Symbol.for("react.suspense"),Ec=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),Bg=Symbol.for("react.offscreen"),Xy=Symbol.for("react.memo_cache_sentinel"),Ao=Symbol.iterator,zg=Symbol.for("react.client.reference"),Ft=Mc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zs,wo,su=!1,Tc=Array.isArray,Vg=e.rendererVersion,uh=e.rendererPackageName,Ac=e.extraDevToolsConfig,wc=e.getPublicInstance,Wy=e.getRootHostContext,Cc=e.getChildHostContext,$d=e.prepareForCommit,Yy=e.resetAfterCommit,Hg=e.createInstance,ch=e.appendInitialChild,Co=e.finalizeInitialChildren,Qt=e.shouldSetTextContent,On=e.createTextInstance,Ai=e.scheduleTimeout,ep=e.cancelTimeout,vl=e.noTimeout,Cr=e.isPrimaryRenderer;e.warnsIfNotActing;var Ui=e.supportsMutation,ja=e.supportsPersistence,sr=e.supportsHydration,Ky=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var mi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var vr=e.setCurrentUpdatePriority,Ro=e.getCurrentUpdatePriority,Zy=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Qy=e.shouldAttemptEagerTransition,mM=e.detachDeletedInstance;e.requestPostPaintCallback;var Fg=e.maySuspendCommit,tp=e.preloadInstance,jg=e.startSuspendingCommit,Rr=e.suspendInstance,wi=e.waitForCommitToBeReady,yl=e.NotPendingTransition,ps=e.HostTransitionContext,np=e.resetFormInstance;e.bindToConsole;var kg=e.supportsMicrotasks,Do=e.scheduleMicrotask,xl=e.supportsTestSelectors,Gg=e.findFiberRoot,qg=e.getBoundingRect,Jy=e.getTextContent,Rc=e.isHiddenSubtree,$y=e.matchAccessibilityRole,ex=e.setFocusIfFocusable,tx=e.setupIntersectionObserver,nx=e.appendChild,Xg=e.appendChildToContainer,ix=e.commitTextUpdate,gM=e.commitMount,rx=e.commitUpdate,ax=e.insertBefore,sx=e.insertInContainerBefore,Wg=e.removeChild,ox=e.removeChildFromContainer,Yg=e.resetTextContent,lx=e.hideInstance,ux=e.hideTextInstance,cx=e.unhideInstance,vM=e.unhideTextInstance,fx=e.clearContainer,Dc=e.cloneInstance,fh=e.createContainerChildSet,Kg=e.appendChildToContainerChildSet,ip=e.finalizeContainerChildren,Nc=e.replaceContainerChildren,Zg=e.cloneHiddenInstance,Qg=e.cloneHiddenTextInstance,rp=e.isSuspenseInstancePending,ap=e.isSuspenseInstanceFallback,hx=e.getSuspenseInstanceFallbackErrorDetails,dx=e.registerSuspenseInstanceRetry,Jg=e.canHydrateFormStateMarker,px=e.isFormStateMarkerMatching,$g=e.getNextHydratableSibling,sp=e.getFirstHydratableChild,mx=e.getFirstHydratableChildWithinContainer,gx=e.getFirstHydratableChildWithinSuspenseInstance,yM=e.canHydrateInstance,ev=e.canHydrateTextInstance,vx=e.canHydrateSuspenseInstance,yx=e.hydrateInstance,tv=e.hydrateTextInstance,xx=e.hydrateSuspenseInstance,bx=e.getNextHydratableInstanceAfterSuspenseInstance,xM=e.commitHydratedContainer,bM=e.commitHydratedSuspenseInstance,_x=e.clearSuspenseBoundary,hh=e.clearSuspenseBoundaryFromContainer,op=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var lp=e.validateHydratableInstance,Sx=e.validateHydratableTextInstance,ma=e.supportsResources,dh=e.isHostHoistableType,up=e.getHoistableRoot,nv=e.getResource,Mx=e.acquireResource,ou=e.releaseResource,ph=e.hydrateHoistable,mh=e.mountHoistable,Oc=e.unmountHoistable,cp=e.createHoistableInstance,Ex=e.prepareToCommitHoistables,Tx=e.mayResourceSuspendCommit,lu=e.preloadResource,Ax=e.suspendResource,In=e.supportsSingletons,ms=e.resolveSingletonInstance,bl=e.clearSingleton,wx=e.acquireSingletonInstance,_l=e.releaseSingletonInstance,Vs=e.isHostSingletonType,gi=[],No=-1,Sl={},Dr=Math.clz32?Math.clz32:D,Cx=Math.log,Rx=Math.LN2,Hs=128,uu=4194304,gh=pa.unstable_scheduleCallback,fp=pa.unstable_cancelCallback,Dx=pa.unstable_shouldYield,hp=pa.unstable_requestPaint,ka=pa.unstable_now,dp=pa.unstable_ImmediatePriority,Nx=pa.unstable_UserBlockingPriority,pp=pa.unstable_NormalPriority,_M=pa.unstable_IdlePriority,Ox=pa.log,Gi=pa.unstable_setDisableYieldValue,vi=null,Zr=null,Qr=typeof Object.is=="function"?Object.is:$,iv=new WeakMap,cu=[],fu=0,hu=null,Pc=0,ga=[],va=0,Ml=null,gs=1,vs="",Li=T(null),Uc=T(null),Fs=T(null),du=T(null),or=null,lr=null,mn=!1,Ga=null,qi=!1,vh=Error(r(519)),qa=[],pu=0,ys=0,yh=null,Oo=null,mu=!1,kn=!1,rv=!1,Lc=0,Ic=null,gu=0,ya=0,vu=null,Po=!1,yu=!1,js=Object.prototype.hasOwnProperty,Bc=Error(r(460)),xh=Error(r(474)),bh={then:function(){}},El=null,Tl=null,Al=0,wl=Si(!0),ks=Si(!1),Gn=T(null),zc=T(0),xa=T(null),Bn=null,Ii=T(0),Uo=0,tn=null,Ut=null,vn=null,Xa=!1,xu=!1,Cl=!1,mp=0,bu=0,Xi=null,xs=0,gp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},li={readContext:nr,use:fe,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useLayoutEffect:jn,useInsertionEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useSyncExternalStore:jn,useId:jn};li.useCacheRefresh=jn,li.useMemoCache=jn,li.useHostTransitionStatus=jn,li.useFormState=jn,li.useActionState=jn,li.useOptimistic=jn;var Rl={readContext:nr,use:fe,useCallback:function(c,h){return le().memoizedState=[c,h===void 0?null:h],c},useContext:nr,useEffect:wd,useImperativeHandle:function(c,h,x){x=x!=null?x.concat([c]):null,Pf(4194308,4,Cd.bind(null,h,c),x)},useLayoutEffect:function(c,h){return Pf(4194308,4,c,h)},useInsertionEffect:function(c,h){Pf(4,2,c,h)},useMemo:function(c,h){var x=le();h=h===void 0?null:h;var E=c();if(Cl){Q(!0);try{c()}finally{Q(!1)}}return x.memoizedState=[E,h],E},useReducer:function(c,h,x){var E=le();if(x!==void 0){var C=x(h);if(Cl){Q(!0);try{x(h)}finally{Q(!1)}}}else C=h;return E.memoizedState=E.baseState=C,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:C},E.queue=c,c=c.dispatch=Dd.bind(null,tn,c),[E.memoizedState,c]},useRef:function(c){var h=le();return c={current:c},h.memoizedState=c},useState:function(c){c=Kt(c);var h=c.queue,x=cg.bind(null,tn,h);return h.dispatch=x,[c.memoizedState,x]},useDebugValue:tl,useDeferredValue:function(c,h){var x=le();return If(x,c,h)},useTransition:function(){var c=Kt(!1);return c=ac.bind(null,tn,c.queue,!0,!1),le().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,x){var E=tn,C=le();if(mn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),wn===null)throw Error(r(349));(fn&60)!==0||Tt(E,h,x)}C.memoizedState=x;var O={value:x,getSnapshot:h};return C.queue=O,wd(gn.bind(null,E,O,c),[c]),E.flags|=2048,Pi(9,Jt.bind(null,E,O,x,h),{destroy:void 0},null),x},useId:function(){var c=le(),h=wn.identifierPrefix;if(mn){var x=vs,E=gs;x=(E&~(1<<32-Dr(E)-1)).toString(32)+x,h=":"+h+"R"+x,x=mp++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=xs++,h=":"+h+"r"+x.toString(32)+":";return c.memoizedState=h},useCacheRefresh:function(){return le().memoizedState=ug.bind(null,tn)}};Rl.useMemoCache=Ze,Rl.useHostTransitionStatus=Bf,Rl.useFormState=mr,Rl.useActionState=mr,Rl.useOptimistic=function(c){var h=le();h.memoizedState=h.baseState=c;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=oc.bind(null,tn,!0,x),x.dispatch=h,[c,h]};var Nr={readContext:nr,use:fe,useCallback:nu,useContext:nr,useEffect:sg,useImperativeHandle:Rd,useInsertionEffect:Ey,useLayoutEffect:Lf,useMemo:og,useReducer:gt,useRef:My,useState:function(){return gt(rt)},useDebugValue:tl,useDeferredValue:function(c,h){var x=xe();return lg(x,Ut.memoizedState,c,h)},useTransition:function(){var c=gt(rt)[0],h=xe().memoizedState;return[typeof c=="boolean"?c:Ee(c),h]},useSyncExternalStore:Pt,useId:sc};Nr.useCacheRefresh=po,Nr.useMemoCache=Ze,Nr.useHostTransitionStatus=Bf,Nr.useFormState=$i,Nr.useActionState=$i,Nr.useOptimistic=function(c,h){var x=xe();return Rt(x,Ut,c,h)};var ba={readContext:nr,use:fe,useCallback:nu,useContext:nr,useEffect:sg,useImperativeHandle:Rd,useInsertionEffect:Ey,useLayoutEffect:Lf,useMemo:og,useReducer:Ct,useRef:My,useState:function(){return Ct(rt)},useDebugValue:tl,useDeferredValue:function(c,h){var x=xe();return Ut===null?If(x,c,h):lg(x,Ut.memoizedState,c,h)},useTransition:function(){var c=Ct(rt)[0],h=xe().memoizedState;return[typeof c=="boolean"?c:Ee(c),h]},useSyncExternalStore:Pt,useId:sc};ba.useCacheRefresh=po,ba.useMemoCache=Ze,ba.useHostTransitionStatus=Bf,ba.useFormState=tu,ba.useActionState=tu,ba.useOptimistic=function(c,h){var x=xe();return Ut!==null?Rt(x,Ut,c,h):(x.baseState=c,[c,x.queue.dispatch])};var Gs={isMounted:function(c){return(c=c._reactInternals)?g(c)===c:!1},enqueueSetState:function(c,h,x){c=c._reactInternals;var E=pi(),C=qe(E);C.payload=h,x!=null&&(C.callback=x),h=at(c,C,E),h!==null&&(ki(h,c,E),At(h,c,E))},enqueueReplaceState:function(c,h,x){c=c._reactInternals;var E=pi(),C=qe(E);C.tag=1,C.payload=h,x!=null&&(C.callback=x),h=at(c,C,E),h!==null&&(ki(h,c,E),At(h,c,E))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var x=pi(),E=qe(x);E.tag=2,h!=null&&(E.callback=h),h=at(c,E,x),h!==null&&(ki(h,c,x),At(h,c,x))}},vp=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},yp=Error(r(461)),zn=!1,xp={dehydrated:null,treeContext:null,retryLane:0},Lo=T(null),bs=null,_a=null,Vc=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(x,E){c.push(E)}};this.abort=function(){h.aborted=!0,c.forEach(function(x){return x()})}},Px=pa.unstable_scheduleCallback,Ux=pa.unstable_NormalPriority,qn={$$typeof:ds,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},av=Ft.S;Ft.S=function(c,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&Re(c,h),av!==null&&av(c,h)};var qs=T(null),Xs=!1,ui=!1,sv=!1,An=typeof WeakSet=="function"?WeakSet:Set,Wt=null,ln=!1,Ot=null,$t=!1,ai=null,Sa=8192,Hc={getCacheForType:function(c){var h=nr(qn),x=h.data.get(c);return x===void 0&&(x=c(),h.data.set(c,x)),x}},Fc=0,Wa=1,Qn=2,_s=3,Ws=4;if(typeof Symbol=="function"&&Symbol.for){var _u=Symbol.for;Fc=_u("selector.component"),Wa=_u("selector.has_pseudo_class"),Qn=_u("selector.role"),_s=_u("selector.test_id"),Ws=_u("selector.text")}var Ya=typeof WeakMap=="function"?WeakMap:Map,yn=0,wn=null,It=null,fn=0,Un=0,yr=null,Ka=!1,Ma=!1,Bi=!1,xr=0,Vn=0,Ea=0,Io=0,_h=0,Ta=0,Ys=0,Su=null,ci=null,bp=!1,Or=0,jc=1/0,Sh=null,Dl=null,Ss=!1,Ks=null,Mu=0,Nl=0,_p=null,kc=0,Sp=null;return Zt.attemptContinuousHydration=function(c){if(c.tag===13){var h=we(c,67108864);h!==null&&ki(h,c,67108864),rh(c,67108864)}},Zt.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var h=pi(),x=we(c,h);x!==null&&ki(x,c,h),rh(c,h)}},Zt.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=N(c.pendingLanes);if(h!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;h;){var x=1<<31-Dr(h);c.entanglements[1]|=x,h&=~x}Qe(c),(yn&6)===0&&(jc=ka()+500,Nt(0))}}break;case 13:h=we(c,2),h!==null&&ki(h,c,2),eh(),rh(c,2)}},Zt.batchedUpdates=function(c,h){return c(h)},Zt.createComponentSelector=function(c){return{$$typeof:Fc,value:c}},Zt.createContainer=function(c,h,x,E,C,O,W,ne,de,Ie){return qy(c,h,!1,null,x,E,O,W,ne,de,Ie,null)},Zt.createHasPseudoClassSelector=function(c){return{$$typeof:Wa,value:c}},Zt.createHydrationContainer=function(c,h,x,E,C,O,W,ne,de,Ie,et,ft,pt){return c=qy(x,E,!0,c,C,O,ne,de,Ie,et,ft,pt),c.context=Ti(null),x=c.current,E=pi(),C=qe(E),C.callback=h??null,at(x,C,E),c.current.lanes=E,G(c,E),Qe(c),c},Zt.createPortal=function(c,h,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:E==null?null:""+E,children:c,containerInfo:h,implementation:x}},Zt.createRoleSelector=function(c){return{$$typeof:Qn,value:c}},Zt.createTestNameSelector=function(c){return{$$typeof:_s,value:c}},Zt.createTextSelector=function(c){return{$$typeof:Ws,value:c}},Zt.defaultOnCaughtError=function(c){console.error(c)},Zt.defaultOnRecoverableError=function(c){vp(c)},Zt.defaultOnUncaughtError=function(c){vp(c)},Zt.deferredUpdates=function(c){var h=Ft.T,x=Ro();try{return vr(32),Ft.T=null,c()}finally{vr(x),Ft.T=h}},Zt.discreteUpdates=function(c,h,x,E,C){var O=Ft.T,W=Ro();try{return vr(2),Ft.T=null,c(h,x,E,C)}finally{vr(W),Ft.T=O,yn===0&&(jc=ka()+500)}},Zt.findAllNodes=Jf,Zt.findBoundingRects=function(c,h){if(!xl)throw Error(r(363));h=Jf(c,h),c=[];for(var x=0;x<h.length;x++)c.push(qg(h[x]));for(h=c.length-1;0<h;h--){x=c[h];for(var E=x.x,C=E+x.width,O=x.y,W=O+x.height,ne=h-1;0<=ne;ne--)if(h!==ne){var de=c[ne],Ie=de.x,et=Ie+de.width,ft=de.y,pt=ft+de.height;if(E>=Ie&&O>=ft&&C<=et&&W<=pt){c.splice(h,1);break}else if(E!==Ie||x.width!==de.width||pt<O||ft>W){if(!(O!==ft||x.height!==de.height||et<E||Ie>C)){Ie>E&&(de.width+=Ie-E,de.x=E),et<C&&(de.width=C-Ie),c.splice(h,1);break}}else{ft>O&&(de.height+=ft-O,de.y=O),pt<W&&(de.height=W-ft),c.splice(h,1);break}}}return c},Zt.findHostInstance=Yd,Zt.findHostInstanceWithNoPortals=function(c){return c=b(c),c=c!==null?A(c):null,c===null?null:wc(c.stateNode)},Zt.findHostInstanceWithWarning=function(c){return Yd(c)},Zt.flushPassiveEffects=hs,Zt.flushSyncFromReconciler=function(c){var h=yn;yn|=1;var x=Ft.T,E=Ro();try{if(vr(2),Ft.T=null,c)return c()}finally{vr(E),Ft.T=x,yn=h,(yn&6)===0&&Nt(0)}},Zt.flushSyncWork=eh,Zt.focusWithin=function(c,h){if(!xl)throw Error(r(363));for(c=vc(c),h=Yr(c,h),h=Array.from(h),c=0;c<h.length;){var x=h[c++],E=x.tag;if(!Rc(x)){if((E===5||E===26||E===27)&&ex(x.stateNode))return!0;for(x=x.child;x!==null;)h.push(x),x=x.sibling}}return!1},Zt.getFindAllNodesFailureDescription=function(c,h){if(!xl)throw Error(r(363));var x=0,E=[];c=[vc(c),0];for(var C=0;C<c.length;){var O=c[C++],W=O.tag,ne=c[C++],de=h[ne];if((W!==5&&W!==26&&W!==27||!Rc(O))&&(cl(O,de)&&(E.push(Cg(de)),ne++,ne>x&&(x=ne)),ne<h.length))for(O=O.child;O!==null;)c.push(O,ne),O=O.sibling}if(x<h.length){for(c=[];x<h.length;x++)c.push(Cg(h[x]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},Zt.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return wc(c.child.stateNode);default:return c.child.stateNode}},Zt.injectIntoDevTools=function(){var c={bundleType:0,version:Vg,rendererPackageName:uh,currentDispatcherRef:Ft,findFiberByHostInstance:Ky,reconcilerVersion:"19.0.0"};if(Ac!==null&&(c.rendererConfig=Ac),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)c=!0;else{try{vi=h.inject(c),Zr=h}catch{}c=!!h.checkDCE}}return c},Zt.isAlreadyRendering=function(){return!1},Zt.observeVisibleRects=function(c,h,x,E){if(!xl)throw Error(r(363));c=Jf(c,h);var C=tx(c,x,E).disconnect;return{disconnect:function(){C()}}},Zt.shouldError=function(){return null},Zt.shouldSuspend=function(){return!1},Zt.startHostTransition=function(c,h,x,E){if(c.tag!==5)throw Error(r(476));var C=Us(c).queue;ac(c,C,h,yl,x===null?i:function(){var O=Us(c).next.queue;return nl(c,O,{},pi()),x(E)})},Zt.updateContainer=function(c,h,x,E){var C=h.current,O=pi();return _c(C,O,c,h,x,E),O},Zt.updateContainerSync=function(c,h,x,E){return h.tag===0&&hs(),_c(h.current,2,c,h,x,E),2},Zt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(fT)),fT.exports}var $O;function P$(){return $O||($O=1,cT.exports=O$()),cT.exports}var U$=P$();const L$=Jo(U$);var eP=d5();function NC(t,e,n){if(!t)return;if(n(t)===!0)return t;let i=e?t.return:t.child;for(;i;){const r=NC(i,e,n);if(r)return r;i=e?null:i.sibling}}function p5(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const OC=p5(H.createContext(null));class m5 extends H.Component{render(){return H.createElement(OC.Provider,{value:this._reactInternals},this.props.children)}}function g5(){const t=H.useContext(OC);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const i=NC(n,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}const I$=Symbol.for("react.context"),B$=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===I$;function z$(){const t=g5(),[e]=H.useState(()=>new Map);e.clear();let n=t;for(;n;){const i=n.type;B$(i)&&i!==OC&&!e.has(i)&&e.set(i,H.use(p5(i))),n=n.return}return e}function V$(){const t=z$();return H.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>i=>H.createElement(e,null,H.createElement(n.Provider,{...i,value:t.get(n)})),e=>H.createElement(m5,{...e})),[t])}function v5(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const y5=t=>t&&t.isOrthographicCamera,H$=t=>t&&t.hasOwnProperty("current"),F$=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),sy=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function x5(t){const e=H.useRef(t);return sy(()=>void(e.current=t),[t]),e}function j$(){const t=g5(),e=V$();return H.useMemo(()=>({children:n})=>{const r=!!NC(t,!0,a=>a.type===H.StrictMode)?H.StrictMode:H.Fragment;return P.jsx(r,{children:P.jsx(e,{children:n})})},[t,e])}function k$({set:t}){return sy(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const G$=(t=>(t=class extends H.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function b5(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}function Kp(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const xi={obj:t=>t===Object(t)&&!xi.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:i="reference",strict:r=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(xi.str(t)||xi.num(t)||xi.boo(t))return t===e;const a=xi.obj(t);if(a&&i==="reference")return t===e;const o=xi.arr(t);if(o&&n==="reference")return t===e;if((o||a)&&t===e)return!0;let u;for(u in t)if(!(u in e))return!1;if(a&&n==="shallow"&&i==="shallow"){for(u in r?e:t)if(!xi.equ(t[u],e[u],{strict:r,objects:"reference"}))return!1}else for(u in r?e:t)if(t[u]!==e[u])return!1;if(xi.und(u)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function q$(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const n=t[e];n?.type!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const _5=["children","key","ref"];function X$(t){const e={};for(const n in t)_5.includes(n)||(e[n]=t[n]);return e}function cS(t,e,n,i){const r=t;let a=r?.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:X$(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function D0(t,e){let n=t[e];if(!e.includes("-"))return{root:t,key:e,target:n};n=t;for(const r of e.split("-")){var i;e=r,t=n,n=(i=n)==null?void 0:i[e]}return{root:t,key:e,target:n}}const tP=/-\d+$/;function fS(t,e){if(xi.str(e.props.attach)){if(tP.test(e.props.attach)){const r=e.props.attach.replace(tP,""),{root:a,key:o}=D0(t.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:n,key:i}=D0(t.object,e.props.attach);e.previousAttach=n[i],n[i]=e.object}else xi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function hS(t,e){if(xi.str(e.props.attach)){const{root:n,key:i}=D0(t.object,e.props.attach),r=e.previousAttach;r===void 0?delete n[i]:n[i]=r}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const Rw=[..._5,"args","dispose","attach","object","onUpdate","dispose"],nP=new Map;function W$(t){let e=nP.get(t.constructor);try{e||(e=new t.constructor,nP.set(t.constructor,e))}catch{}return e}function Y$(t,e){const n={};for(const i in e)if(!Rw.includes(i)&&!xi.equ(e[i],t.props[i])){n[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(n[r]=e[r])}for(const i in t.props){if(Rw.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=D0(t.object,i);if(r.constructor&&r.constructor.length===0){const o=W$(r);xi.und(o)||(n[a]=o[a])}else n[a]=0}return n}const K$=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Z$=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function uf(t,e){var n;const i=t.__r3f,r=i&&v5(i).getState(),a=i?.eventCount;for(const u in e){let f=e[u];if(Rw.includes(u))continue;if(i&&Z$.test(u)){typeof f=="function"?i.handlers[u]=f:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(f===void 0)continue;let{root:d,key:m,target:g}=D0(t,u);if(g instanceof Em&&f instanceof Em)g.mask=f.mask;else if(g instanceof vt&&F$(f))g.set(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&f!=null&&f.constructor&&g.constructor===f.constructor)g.copy(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(f))typeof g.fromArray=="function"?g.fromArray(f):g.set(...f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof f=="number")typeof g.setScalar=="function"?g.setScalar(f):g.set(f);else{var o;d[m]=f,r&&!r.linear&&K$.includes(m)&&(o=d[m])!=null&&o.isTexture&&d[m].format===ra&&d[m].type===oo&&(d[m].colorSpace=na)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(n=i.object)!=null&&n.isObject3D&&a!==i.eventCount){const u=i.object,f=r.internal.interaction.indexOf(u);f>-1&&r.internal.interaction.splice(f,1),i.eventCount&&u.raycast!==null&&r.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&Xm(i),t}function Xm(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const n=(e=t.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function Q$(t,e){t.manual||(y5(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const $a=t=>t?.isObject3D;function Xb(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function S5(t,e,n,i){const r=n.get(e);r&&(n.delete(e),n.size===0&&(t.delete(i),r.target.releasePointerCapture(i)))}function J$(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(i=>i!==e),n.initialHits=n.initialHits.filter(i=>i!==e),n.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&n.hovered.delete(r)}),n.capturedMap.forEach((i,r)=>{S5(n.capturedMap,e,i,r)})}function $$(t){function e(f){const{internal:d}=t.getState(),m=f.offsetX-d.initialClick[0],g=f.offsetY-d.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function n(f){return f.filter(d=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(f,d){const m=t.getState(),g=new Set,y=[],b=d?d(m.internal.interaction):m.internal.interaction;for(let M=0;M<b.length;M++){const R=Kp(b[M]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(f,m);function _(M){const R=Kp(M);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(f,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(M,!0):[]}let A=b.flatMap(_).sort((M,R)=>{const D=Kp(M.object),N=Kp(R.object);return!D||!N?M.distance-R.distance:N.events.priority-D.events.priority||M.distance-R.distance}).filter(M=>{const R=Xb(M);return g.has(R)?!1:(g.add(R),!0)});m.events.filter&&(A=m.events.filter(A,m));for(const M of A){let R=M.object;for(;R;){var T;(T=R.__r3f)!=null&&T.eventCount&&y.push({...M,eventObject:R}),R=R.parent}}if("pointerId"in f&&m.internal.capturedMap.has(f.pointerId))for(let M of m.internal.capturedMap.get(f.pointerId).values())g.has(Xb(M.intersection))||y.push(M.intersection);return y}function r(f,d,m,g){if(f.length){const y={stopped:!1};for(const b of f){let _=Kp(b.object);if(_||b.object.traverseAncestors(A=>{const T=Kp(A);if(T)return _=T,!1}),_){const{raycaster:A,pointer:T,camera:M,internal:R}=_,D=new Z(T.x,T.y,0).unproject(M),N=B=>{var z,G;return(z=(G=R.capturedMap.get(B))==null?void 0:G.has(b.eventObject))!=null?z:!1},U=B=>{const z={intersection:b,target:d.target};R.capturedMap.has(B)?R.capturedMap.get(B).set(b.eventObject,z):R.capturedMap.set(B,new Map([[b.eventObject,z]])),d.target.setPointerCapture(B)},L=B=>{const z=R.capturedMap.get(B);z&&S5(R.capturedMap,b.eventObject,z,B)};let V={};for(let B in d){let z=d[B];typeof z!="function"&&(V[B]=z)}let F={...b,...V,pointer:T,intersections:f,stopped:y.stopped,delta:m,unprojectedPoint:D,ray:A.ray,camera:M,stopPropagation(){const B="pointerId"in d&&R.capturedMap.get(d.pointerId);if((!B||B.has(b.eventObject))&&(F.stopped=y.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(z=>z.eventObject===b.eventObject))){const z=f.slice(0,f.indexOf(b));a([...z,b])}},target:{hasPointerCapture:N,setPointerCapture:U,releasePointerCapture:L},currentTarget:{hasPointerCapture:N,setPointerCapture:U,releasePointerCapture:L},nativeEvent:d};if(g(F),y.stopped===!0)break}}}return f}function a(f){const{internal:d}=t.getState();for(const m of d.hovered.values())if(!f.length||!f.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(d.hovered.delete(Xb(m)),y!=null&&y.eventCount){const b=y.handlers,_={...m,intersections:f};b.onPointerOut==null||b.onPointerOut(_),b.onPointerLeave==null||b.onPointerLeave(_)}}}function o(f,d){for(let m=0;m<d.length;m++){const g=d[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(f)}}function u(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return d=>{const{internal:m}=t.getState();"pointerId"in d&&m.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(d.pointerId)&&(m.capturedMap.delete(d.pointerId),a([]))})}}return function(m){const{onPointerMissed:g,internal:y}=t.getState();y.lastEvent.current=m;const b=f==="onPointerMove",_=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",T=i(m,b?n:void 0),M=_?e(m):0;f==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=T.map(D=>D.eventObject)),_&&!T.length&&M<=2&&(o(m,y.interaction),g&&g(m)),b&&a(T);function R(D){const N=D.eventObject,U=N.__r3f;if(!(U!=null&&U.eventCount))return;const L=U.handlers;if(b){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const V=Xb(D),F=y.hovered.get(V);F?F.stopped&&D.stopPropagation():(y.hovered.set(V,D),L.onPointerOver==null||L.onPointerOver(D),L.onPointerEnter==null||L.onPointerEnter(D))}L.onPointerMove==null||L.onPointerMove(D)}else{const V=L[f];V?(!_||y.initialHits.includes(N))&&(o(m,y.interaction.filter(F=>!y.initialHits.includes(F))),V(D)):_&&y.initialHits.includes(N)&&o(m,y.interaction.filter(F=>!y.initialHits.includes(F)))}}r(T,m,M,R)}}return{handlePointer:u}}const iP=t=>!!(t!=null&&t.render),M5=H.createContext(null),eee=(t,e)=>{const n=D$((u,f)=>{const d=new Z,m=new Z,g=new Z;function y(M=f().camera,R=m,D=f().size){const{width:N,height:U,top:L,left:V}=D,F=N/U;R.isVector3?g.copy(R):g.set(...R);const B=M.getWorldPosition(d).distanceTo(g);if(y5(M))return{width:N/M.zoom,height:U/M.zoom,top:L,left:V,factor:1,distance:B,aspect:F};{const z=M.fov*Math.PI/180,G=2*Math.tan(z/2)*B,ee=G*(N/U);return{width:ee,height:G,top:L,left:V,factor:N/ee,distance:B,aspect:F}}}let b;const _=M=>u(R=>({performance:{...R.performance,current:M}})),A=new Ge;return{set:u,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>t(f(),M),advance:(M,R)=>e(M,R,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new TC,pointer:A,mouse:A,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=f();b&&clearTimeout(b),M.performance.current!==M.performance.min&&_(M.performance.min),b=setTimeout(()=>_(f().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:M=>u(R=>({...R,events:{...R.events,...M}})),setSize:(M,R,D=0,N=0)=>{const U=f().camera,L={width:M,height:R,top:D,left:N};u(V=>({size:L,viewport:{...V.viewport,...y(U,m,L)}}))},setDpr:M=>u(R=>{const D=b5(M);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(M="always")=>{const R=f().clock;R.stop(),R.elapsedTime=0,M!=="never"&&(R.start(),R.elapsedTime=0),u(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(M,R,D)=>{const N=f().internal;return N.priority=N.priority+(R>0?1:0),N.subscribers.push({ref:M,priority:R,store:D}),N.subscribers=N.subscribers.sort((U,L)=>U.priority-L.priority),()=>{const U=f().internal;U!=null&&U.subscribers&&(U.priority=U.priority-(R>0?1:0),U.subscribers=U.subscribers.filter(L=>L.ref!==M))}}}}}),i=n.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return n.subscribe(()=>{const{camera:u,size:f,viewport:d,gl:m,set:g}=n.getState();if(f.width!==r.width||f.height!==r.height||d.dpr!==a){r=f,a=d.dpr,Q$(u,f),d.dpr>0&&m.setPixelRatio(d.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(f.width,f.height,y)}u!==o&&(o=u,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(u)}})))}),n.subscribe(u=>t(u)),n};function tee(){const t=H.useContext(M5);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function D1(t,e=0){const n=tee(),i=n.getState().internal.subscribe,r=x5(t);return sy(()=>i(r,e,n),[e,i,n]),null}function nee(t){const e=L$(t);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:H.version}),e}const E5=0,Cm={},iee=/^three(?=[A-Z])/,N1=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let ree=0;const aee=t=>typeof t=="function";function see(t){if(aee(t)){const e=`${ree++}`;return Cm[e]=t,e}else Object.assign(Cm,t)}function T5(t,e){const n=N1(t),i=Cm[n];if(t!=="primitive"&&!i)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function oee(t,e,n){var i;return t=N1(t)in Cm?t:t.replace(iee,""),T5(t,e),t==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,cS(e.object,n,t,e)}function lee(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?hS(t.parent,t):$a(t.object)&&(t.object.visible=!1),t.isHidden=!0,Xm(t)}}function A5(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?fS(t.parent,t):$a(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,Xm(t)}}function PC(t,e,n){const i=e.root.getState();if(!(!t.parent&&t.object!==i.scene)){if(!e.object){var r,a;const o=Cm[N1(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(uf(e.object,e.props),e.props.attach)fS(t,e);else if($a(e.object)&&$a(t.object)){const o=t.object.children.indexOf(n?.object);if(n&&o!==-1){const u=t.object.children.indexOf(e.object);if(u!==-1){t.object.children.splice(u,1);const f=u<o?o-1:o;t.object.children.splice(f,0,e.object)}else e.object.parent=t.object,t.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const o of e.children)PC(e,o);Xm(e)}}function pT(t,e){e&&(e.parent=t,t.children.push(e),PC(t,e))}function rP(t,e,n){if(!e||!n)return;e.parent=t;const i=t.children.indexOf(n);i!==-1?t.children.splice(i,0,e):t.children.push(e),PC(t,e,n)}function w5(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():eP.unstable_scheduleCallback(eP.unstable_IdlePriority,e)}}function Dw(t,e,n){if(!e)return;e.parent=null;const i=t.children.indexOf(e);i!==-1&&t.children.splice(i,1),e.props.attach?hS(t,e):$a(e.object)&&$a(t.object)&&(t.object.remove(e.object),J$(v5(e),e.object));const r=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];Dw(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&w5(e.object),n===void 0&&Xm(e)}function uee(t,e){for(const n of[t,t.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const i=n.ref(e);typeof i=="function"&&(n.refCleanup=i)}else n.ref&&(n.ref.current=e)}const p_=[];function cee(){for(const[n]of p_){const i=n.parent;if(i){n.props.attach?hS(i,n):$a(n.object)&&$a(i.object)&&i.object.remove(n.object);for(const r of n.children)r.props.attach?hS(n,r):$a(r.object)&&$a(n.object)&&n.object.remove(r.object)}n.isHidden&&A5(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&w5(n.object)}for(const[n,i,r]of p_){n.props=i;const a=n.parent;if(a){var t,e;const o=Cm[N1(n.type)];n.object=(t=n.props.object)!=null?t:new o(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,uee(r,n.object),uf(n.object,n.props),n.props.attach?fS(a,n):$a(n.object)&&$a(a.object)&&a.object.add(n.object);for(const u of n.children)u.props.attach?fS(n,u):$a(u.object)&&$a(n.object)&&n.object.add(u.object);Xm(n)}}p_.length=0}const mT=()=>{},aP={};let Wb=E5;const fee=0,hee=4,Nw=nee({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:oee,removeChild:Dw,appendChild:pT,appendInitialChild:pT,insertBefore:rP,appendChildToContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||pT(n,e)},removeChildFromContainer(t,e){const n=t.getState().scene.__r3f;!e||!n||Dw(n,e)},insertInContainerBefore(t,e,n){const i=t.getState().scene.__r3f;!e||!n||!i||rP(i,e,n)},getRootHostContext:()=>aP,getChildHostContext:()=>aP,commitUpdate(t,e,n,i,r){var a,o,u;T5(e,i);let f=!1;if((t.type==="primitive"&&n.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=n.args)==null?void 0:o.length)||(u=i.args)!=null&&u.some((m,g)=>{var y;return m!==((y=n.args)==null?void 0:y[g])}))&&(f=!0),f)p_.push([t,{...i},r]);else{const m=Y$(t,i);Object.keys(m).length&&(Object.assign(t.props,m),uf(t.object,m))}(r.sibling===null||(r.flags&hee)===fee)&&cee()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>cS(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:lee,unhideInstance:A5,createTextInstance:mT,hideTextInstance:mT,unhideTextInstance:mT,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(t){Wb=t},getCurrentUpdatePriority(){return Wb},resolveUpdatePriority(){var t;if(Wb!==E5)return Wb;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return c_.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return c_.ContinuousEventPriority;default:return c_.DefaultEventPriority}},resetFormInstance(){}}),pd=new Map,Zp={objects:"shallow",strict:!1};function dee(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:i,top:r,left:a}=t.parentElement.getBoundingClientRect();return{width:n,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function pee(t){const e=pd.get(t),n=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||eee(Uw,oP),o=n||Nw.createContainer(a,c_.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||pd.set(t,{fiber:o,store:a});let u,f,d=!1,m=null;return{async configure(g={}){let y;m=new Promise(re=>y=re);let{gl:b,size:_,scene:A,events:T,onCreated:M,shadows:R=!1,linear:D=!1,flat:N=!1,legacy:U=!1,orthographic:L=!1,frameloop:V="always",dpr:F=[1,2],performance:B,raycaster:z,camera:G,onPointerMissed:ee}=g,ie=a.getState(),pe=ie.gl;if(!ie.gl){const re={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},he=typeof b=="function"?await b(re):b;iP(he)?pe=he:pe=new f5({...re,...b}),ie.set({gl:pe})}let ue=ie.raycaster;ue||ie.set({raycaster:ue=new i5});const{params:X,...Q}=z||{};if(xi.equ(Q,ue,Zp)||uf(ue,{...Q}),xi.equ(X,ue.params,Zp)||uf(ue,{params:{...ue.params,...X}}),!ie.camera||ie.camera===f&&!xi.equ(f,G,Zp)){f=G;const re=G?.isCamera,he=re?G:L?new ay(0,0,0,0,.1,1e3):new Mr(75,0,.1,1e3);re||(he.position.z=5,G&&(uf(he,G),he.manual||("aspect"in G||"left"in G||"right"in G||"bottom"in G||"top"in G)&&(he.manual=!0,he.updateProjectionMatrix())),!ie.camera&&!(G!=null&&G.rotation)&&he.lookAt(0,0,0)),ie.set({camera:he}),ue.camera=he}if(!ie.scene){let re;A!=null&&A.isScene?(re=A,cS(re,a,"",{})):(re=new aC,cS(re,a,"",{}),A&&uf(re,A)),ie.set({scene:re})}T&&!ie.events.handlers&&ie.set({events:T(a)});const $=dee(t,_);if(xi.equ($,ie.size,Zp)||ie.setSize($.width,$.height,$.top,$.left),F&&ie.viewport.dpr!==b5(F)&&ie.setDpr(F),ie.frameloop!==V&&ie.setFrameloop(V),ie.onPointerMissed||ie.set({onPointerMissed:ee}),B&&!xi.equ(B,ie.performance,Zp)&&ie.set(re=>({performance:{...re.performance,...B}})),!ie.xr){var me;const re=(je,ot)=>{const ve=a.getState();ve.frameloop!=="never"&&oP(je,!0,ve,ot)},he=()=>{const je=a.getState();je.gl.xr.enabled=je.gl.xr.isPresenting,je.gl.xr.setAnimationLoop(je.gl.xr.isPresenting?re:null),je.gl.xr.isPresenting||Uw(je)},Pe={connect(){const je=a.getState().gl;je.xr.addEventListener("sessionstart",he),je.xr.addEventListener("sessionend",he)},disconnect(){const je=a.getState().gl;je.xr.removeEventListener("sessionstart",he),je.xr.removeEventListener("sessionend",he)}};typeof((me=pe.xr)==null?void 0:me.addEventListener)=="function"&&Pe.connect(),ie.set({xr:Pe})}if(pe.shadowMap){const re=pe.shadowMap.enabled,he=pe.shadowMap.type;if(pe.shadowMap.enabled=!!R,xi.boo(R))pe.shadowMap.type=Zv;else if(xi.str(R)){var Y;const Pe={basic:dz,percentage:ZS,soft:Zv,variance:jo};pe.shadowMap.type=(Y=Pe[R])!=null?Y:Zv}else xi.obj(R)&&Object.assign(pe.shadowMap,R);(re!==pe.shadowMap.enabled||he!==pe.shadowMap.type)&&(pe.shadowMap.needsUpdate=!0)}return xn.enabled=!U,d||(pe.outputColorSpace=D?yf:na,pe.toneMapping=N?Wl:G2),ie.legacy!==U&&ie.set(()=>({legacy:U})),ie.linear!==D&&ie.set(()=>({linear:D})),ie.flat!==N&&ie.set(()=>({flat:N})),b&&!xi.fun(b)&&!iP(b)&&!xi.equ(b,pe,Zp)&&uf(pe,b),u=M,d=!0,y(),this},render(g){return!d&&!m&&this.configure(),m.then(()=>{Nw.updateContainer(P.jsx(mee,{store:a,children:g,onCreated:u,rootElement:t}),o,null,()=>{})}),a},unmount(){C5(t)}}}function mee({store:t,children:e,onCreated:n,rootElement:i}){return sy(()=>{const r=t.getState();r.set(a=>({internal:{...a.internal,active:!0}})),n&&n(r),t.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),P.jsx(M5.Provider,{value:t,children:e})}function C5(t,e){const n=pd.get(t),i=n?.fiber;if(i){const r=n?.store.getState();r&&(r.internal.active=!1),Nw.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,u,f;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(u=r.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(f=r.gl)!=null&&f.xr&&r.xr.disconnect(),q$(r.scene),pd.delete(t)}catch{}},500)})}}const gee=new Set,vee=new Set,yee=new Set;function gT(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function a0(t,e){switch(t){case"before":return gT(gee,e);case"after":return gT(vee,e);case"tail":return gT(yee,e)}}let vT,yT;function Ow(t,e,n){let i=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(i=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),vT=e.internal.subscribers;for(let r=0;r<vT.length;r++)yT=vT[r],yT.ref.current(yT.store.getState(),i,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let dS=!1,Pw=!1,xT,sP,Qp;function R5(t){sP=requestAnimationFrame(R5),dS=!0,xT=0,a0("before",t),Pw=!0;for(const n of pd.values()){var e;Qp=n.store.getState(),Qp.internal.active&&(Qp.frameloop==="always"||Qp.internal.frames>0)&&!((e=Qp.gl.xr)!=null&&e.isPresenting)&&(xT+=Ow(t,Qp))}if(Pw=!1,a0("after",t),xT===0)return a0("tail",t),dS=!1,cancelAnimationFrame(sP)}function Uw(t,e=1){var n;if(!t)return pd.forEach(i=>Uw(i.store.getState(),e));(n=t.gl.xr)!=null&&n.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):Pw?t.internal.frames=2:t.internal.frames=1,dS||(dS=!0,requestAnimationFrame(R5)))}function oP(t,e=!0,n,i){if(e&&a0("before",t),n)Ow(t,n,i);else for(const r of pd.values())Ow(t,r.store.getState());e&&a0("after",t)}const bT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xee(t){const{handlePointer:e}=$$(t);return{priority:1,enabled:!0,compute(n,i,r){i.pointer.set(n.offsetX/i.size.width*2-1,-(n.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(bT).reduce((n,i)=>({...n,[i]:e(i)}),{}),update:()=>{var n;const{events:i,internal:r}=t.getState();(n=r.lastEvent)!=null&&n.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:n=>{const{set:i,events:r}=t.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:n}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[u,f]=bT[a];n.addEventListener(u,o,{passive:f})}},disconnect:()=>{const{set:n,events:i}=t.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=bT[r];i.connected.removeEventListener(o,a)}n(r=>({events:{...r.events,connected:void 0}}))}}}}function lP(t,e){let n;return(...i)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...i),e)}}function bee({debounce:t,scroll:e,polyfill:n,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),f=t?typeof t=="number"?t:t.scroll:null,d=t?typeof t=="number"?t:t.resize:null,m=H.useRef(!1);H.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,b]=H.useMemo(()=>{const M=()=>{if(!u.current.element)return;const{left:R,top:D,width:N,height:U,bottom:L,right:V,x:F,y:B}=u.current.element.getBoundingClientRect(),z={left:R,top:D,width:N,height:U,bottom:L,right:V,x:F,y:B};u.current.element instanceof HTMLElement&&i&&(z.height=u.current.element.offsetHeight,z.width=u.current.element.offsetWidth),Object.freeze(z),m.current&&!Eee(u.current.lastBounds,z)&&o(u.current.lastBounds=z)};return[M,d?lP(M,d):M,f?lP(M,f):M]},[o,i,f,d]);function _(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",b,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function A(){u.current.element&&(u.current.resizeObserver=new r(b),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(M=>M.addEventListener("scroll",b,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const T=M=>{!M||M===u.current.element||(_(),u.current.element=M,u.current.scrollContainers=D5(M),A())};return See(b,!!e),_ee(y),H.useEffect(()=>{_(),A()},[e,b,y]),H.useEffect(()=>_,[]),[T,a,g]}function _ee(t){H.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function See(t,e){H.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function D5(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:i,overflowY:r}=window.getComputedStyle(t);return[n,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...D5(t.parentElement)]}const Mee=["x","y","top","bottom","left","right","width","height"],Eee=(t,e)=>Mee.every(n=>t[n]===e[n]);function Tee({ref:t,children:e,fallback:n,resize:i,style:r,gl:a,events:o=xee,eventSource:u,eventPrefix:f,shadows:d,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:A,performance:T,raycaster:M,camera:R,scene:D,onPointerMissed:N,onCreated:U,...L}){H.useMemo(()=>see(b$),[]);const V=j$(),[F,B]=bee({scroll:!0,debounce:{scroll:50,resize:0},...i}),z=H.useRef(null),G=H.useRef(null);H.useImperativeHandle(t,()=>z.current);const ee=x5(N),[ie,pe]=H.useState(!1),[ue,X]=H.useState(!1);if(ie)throw ie;if(ue)throw ue;const Q=H.useRef(null);sy(()=>{const me=z.current;if(B.width>0&&B.height>0&&me){Q.current||(Q.current=pee(me));async function Y(){await Q.current.configure({gl:a,scene:D,events:o,shadows:d,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:A,performance:T,raycaster:M,camera:R,size:B,onPointerMissed:(...re)=>ee.current==null?void 0:ee.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(u?H$(u)?u.current:u:G.current),f&&re.setEvents({compute:(he,Pe)=>{const je=he[f+"X"],ot=he[f+"Y"];Pe.pointer.set(je/Pe.size.width*2-1,-(ot/Pe.size.height)*2+1),Pe.raycaster.setFromCamera(Pe.pointer,Pe.camera)}}),U?.(re)}}),Q.current.render(P.jsx(V,{children:P.jsx(G$,{set:X,children:P.jsx(H.Suspense,{fallback:P.jsx(k$,{set:pe}),children:e??null})})}))}Y()}}),H.useEffect(()=>{const me=z.current;if(me)return()=>C5(me)},[]);const $=u?"none":"auto";return P.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...r},...L,children:P.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:P.jsx("canvas",{ref:z,style:{display:"block"},children:n})})})}function Aee(t){return P.jsx(m5,{children:P.jsx(Tee,{...t})})}function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},md.apply(null,arguments)}const wee=()=>parseInt(K0.replace(/\D+/g,"")),N5=wee(),_T=N5>=154?"opaque_fragment":"output_fragment";class Cee extends d1{constructor(e){super(e),this.onBeforeCompile=(n,i)=>{const{isWebGL2:r}=i.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${_T}>`,`
        ${r?`#include <${_T}>`:`#extension GL_OES_standard_derivatives : enable
#include <${_T}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${N5>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Ree=H.forwardRef((t,e)=>{const[n]=H.useState(()=>new Cee(null));return H.createElement("primitive",md({},t,{object:n,ref:e,attach:"material"}))});let Vh,Uv;const Dee=H.createContext(null),uP=new Gt,cP=new Z,Nee=H.forwardRef(({children:t,range:e,limit:n=1e3,...i},r)=>{const a=H.useRef(null);H.useImperativeHandle(r,()=>a.current,[]);const[o,u]=H.useState([]),[[f,d,m]]=H.useState(()=>[new Float32Array(n*3),Float32Array.from({length:n*3},()=>1),Float32Array.from({length:n},()=>1)]);H.useEffect(()=>{a.current.geometry.attributes.position.needsUpdate=!0}),D1(()=>{for(a.current.updateMatrix(),a.current.updateMatrixWorld(),uP.copy(a.current.matrixWorld).invert(),a.current.geometry.drawRange.count=Math.min(n,e!==void 0?e:n,o.length),Vh=0;Vh<o.length;Vh++)Uv=o[Vh].current,Uv.getWorldPosition(cP).applyMatrix4(uP),cP.toArray(f,Vh*3),a.current.geometry.attributes.position.needsUpdate=!0,Uv.matrixWorldNeedsUpdate=!0,Uv.color.toArray(d,Vh*3),a.current.geometry.attributes.color.needsUpdate=!0,m.set([Uv.size],Vh),a.current.geometry.attributes.size.needsUpdate=!0});const g=H.useMemo(()=>({getParent:()=>a,subscribe:y=>(u(b=>[...b,y]),()=>u(b=>b.filter(_=>_.current!==y.current)))}),[]);return H.createElement("points",md({userData:{instances:o},matrixAutoUpdate:!1,ref:a,raycast:()=>null},i),H.createElement("bufferGeometry",null,H.createElement("bufferAttribute",{attach:"attributes-position",args:[f,3],usage:rd}),H.createElement("bufferAttribute",{attach:"attributes-color",args:[d,3],usage:rd}),H.createElement("bufferAttribute",{attach:"attributes-size",args:[m,1],usage:rd})),H.createElement(Dee.Provider,{value:g},t))}),Oee=H.forwardRef(({children:t,positions:e,colors:n,sizes:i,stride:r=3,...a},o)=>{const u=H.useRef(null);return H.useImperativeHandle(o,()=>u.current,[]),D1(()=>{const f=u.current.geometry.attributes;f.position.needsUpdate=!0,n&&(f.color.needsUpdate=!0),i&&(f.size.needsUpdate=!0)}),H.createElement("points",md({ref:u},a),H.createElement("bufferGeometry",null,H.createElement("bufferAttribute",{attach:"attributes-position",args:[e,r],usage:rd}),n&&H.createElement("bufferAttribute",{attach:"attributes-color",args:[n,r],count:n.length/r,usage:rd}),i&&H.createElement("bufferAttribute",{attach:"attributes-size",args:[i,1],count:i.length/r,usage:rd})),t)}),Pee=H.forwardRef((t,e)=>t.positions instanceof Float32Array?H.createElement(Oee,md({},t,{ref:e})):H.createElement(Nee,md({},t,{ref:e}))),Uee=t=>{const e=new Float32Array(t*3);for(let n=0;n<t;n++){const i=n*3,r=Math.random()*4+1,a=Math.random()*Math.PI*2,o=Math.acos(2*Math.random()-1);e[i]=r*Math.sin(o)*Math.cos(a),e[i+1]=r*Math.sin(o)*Math.sin(a),e[i+2]=r*Math.cos(o)}return e},Lee=()=>{const t=H.useRef(null),e=Uee(5e3);return D1(n=>{t.current&&(t.current.rotation.x=Math.sin(n.clock.elapsedTime*.1)*.1,t.current.rotation.y=Math.sin(n.clock.elapsedTime*.05)*.1)}),P.jsx(Pee,{ref:t,positions:e,stride:3,frustumCulled:!1,children:P.jsx(Ree,{transparent:!0,color:"#38bdf8",size:.005,sizeAttenuation:!0,depthWrite:!1,opacity:.8})})},Iee=()=>{const t=H.useRef(null);return D1(e=>{t.current&&(t.current.position.y=Math.sin(e.clock.elapsedTime*.5)*.3,t.current.rotation.x=Math.sin(e.clock.elapsedTime*.3)*.2,t.current.rotation.z=Math.cos(e.clock.elapsedTime*.2)*.1)}),P.jsxs("mesh",{ref:t,position:[2,0,-2],children:[P.jsx("dodecahedronGeometry",{args:[.5]}),P.jsx("meshStandardMaterial",{color:"#0ea5e9",transparent:!0,opacity:.1,wireframe:!0})]})},Bee=()=>P.jsx("div",{className:"absolute inset-0 -z-10",children:P.jsxs(Aee,{camera:{position:[0,0,5],fov:60},style:{background:"transparent"},children:[P.jsx("ambientLight",{intensity:.5}),P.jsx("pointLight",{position:[10,10,10],intensity:.3}),P.jsx(Lee,{}),P.jsx(Iee,{})]})}),zee=()=>{const t=H.useRef(null),e=$u();return H.useEffect(()=>{if(e||!t.current)return;const n=t.current,i=n.getContext("2d");if(!i)return;const r=()=>{n.width=window.innerWidth,n.height=window.innerHeight};r(),window.addEventListener("resize",r);class a{x;y;width;height;speed;opacity;constructor(){this.width=Math.random()*200+100,this.height=this.width*.6,this.x=Math.random()*(n.width+200)-100,this.y=Math.random()*n.height*.6,this.speed=Math.random()*.2+.05,this.opacity=Math.random()*.2+.1}draw(){if(!i)return;i.save(),i.fillStyle=`rgba(255, 255, 255, ${this.opacity})`,i.beginPath();const g=this.x+this.width*.5,y=this.y+this.height*.5;i.arc(g,y,this.width*.3,0,Math.PI*2),i.arc(g-this.width*.35,y,this.width*.25,0,Math.PI*2),i.arc(g+this.width*.35,y,this.width*.25,0,Math.PI*2),i.arc(g-this.width*.2,y-this.height*.2,this.width*.25,0,Math.PI*2),i.arc(g+this.width*.2,y-this.height*.2,this.width*.28,0,Math.PI*2),i.closePath(),i.fill(),i.restore()}update(){this.x+=this.speed,this.x-this.width>n.width&&(this.x=-this.width,this.y=Math.random()*n.height*.6),this.draw()}}const o=7,u=[];for(let m=0;m<o;m++)u.push(new a);const f=()=>{if(!i)return;const m=i.createLinearGradient(0,0,0,n.height);m.addColorStop(0,"rgba(135, 206, 250, 0.2)"),m.addColorStop(1,"rgba(255, 255, 255, 0)"),i.clearRect(0,0,n.width,n.height),i.fillStyle=m,i.fillRect(0,0,n.width,n.height),u.forEach(g=>g.update()),d=requestAnimationFrame(f)};let d=requestAnimationFrame(f);return()=>{cancelAnimationFrame(d),window.removeEventListener("resize",r)}},[e]),e?null:P.jsxs(P.Fragment,{children:[P.jsx("canvas",{ref:t,className:"absolute inset-0 z-0 opacity-40 pointer-events-none"}),P.jsx(dt.div,{className:"absolute inset-0 z-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.1) 1px, transparent 1px), radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.1) 1px, transparent 1px)",backgroundSize:"40px 40px"},animate:{backgroundPosition:["0px 0px","20px 20px"]},transition:{duration:20,repeat:1/0,ease:"linear"}}),P.jsx("div",{className:"absolute inset-0 z-0 bg-blue-500/5 pointer-events-none"})]})},Vee=(t=30)=>{const e=["#7dd3fc","#60a5fa","#38bdf8","#93c5fd","#bfdbfe"];return Array.from({length:t}).map((i,r)=>{const a=Math.round(1+Math.random()*3),o=e[Math.floor(Math.random()*e.length)],u=Math.round(Math.random()*1e4)/100,f=Math.round(Math.random()*1e4)/100,d=.7+Math.random()*.3,m=Math.random()*3;return{id:r,size:a,color:o,left:u,top:f,opacity:d,pulseDelay:m}})},Hee=({count:t=28,sizeRange:e=[1,4],opacityRange:n=[.5,.95],pulseRange:i=[2.4,4.2]})=>{const r=$u(),a=H.useMemo(()=>Vee(t),[t]);return r?null:P.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",children:a.map(o=>{const u=Math.max(e[0],Math.min(e[1],o.size)),f=Math.max(n[0],Math.min(n[1],o.opacity)),d=i[0]+Math.random()*(i[1]-i[0]);return P.jsx(dt.span,{style:{left:`${o.left}%`,top:`${o.top}%`,width:u,height:u,background:o.color,opacity:f,boxShadow:`0 0 ${Math.max(6,u*3)}px ${o.color}33`,borderRadius:9999,position:"absolute",transform:"translate(-50%, -50%)"},animate:{scale:[1,1.35,1]},transition:{duration:d,repeat:1/0,ease:"easeInOut",delay:o.pulseDelay},className:"will-change-transform"},o.id)})})},fP=["Full-Stack Developer","Software Engineer","Problem Solver","UI/UX Enthusiast","Tech Innovator"],Fee=()=>{const[t,e]=H.useState(0),n=$u();H.useEffect(()=>{if(n)return;const o=setInterval(()=>{e(u=>(u+1)%fP.length)},3e3);return()=>clearInterval(o)},[n]);const i=()=>{const o=document.querySelector("#about");o&&o.scrollIntoView({behavior:"smooth"})},r=()=>{console.log("Download CV")},a=()=>{const o=document.querySelector("#projects");o&&o.scrollIntoView({behavior:"smooth"})};return P.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[!n&&P.jsx(Bee,{}),!n&&P.jsx(zee,{}),!n&&P.jsx(Hee,{count:28,sizeRange:[1,5],opacityRange:[.45,.9],pulseRange:[2.6,4]}),P.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-900/85 via-dark-900/75 to-dark-800/85"}),P.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[P.jsxs("div",{className:"space-y-8",children:[P.jsx(dt.div,{variants:Go,initial:"hidden",animate:"visible",className:"space-y-2",children:P.jsx("p",{className:"text-lg md:text-xl text-primary-400 font-medium",children:"Hey there! 👋 I'm"})}),P.jsx(dt.div,{variants:V7,initial:"hidden",animate:"visible",className:"space-y-4",children:P.jsxs(dt.h1,{className:"text-5xl md:text-7xl lg:text-8xl font-bold text-white leading-tight",variants:Go,children:["Paul"," ",P.jsx("span",{className:"text-gradient bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600 bg-clip-text text-transparent",children:"Kamani"})]})}),P.jsx("div",{className:"h-16",children:P.jsx(kS,{mode:"wait",children:P.jsx(dt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-2xl md:text-3xl lg:text-4xl text-gray-300 font-light",children:fP[t]},t)})}),P.jsx(dt.div,{variants:Go,initial:"hidden",animate:"visible",transition:{delay:.5},className:"max-w-2xl mx-auto",children:P.jsx("p",{className:"text-lg md:text-xl text-gray-400 leading-relaxed",children:"Passionate Computer Science student crafting innovative web solutions with modern technologies. Let's build something amazing together! 🚀"})}),P.jsxs(dt.div,{variants:Go,initial:"hidden",animate:"visible",transition:{delay:.7},className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-8",children:[P.jsx(Rs,{variant:"primary",size:"lg",onClick:a,className:"group px-8 py-4",children:P.jsxs("span",{className:"flex items-center space-x-2",children:[P.jsx("span",{children:"View My Work"}),P.jsx(WS,{className:"w-5 h-5 transition-transform group-hover:scale-110"})]})}),P.jsx(Rs,{variant:"secondary",size:"lg",onClick:r,className:"group px-8 py-4",children:P.jsxs("span",{className:"flex items-center space-x-2",children:[P.jsx(y7,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),P.jsx("span",{children:"Download CV"})]})})]}),P.jsx(dt.div,{variants:Go,initial:"hidden",animate:"visible",transition:{delay:.9},className:"pt-8",children:P.jsxs("div",{className:"inline-flex items-center space-x-2 glass px-4 py-2 rounded-full backdrop-blur-sm bg-white/5",children:[P.jsx("span",{className:"text-yellow-400",children:"🥈"}),P.jsx("span",{className:"text-sm text-gray-300",children:"First Runner-Up, IEEE MDXTHON Hackathon 2025"})]})})]}),P.jsx(dt.div,{variants:j7,animate:"animate",className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:P.jsxs("button",{onClick:i,className:"flex flex-col items-center space-y-2 text-gray-400 hover:text-white transition-colors group","aria-label":"Scroll to next section",children:[P.jsx("span",{className:"text-sm uppercase tracking-wider",children:"Scroll"}),P.jsx(dt.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:P.jsx(u7,{className:"w-6 h-6"})})]})})]})]})},O5=({threshold:t=.1,root:e=null,rootMargin:n="0px",triggerOnce:i=!0}={})=>{const[r,a]=H.useState(!1),[o,u]=H.useState(!1),f=H.useRef(null);return H.useEffect(()=>{const d=f.current;if(!d)return;const m=new IntersectionObserver(([g])=>{const y=g.isIntersecting;y&&!o?(a(!0),i&&u(!0)):!y&&!i&&a(!1)},{threshold:t,root:e,rootMargin:n});return m.observe(d),()=>{m.unobserve(d)}},[t,e,n,i,o]),{ref:f,inView:r}},Di=({children:t,delay:e=0,className:n=""})=>{const{ref:i,inView:r}=O5({threshold:.1});return $u()?P.jsx("div",{ref:i,className:n,children:t}):P.jsx(dt.div,{ref:i,className:n,variants:Go,initial:"hidden",animate:r?"visible":"hidden",transition:{delay:e},children:t})},UC=({children:t,className:e="",delay:n=0})=>$u()?P.jsx("div",{className:e,children:t}):P.jsx(dt.div,{className:e,variants:q7,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},transition:{delay:n},children:t}),um=({children:t,className:e=""})=>$u()?P.jsx("div",{className:e,children:t}):P.jsx(dt.div,{className:e,variants:X7,children:t}),eo={summary:"Enthusiastic Computer Science student with a strong interest in full-stack web development and test automation. Experienced with Next.js, React, Selenium, Java, Drizzle ORM, and Better Auth. Passionate about real-world projects, clean architecture, and teamwork.",education:"BSc (Hons) Computer Science, Middlesex University Mauritius (2023 – 2026, Year 2)",location:"Flic en Flac, Mauritius",languages:[{name:"English",level:"Fluent"},{name:"French",level:"Basic (learning)"}],hobbies:["Content creation (YouTube videos about emotions and growth)","Video editing","Reading history","Gaming (video & card games)"],skills:{languages:["JavaScript","TypeScript","Python","C#","Java","C"],webDev:["React","Next.js","Tailwind CSS","Node.js","Prisma ORM"],testing:["Selenium Java","Cucumber","Gherkin"],databases:["PostgreSQL","MySQL","Convex DB","Drizzle ORM"],auth:["Clerk","Auth.js","Better Auth"],design:["Figma","ShadCN UI"],tools:["GitHub","Vercel","CapCut"]}},Yb=({icon:t,title:e,children:n})=>P.jsx(dt.div,{variants:Y0,whileHover:"hover",className:"glass p-6 rounded-xl",children:P.jsxs("div",{className:"flex items-start space-x-4",children:[P.jsx("div",{className:"flex-shrink-0",children:P.jsx(t,{className:"w-6 h-6 text-primary-400"})}),P.jsxs("div",{className:"flex-1",children:[P.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:e}),n]})]})}),Jp=({title:t,skills:e})=>P.jsxs("div",{className:"space-y-3",children:[P.jsx("h4",{className:"text-sm font-medium text-primary-400 uppercase tracking-wider",children:t}),P.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((n,i)=>P.jsx(dt.span,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{delay:i*.1},className:"px-3 py-1 bg-dark-800/60 text-gray-300 text-sm rounded-full border border-dark-700/50",children:n},n))})]}),jee=()=>P.jsx("section",{id:"about",className:"py-20 lg:py-32 bg-gradient-to-b from-dark-900 to-dark-800",children:P.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[P.jsxs(Di,{className:"text-center mb-16",children:[P.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["About ",P.jsx("span",{className:"text-gradient",children:"Me"})]}),P.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"Get to know the person behind the code - my journey, passions, and what drives me forward"})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[P.jsx(Di,{children:P.jsxs("div",{className:"space-y-8",children:[P.jsxs(dt.div,{className:"relative",variants:Y0,whileHover:"hover",children:[P.jsxs("div",{className:"relative w-80 h-80 mx-auto lg:mx-0 rounded-2xl overflow-hidden glass",children:[P.jsx("img",{src:"/paulkamani/paul.jpg",alt:"Paul Kamani",className:"w-full h-full object-cover"}),P.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900/60 to-transparent"})]}),P.jsx(dt.div,{className:"absolute -bottom-6 -right-6 w-12 h-12 bg-primary-500 rounded-full flex items-center justify-center",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:P.jsx(hw,{className:"w-6 h-6 text-white"})})]}),P.jsx("div",{className:"prose prose-invert max-w-none",children:P.jsx("p",{className:"text-gray-300 leading-relaxed text-lg",children:eo.summary})})]})}),P.jsx("div",{className:"space-y-6",children:P.jsxs(UC,{children:[P.jsx(um,{children:P.jsx(Yb,{icon:k2,title:"Education",children:P.jsx("p",{className:"text-gray-300",children:eo.education})})}),P.jsx(um,{children:P.jsx(Yb,{icon:KS,title:"Location",children:P.jsxs("p",{className:"text-gray-300 flex items-center",children:[P.jsx("span",{children:eo.location}),P.jsx("span",{className:"ml-2",children:"🇲🇺"})]})})}),P.jsx(um,{children:P.jsx(Yb,{icon:E7,title:"Languages",children:P.jsx("div",{className:"space-y-2",children:eo.languages.map(t=>P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("span",{className:"text-gray-300",children:t.name}),P.jsx("span",{className:"text-primary-400 text-sm",children:t.level})]},t.name))})})}),P.jsx(um,{children:P.jsx(Yb,{icon:hw,title:"Hobbies & Interests",children:P.jsx("ul",{className:"space-y-2",children:eo.hobbies.map((t,e)=>P.jsxs("li",{className:"text-gray-300 flex items-start",children:[P.jsx("span",{className:"text-primary-400 mr-2",children:"•"}),t]},e))})})})]})})]}),P.jsx(Di,{className:"mt-20",children:P.jsxs("div",{className:"glass p-8 rounded-2xl",children:[P.jsxs("h3",{className:"text-2xl font-bold text-white mb-8 text-center",children:["Technical ",P.jsx("span",{className:"text-gradient",children:"Skills"})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[P.jsx(Jp,{title:"Programming Languages",skills:eo.skills.languages}),P.jsx(Jp,{title:"Web Development",skills:eo.skills.webDev}),P.jsx(Jp,{title:"Testing",skills:eo.skills.testing}),P.jsx(Jp,{title:"Databases",skills:eo.skills.databases}),P.jsx(Jp,{title:"Authentication",skills:eo.skills.auth}),P.jsx(Jp,{title:"Design & Tools",skills:[...eo.skills.design,...eo.skills.tools]})]})]})}),P.jsxs(Di,{className:"mt-16 text-center",children:[P.jsx(dt.blockquote,{className:"text-2xl md:text-3xl font-light text-gray-300 italic max-w-4xl mx-auto",variants:Go,children:'"Passionate about real-world projects, clean architecture, and teamwork - always eager to learn and contribute to meaningful solutions."'}),P.jsx(dt.div,{className:"mt-4",variants:Go,children:P.jsx("span",{className:"text-primary-400 font-medium",children:"— Paul Kamani"})})]})]})});function P5(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=P5(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function jr(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=P5(t))&&(i&&(i+=" "),i+=e);return i}var ST={},MT={},hP;function kee(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(MT)),MT}var ET={},dP;function U5(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ET)),ET}var TT={},pP;function L5(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(TT)),TT}var AT={},mP;function LC(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const i=[],r=n.length;if(r===0)return i;let a=0,o="",u="",f=!1;for(n.charCodeAt(0)===46&&(i.push(""),a++);a<r;){const d=n[a];u?d==="\\"&&a+1<r?(a++,o+=n[a]):d===u?u="":o+=d:f?d==='"'||d==="'"?u=d:d==="]"?(f=!1,i.push(o),o=""):o+=d:d==="["?(f=!0,o&&(i.push(o),o="")):d==="."?o&&(i.push(o),o=""):o+=d,a++}return o&&i.push(o),i}t.toPath=e})(AT)),AT}var gP;function IC(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kee(),n=U5(),i=L5(),r=LC();function a(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const m=u[f];return m===void 0?n.isDeepKey(f)?a(u,r.toPath(f),d):d:m}case"number":case"symbol":{typeof f=="number"&&(f=i.toKey(f));const m=u[f];return m===void 0?d:m}default:{if(Array.isArray(f))return o(u,f,d);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const m=u[f];return m===void 0?d:m}}}function o(u,f,d){if(f.length===0)return d;let m=u;for(let g=0;g<f.length;g++){if(m==null||e.isUnsafeProperty(f[g]))return d;m=m[f[g]]}return m===void 0?d:m}t.get=a})(ST)),ST}var wT,vP;function Gee(){return vP||(vP=1,wT=IC().get),wT}var qee=Gee();const I5=Jo(qee);var hf=t=>t===0?0:t>0?1:-1,Zo=t=>typeof t=="number"&&t!=+t,Jh=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,cr=t=>(typeof t=="number"||t instanceof Number)&&!Zo(t),Rm=t=>cr(t)||typeof t=="string",Xee=0,N0=t=>{var e=++Xee;return"".concat(t||"").concat(e)},gd=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!cr(e)&&typeof e!="string")return i;var a;if(Jh(e)){if(n==null)return i;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Zo(a)&&(a=i),r&&n!=null&&a>n&&(a=n),a},B5=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1};function Kb(t,e,n){return cr(t)&&cr(e)?t+n*(e-t):e}function Wee(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):I5(i,e))===n)}var ss=t=>t===null||typeof t>"u",z5=t=>ss(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Yee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function BC(t){if(typeof t!="string")return!1;var e=Yee;return e.includes(t)}var Kee=["viewBox","children"],yP=["points","pathLength"],CT={svg:Kee,polygon:yP,polyline:yP},V5=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(H.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{BC(r)&&(i[r]=(a=>n[r](n,a)))}),i},Zee=(t,e,n)=>i=>(t(e,n,i),null),H5=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(r=>{var a=t[r];BC(r)&&typeof a=="function"&&(i||(i={}),i[r]=Zee(a,e,n))}),i},Qee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function F5(t){if(typeof t!="string")return!1;var e=Qee;return e.includes(t)}function eu(t){var e=Object.entries(t).filter(n=>{var[i]=n;return F5(i)});return Object.fromEntries(e)}var Jee=(t,e,n,i)=>{var r;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(r=i&&CT?.[i])!==null&&r!==void 0?r:[],o=e.startsWith("data-"),u=typeof t!="function"&&(!!i&&a.includes(e)||F5(e)),f=!!n&&BC(e);return o||u||f},Br=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(H.isValidElement(t)&&(i=t.props),typeof i!="object"&&typeof i!="function")return null;var r={};return Object.keys(i).forEach(a=>{var o;Jee((o=i)===null||o===void 0?void 0:o[a],a,e,n)&&(r[a]=i[a])}),r},$ee=["children","width","height","viewBox","className","style","title","desc"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Lw.apply(null,arguments)}function ete(t,e){if(t==null)return{};var n,i,r=tte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tte(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var j5=H.forwardRef((t,e)=>{var{children:n,width:i,height:r,viewBox:a,className:o,style:u,title:f,desc:d}=t,m=ete(t,$ee),g=a||{width:i,height:r,x:0,y:0},y=jr("recharts-surface",o);return H.createElement("svg",Lw({},Br(m,!0,"svg"),{className:y,width:i,height:r,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),H.createElement("title",null,f),H.createElement("desc",null,d),n)}),nte=["children","className"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Iw.apply(null,arguments)}function ite(t,e){if(t==null)return{};var n,i,r=rte(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rte(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Qo=H.forwardRef((t,e)=>{var{children:n,className:i}=t,r=ite(t,nte),a=jr("recharts-layer",i);return H.createElement("g",Iw({className:a},Br(r,!0),{ref:e}),n)}),ate=H.createContext(null);function Zb(t){return function(){return t}}function ste(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dm(t,e){if((o=t.length)>1)for(var n=1,i,r,a=t[e[0]],o,u=a.length;n<o;++n)for(r=a,a=t[e[n]],i=0;i<u;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function Bw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ote(t,e){return t[e]}function lte(t){const e=[];return e.key=t,e}function ute(){var t=Zb([]),e=Bw,n=Dm,i=ote;function r(a){var o=Array.from(t.apply(this,arguments),lte),u,f=o.length,d=-1,m;for(const g of a)for(u=0,++d;u<f;++u)(o[u][d]=[0,+i(g,o[u].key,d,a)]).data=g;for(u=0,m=ste(e(o));u<f;++u)o[m[u]].index=u;return n(o,m),o}return r.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Zb(Array.from(a)),r):t},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:Zb(+a),r):i},r.order=function(a){return arguments.length?(e=a==null?Bw:typeof a=="function"?a:Zb(Array.from(a)),r):e},r.offset=function(a){return arguments.length?(n=a??Dm,r):n},r}function cte(t,e){if((i=t.length)>0){for(var n,i,r=0,a=t[0].length,o;r<a;++r){for(o=n=0;n<i;++n)o+=t[n][r][1]||0;if(o)for(n=0;n<i;++n)t[n][r][1]/=o}Dm(t,e)}}function fte(t,e){if((r=t.length)>0){for(var n=0,i=t[e[0]],r,a=i.length;n<a;++n){for(var o=0,u=0;o<r;++o)u+=t[o][n][1]||0;i[n][1]+=i[n][0]=-u/2}Dm(t,e)}}function hte(t,e){if(!(!((o=t.length)>0)||!((a=(r=t[e[0]]).length)>0))){for(var n=0,i=1,r,a,o;i<a;++i){for(var u=0,f=0,d=0;u<o;++u){for(var m=t[e[u]],g=m[i][1]||0,y=m[i-1][1]||0,b=(g-y)/2,_=0;_<u;++_){var A=t[e[_]],T=A[i][1]||0,M=A[i-1][1]||0;b+=T-M}f+=g,d+=b*g}r[i-1][1]+=r[i-1][0]=n,f&&(n-=d/f)}r[i-1][1]+=r[i-1][0]=n,Dm(t,e)}}var RT={},xP;function zC(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(RT)),RT}var DT={},NT={},bP;function dte(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(NT)),NT}var _P;function k5(){return _P||(_P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dte();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(DT)),DT}var OT={},PT={},SP;function pte(){return SP||(SP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IC();function n(i){return function(r){return e.get(r,i)}}t.property=n})(PT)),PT}var UT={},LT={},IT={},BT={},MP;function G5(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(BT)),BT}var zT={},EP;function q5(){return EP||(EP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(zT)),zT}var VT={},TP;function X5(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.eq=e})(VT)),VT}var AP;function mte(){return AP||(AP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VC(),n=G5(),i=q5(),r=X5();function a(g,y,b){return typeof b!="function"?e.isMatch(g,y):o(g,y,function _(A,T,M,R,D,N){const U=b(A,T,M,R,D,N);return U!==void 0?!!U:o(A,T,_,N)},new Map)}function o(g,y,b,_){if(y===g)return!0;switch(typeof y){case"object":return u(g,y,b,_);case"function":return Object.keys(y).length>0?o(g,{...y},b,_):r.eq(g,y);default:return n.isObject(g)?typeof y=="string"?y==="":!0:r.eq(g,y)}}function u(g,y,b,_){if(y==null)return!0;if(Array.isArray(y))return d(g,y,b,_);if(y instanceof Map)return f(g,y,b,_);if(y instanceof Set)return m(g,y,b,_);const A=Object.keys(y);if(g==null)return A.length===0;if(A.length===0)return!0;if(_&&_.has(y))return _.get(y)===g;_&&_.set(y,g);try{for(let T=0;T<A.length;T++){const M=A[T];if(!i.isPrimitive(g)&&!(M in g)||y[M]===void 0&&g[M]!==void 0||y[M]===null&&g[M]!==null||!b(g[M],y[M],M,g,y,_))return!1}return!0}finally{_&&_.delete(y)}}function f(g,y,b,_){if(y.size===0)return!0;if(!(g instanceof Map))return!1;for(const[A,T]of y.entries()){const M=g.get(A);if(b(M,T,A,g,y,_)===!1)return!1}return!0}function d(g,y,b,_){if(y.length===0)return!0;if(!Array.isArray(g))return!1;const A=new Set;for(let T=0;T<y.length;T++){const M=y[T];let R=!1;for(let D=0;D<g.length;D++){if(A.has(D))continue;const N=g[D];let U=!1;if(b(N,M,T,g,y,_)&&(U=!0),U){A.add(D),R=!0;break}}if(!R)return!1}return!0}function m(g,y,b,_){return y.size===0?!0:g instanceof Set?d([...g],[...y],b,_):!1}t.isMatchWith=a,t.isSetMatch=m})(IT)),IT}var wP;function VC(){return wP||(wP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mte();function n(i,r){return e.isMatchWith(i,r,()=>{})}t.isMatch=n})(LT)),LT}var HT={},FT={},jT={},CP;function gte(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}t.getSymbols=e})(jT)),jT}var kT={},RP;function W5(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(kT)),kT}var GT={},DP;function Y5(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",i="[object Number]",r="[object Boolean]",a="[object Arguments]",o="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",_="[object Error]",A="[object DataView]",T="[object Uint8Array]",M="[object Uint8ClampedArray]",R="[object Uint16Array]",D="[object Uint32Array]",N="[object BigUint64Array]",U="[object Int8Array]",L="[object Int16Array]",V="[object Int32Array]",F="[object BigInt64Array]",B="[object Float32Array]",z="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=F,t.bigUint64ArrayTag=N,t.booleanTag=r,t.dataViewTag=A,t.dateTag=u,t.errorTag=_,t.float32ArrayTag=B,t.float64ArrayTag=z,t.functionTag=g,t.int16ArrayTag=L,t.int32ArrayTag=V,t.int8ArrayTag=U,t.mapTag=f,t.numberTag=i,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=R,t.uint32ArrayTag=D,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=M})(GT)),GT}var qT={},NP;function vte(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(qT)),qT}var OP;function K5(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gte(),n=W5(),i=Y5(),r=q5(),a=vte();function o(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,y,b=new Map,_=void 0){const A=_?.(m,g,y,b);if(A!==void 0)return A;if(r.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const T=new Array(m.length);b.set(m,T);for(let M=0;M<m.length;M++)T[M]=u(m[M],M,y,b,_);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;b.set(m,T);for(const[M,R]of m)T.set(M,u(R,M,y,b,_));return T}if(m instanceof Set){const T=new Set;b.set(m,T);for(const M of m)T.add(u(M,void 0,y,b,_));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,T);for(let M=0;M<m.length;M++)T[M]=u(m[M],M,y,b,_);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,T),f(T,m,y,b,_),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return b.set(m,T),f(T,m,y,b,_),T}if(m instanceof Blob){const T=new Blob([m],{type:m.type});return b.set(m,T),f(T,m,y,b,_),T}if(m instanceof Error){const T=new m.constructor;return b.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,f(T,m,y,b,_),T}if(typeof m=="object"&&d(m)){const T=Object.create(Object.getPrototypeOf(m));return b.set(m,T),f(T,m,y,b,_),T}return m}function f(m,g,y=m,b,_){const A=[...Object.keys(g),...e.getSymbols(g)];for(let T=0;T<A.length;T++){const M=A[T],R=Object.getOwnPropertyDescriptor(m,M);(R==null||R.writable)&&(m[M]=u(g[M],M,y,b,_))}}function d(m){switch(n.getTag(m)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=u,t.copyProperties=f})(FT)),FT}var PP;function yte(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5();function n(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}t.cloneDeep=n})(HT)),HT}var UP;function xte(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VC(),n=yte();function i(r){return r=n.cloneDeep(r),a=>e.isMatch(a,r)}t.matches=i})(UT)),UT}var XT={},WT={},YT={},LP;function bte(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K5(),n=Y5();function i(r,a){return e.cloneDeepWith(r,(o,u,f,d)=>{const m=a?.(o,u,f,d);if(m!==void 0)return m;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new r.constructor(r?.valueOf());return e.copyProperties(g,r),g}case n.argumentsTag:{const g={};return e.copyProperties(g,r),g.length=r.length,g[Symbol.iterator]=r[Symbol.iterator],g}default:return}})}t.cloneDeepWith=i})(YT)),YT}var IP;function _te(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bte();function n(i){return e.cloneDeepWith(i)}t.cloneDeep=n})(WT)),WT}var KT={},ZT={},BP;function Z5(){return BP||(BP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(ZT)),ZT}var QT={},zP;function Ste(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W5();function n(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}t.isArguments=n})(QT)),QT}var VP;function Mte(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U5(),n=Z5(),i=Ste(),r=LC();function a(o,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&o?.[u]==null?f=r.toPath(u):f=[u],f.length===0)return!1;let d=o;for(let m=0;m<f.length;m++){const g=f[m];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||i.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}t.has=a})(KT)),KT}var HP;function Ete(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VC(),n=L5(),i=_te(),r=IC(),a=Mte();function o(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=i.cloneDeep(f),function(d){const m=r.get(d,u);return m===void 0?a.has(d,u):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=o})(XT)),XT}var FP;function Q5(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zC(),n=pte(),i=xte(),r=Ete();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?r.matchesProperty(o[0],o[1]):i.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(OT)),OT}var HC=H.createContext(null),Tte=t=>t,ls=()=>{var t=H.useContext(HC);return t?t.store.dispatch:Tte},m_=()=>{},Ate=()=>m_,wte=(t,e)=>t===e;function Rn(t){var e=H.useContext(HC);return h5.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Ate,e?e.store.getState:m_,e?e.store.getState:m_,e?t:m_,wte)}function Cte(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Rte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Dte(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var jP=t=>Array.isArray(t)?t:[t];function Nte(t){const e=Array.isArray(t[0])?t[0]:t;return Dte(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Ote(t,e){const n=[],{length:i}=t;for(let r=0;r<i;r++)n.push(t[r].apply(null,e));return n}var Pte=class{constructor(t){this.value=t}deref(){return this.value}},Ute=typeof WeakRef<"u"?WeakRef:Pte,Lte=0,kP=1;function Qb(){return{s:Lte,v:void 0,o:null,p:null}}function J5(t,e={}){let n=Qb();const{resultEqualityCheck:i}=e;let r,a=0;function o(){let u=n;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const A=_.get(b);A===void 0?(u=Qb(),_.set(b,u)):u=A}else{let _=u.p;_===null&&(u.p=_=new Map);const A=_.get(b);A===void 0?(u=Qb(),_.set(b,u)):u=A}}const d=u;let m;if(u.s===kP)m=u.v;else if(m=t.apply(null,arguments),a++,i){const g=r?.deref?.()??r;g!=null&&i(g,m)&&(m=g,a!==0&&a--),r=typeof m=="object"&&m!==null||typeof m=="function"?new Ute(m):m}return d.s=kP,d.v=m,m}return o.clearCache=()=>{n=Qb(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Ite(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...r)=>{let a=0,o=0,u,f={},d=r.pop();typeof d=="object"&&(f=d,d=r.pop()),Cte(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const m={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:b=J5,argsMemoizeOptions:_=[]}=m,A=jP(y),T=jP(_),M=Nte(r),R=g(function(){return a++,d.apply(null,arguments)},...A),D=b(function(){o++;const U=Ote(M,arguments);return u=R.apply(null,U),u},...T);return Object.assign(D,{resultFunc:d,memoizedResultFunc:R,dependencies:M,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:b})};return Object.assign(i,{withTypes:()=>i}),i}var Ae=Ite(J5),Bte=Object.assign((t,e=Ae)=>{Rte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(a=>t[a]);return e(i,(...a)=>a.reduce((o,u,f)=>(o[n[f]]=u,o),{}))},{withTypes:()=>Bte}),JT={},$T={},eA={},GP;function zte(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,a)=>{if(i!==r){const o=e(i),u=e(r);if(o===u&&o===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?u-o:o-u}return 0};t.compareValues=n})(eA)),eA}var tA={},nA={},qP;function $5(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(nA)),nA}var XP;function Vte(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=r})(tA)),tA}var WP;function Hte(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zte(),n=Vte(),i=LC();function r(a,o,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const d=(b,_)=>{let A=b;for(let T=0;T<_.length&&A!=null;++T)A=A[_[T]];return A},m=(b,_)=>_==null||b==null?_:typeof b=="object"&&"key"in b?Object.hasOwn(_,b.key)?_[b.key]:d(_,b.path):typeof b=="function"?b(_):Array.isArray(b)?d(_,b):typeof _=="object"?_[b]:_,g=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:i.toPath(b)}));return a.map(b=>({original:b,criteria:g.map(_=>m(_,b))})).slice().sort((b,_)=>{for(let A=0;A<g.length;A++){const T=e.compareValues(b.criteria[A],_.criteria[A],u[A]);if(T!==0)return T}return 0}).map(b=>b.original)}t.orderBy=r})($T)),$T}var iA={},YP;function Fte(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const r=[],a=Math.floor(i),o=(u,f)=>{for(let d=0;d<u.length;d++){const m=u[d];Array.isArray(m)&&f<a?o(m,f+1):r.push(m)}};return o(n,0),r}t.flatten=e})(iA)),iA}var rA={},KP;function eV(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z5(),n=k5(),i=G5(),r=X5();function a(o,u,f){return i.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?r.eq(f[u],o):!1}t.isIterateeCall=a})(rA)),rA}var ZP;function jte(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hte(),n=Fte(),i=eV();function r(a,...o){const u=o.length;return u>1&&i.isIterateeCall(a,o[0],o[1])?o=[]:u>2&&i.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=r})(JT)),JT}var aA,QP;function kte(){return QP||(QP=1,aA=jte().sortBy),aA}var Gte=kte();const FC=Jo(Gte);var tV=t=>t.legend.settings,qte=t=>t.legend.size,Xte=t=>t.legend.payload;Ae([Xte,tV],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?FC(i,n):i});function Ur(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Wte=typeof Symbol=="function"&&Symbol.observable||"@@observable",JP=Wte,sA=()=>Math.random().toString(36).substring(7).split("").join("."),Yte={INIT:`@@redux/INIT${sA()}`,REPLACE:`@@redux/REPLACE${sA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sA()}`},pS=Yte;function jC(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function nV(t,e,n){if(typeof t!="function")throw new Error(Ur(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ur(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ur(1));return n(nV)(t,e)}let i=t,r=e,a=new Map,o=a,u=0,f=!1;function d(){o===a&&(o=new Map,a.forEach((T,M)=>{o.set(M,T)}))}function m(){if(f)throw new Error(Ur(3));return r}function g(T){if(typeof T!="function")throw new Error(Ur(4));if(f)throw new Error(Ur(5));let M=!0;d();const R=u++;return o.set(R,T),function(){if(M){if(f)throw new Error(Ur(6));M=!1,d(),o.delete(R),a=null}}}function y(T){if(!jC(T))throw new Error(Ur(7));if(typeof T.type>"u")throw new Error(Ur(8));if(typeof T.type!="string")throw new Error(Ur(17));if(f)throw new Error(Ur(9));try{f=!0,r=i(r,T)}finally{f=!1}return(a=o).forEach(R=>{R()}),T}function b(T){if(typeof T!="function")throw new Error(Ur(10));i=T,y({type:pS.REPLACE})}function _(){const T=g;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Ur(11));function R(){const N=M;N.next&&N.next(m())}return R(),{unsubscribe:T(R)}},[JP](){return this}}}return y({type:pS.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:b,[JP]:_}}function Kte(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:pS.INIT})>"u")throw new Error(Ur(12));if(typeof n(void 0,{type:pS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ur(13))})}function iV(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const i=Object.keys(n);let r;try{Kte(n)}catch(a){r=a}return function(o={},u){if(r)throw r;let f=!1;const d={};for(let m=0;m<i.length;m++){const g=i[m],y=n[g],b=o[g],_=y(b,u);if(typeof _>"u")throw u&&u.type,new Error(Ur(14));d[g]=_,f=f||_!==b}return f=f||i.length!==Object.keys(o).length,f?d:o}}function mS(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function Zte(...t){return e=>(n,i)=>{const r=e(n,i);let a=()=>{throw new Error(Ur(15))};const o={getState:r.getState,dispatch:(f,...d)=>a(f,...d)},u=t.map(f=>f(o));return a=mS(...u)(r.dispatch),{...r,dispatch:a}}}function rV(t){return jC(t)&&"type"in t&&typeof t.type=="string"}var aV=Symbol.for("immer-nothing"),$P=Symbol.for("immer-draftable"),Ns=Symbol.for("immer-state");function qo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Nm=Object.getPrototypeOf;function vd(t){return!!t&&!!t[Ns]}function Wu(t){return t?sV(t)||Array.isArray(t)||!!t[$P]||!!t.constructor?.[$P]||oy(t)||P1(t):!1}var Qte=Object.prototype.constructor.toString();function sV(t){if(!t||typeof t!="object")return!1;const e=Nm(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Qte}function gS(t,e){O1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function O1(t){const e=t[Ns];return e?e.type_:Array.isArray(t)?1:oy(t)?2:P1(t)?3:0}function zw(t,e){return O1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function oV(t,e,n){const i=O1(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function Jte(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function oy(t){return t instanceof Map}function P1(t){return t instanceof Set}function Gh(t){return t.copy_||t.base_}function Vw(t,e){if(oy(t))return new Map(t);if(P1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=sV(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Ns];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],u=i[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(i[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[o]})}return Object.create(Nm(t),i)}else{const i=Nm(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function kC(t,e=!1){return U1(t)||vd(t)||!Wu(t)||(O1(t)>1&&Object.defineProperties(t,{set:{value:Jb},add:{value:Jb},clear:{value:Jb},delete:{value:Jb}}),Object.freeze(t),e&&Object.values(t).forEach(n=>kC(n,!0))),t}function Jb(){qo(2)}function U1(t){return Object.isFrozen(t)}var $te={};function yd(t){const e=$te[t];return e||qo(0,t),e}var O0;function lV(){return O0}function ene(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function eU(t,e){e&&(yd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Hw(t){Fw(t),t.drafts_.forEach(tne),t.drafts_=null}function Fw(t){t===O0&&(O0=t.parent_)}function tU(t){return O0=ene(O0,t)}function tne(t){const e=t[Ns];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ns].modified_&&(Hw(e),qo(4)),Wu(t)&&(t=vS(e,t),e.parent_||yS(e,t)),e.patches_&&yd("Patches").generateReplacementPatches_(n[Ns].base_,t,e.patches_,e.inversePatches_)):t=vS(e,n,[]),Hw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==aV?t:void 0}function vS(t,e,n){if(U1(e))return e;const i=e[Ns];if(!i)return gS(e,(r,a)=>iU(t,i,e,r,a,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return yS(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let a=r,o=!1;i.type_===3&&(a=new Set(r),r.clear(),o=!0),gS(a,(u,f)=>iU(t,i,r,u,f,n,o)),yS(t,r,!1),n&&t.patches_&&yd("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function iU(t,e,n,i,r,a,o){if(vd(r)){const u=a&&e&&e.type_!==3&&!zw(e.assigned_,i)?a.concat(i):void 0,f=vS(t,r,u);if(oV(n,i,f),vd(f))t.canAutoFreeze_=!1;else return}else o&&n.add(r);if(Wu(r)&&!U1(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;vS(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(oy(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&yS(t,r)}}function yS(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kC(e,n)}function nne(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:lV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=GC;n&&(r=[i],a=P0);const{revoke:o,proxy:u}=Proxy.revocable(r,a);return i.draft_=u,i.revoke_=o,u}var GC={get(t,e){if(e===Ns)return t;const n=Gh(t);if(!zw(n,e))return ine(t,n,e);const i=n[e];return t.finalized_||!Wu(i)?i:i===oA(t.base_,e)?(lA(t),t.copy_[e]=kw(i,t)):i},has(t,e){return e in Gh(t)},ownKeys(t){return Reflect.ownKeys(Gh(t))},set(t,e,n){const i=uV(Gh(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=oA(Gh(t),e),a=r?.[Ns];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Jte(n,r)&&(n!==void 0||zw(t.base_,e)))return!0;lA(t),jw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return oA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,lA(t),jw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Gh(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){qo(11)},getPrototypeOf(t){return Nm(t.base_)},setPrototypeOf(){qo(12)}},P0={};gS(GC,(t,e)=>{P0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});P0.deleteProperty=function(t,e){return P0.set.call(this,t,e,void 0)};P0.set=function(t,e,n){return GC.set.call(this,t[0],e,n,t[0])};function oA(t,e){const n=t[Ns];return(n?Gh(n):t)[e]}function ine(t,e,n){const i=uV(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function uV(t,e){if(!(e in t))return;let n=Nm(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Nm(n)}}function jw(t){t.modified_||(t.modified_=!0,t.parent_&&jw(t.parent_))}function lA(t){t.copy_||(t.copy_=Vw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(f=a,...d){return o.produce(f,m=>n.call(this,m,...d))}}typeof n!="function"&&qo(6),i!==void 0&&typeof i!="function"&&qo(7);let r;if(Wu(e)){const a=tU(this),o=kw(e,void 0);let u=!0;try{r=n(o),u=!1}finally{u?Hw(a):Fw(a)}return eU(a,i),nU(r,a)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===aV&&(r=void 0),this.autoFreeze_&&kC(r,!0),i){const a=[],o=[];yd("Patches").generateReplacementPatches_(e,r,a,o),i(a,o)}return r}else qo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...u)=>this.produceWithPatches(o,f=>e(f,...u));let i,r;return[this.produce(e,n,(o,u)=>{i=o,r=u}),i,r]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Wu(t)||qo(8),vd(t)&&(t=Vu(t));const e=tU(this),n=kw(t,void 0);return n[Ns].isManual_=!0,Fw(e),n}finishDraft(t,e){const n=t&&t[Ns];(!n||!n.isManual_)&&qo(9);const{scope_:i}=n;return eU(i,e),nU(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=yd("Patches").applyPatches_;return vd(t)?i(t,e):this.produce(t,r=>i(r,e))}};function kw(t,e){const n=oy(t)?yd("MapSet").proxyMap_(t,e):P1(t)?yd("MapSet").proxySet_(t,e):nne(t,e);return(e?e.scope_:lV()).drafts_.push(n),n}function Vu(t){return vd(t)||qo(10,t),cV(t)}function cV(t){if(!Wu(t)||U1(t))return t;const e=t[Ns];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Vw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Vw(t,!0);return gS(n,(i,r)=>{oV(n,i,cV(r))}),e&&(e.finalized_=!1),n}var ane=new rne,fV=ane.produce;function hV(t){return({dispatch:n,getState:i})=>r=>a=>typeof a=="function"?a(n,i,t):r(a)}var sne=hV(),one=hV,lne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?mS:mS.apply(null,arguments)};function lo(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(Cs(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>rV(i)&&i.type===t,n}var dV=class kv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,kv.prototype)}static get[Symbol.species](){return kv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new kv(...e[0].concat(this)):new kv(...e.concat(this))}};function rU(t){return Wu(t)?fV(t,()=>{}):t}function $b(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function une(t){return typeof t=="boolean"}var cne=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new dV;return n&&(une(n)?o.push(sne):o.push(one(n.extraArgument))),o},fne="RTK_autoBatch",aU=t=>e=>{setTimeout(e,t)},hne=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,a=!1,o=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aU(10):t.type==="callback"?t.queueNotification:aU(t.timeout),d=()=>{o=!1,a&&(a=!1,u.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const g=()=>r&&m(),y=i.subscribe(g);return u.add(m),()=>{y(),u.delete(m)}},dispatch(m){try{return r=!m?.meta?.[fne],a=!r,a&&(o||(o=!0,f(d))),i.dispatch(m)}finally{r=!0}}})},dne=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new dV(t);return i&&r.push(hne(typeof i=="object"?i:void 0)),r};function pne(t){const e=cne(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(jC(n))u=iV(n);else throw new Error(Cs(1));let f;typeof i=="function"?f=i(e):f=e();let d=mS;r&&(d=lne({trace:!1,...typeof r=="object"&&r}));const m=Zte(...f),g=dne(m);let y=typeof o=="function"?o(g):g();const b=d(...y);return nV(u,a,b)}function pV(t){const e={},n=[];let i;const r={addCase(a,o){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(Cs(28));if(u in e)throw new Error(Cs(29));return e[u]=o,r},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),r},addMatcher(a,o){return n.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return t(r),[e,n,i]}function mne(t){return typeof t=="function"}function gne(t,e){let[n,i,r]=pV(e),a;if(mne(t))a=()=>rU(t());else{const u=rU(t);a=()=>u}function o(u=a(),f){let d=[n[f.type],...i.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[r]),d.reduce((m,g)=>{if(g)if(vd(m)){const b=g(m,f);return b===void 0?m:b}else{if(Wu(m))return fV(m,y=>g(y,f));{const y=g(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},u)}return o.getInitialState=a,o}var vne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yne=(t=21)=>{let e="",n=t;for(;n--;)e+=vne[Math.random()*64|0];return e},xne=Symbol.for("rtk-slice-createasyncthunk");function bne(t,e){return`${t}/${e}`}function _ne({creators:t}={}){const e=t?.asyncThunk?.[xne];return function(i){const{name:r,reducerPath:a=r}=i;if(!r)throw new Error(Cs(11));const o=(typeof i.reducers=="function"?i.reducers(Mne()):i.reducers)||{},u=Object.keys(o),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(D,N){const U=typeof D=="string"?D:D.type;if(!U)throw new Error(Cs(12));if(U in f.sliceCaseReducersByType)throw new Error(Cs(13));return f.sliceCaseReducersByType[U]=N,d},addMatcher(D,N){return f.sliceMatchers.push({matcher:D,reducer:N}),d},exposeAction(D,N){return f.actionCreators[D]=N,d},exposeCaseReducer(D,N){return f.sliceCaseReducersByName[D]=N,d}};u.forEach(D=>{const N=o[D],U={reducerName:D,type:bne(r,D),createNotation:typeof i.reducers=="function"};Tne(N)?wne(U,N,d,e):Ene(U,N,d)});function m(){const[D={},N=[],U=void 0]=typeof i.extraReducers=="function"?pV(i.extraReducers):[i.extraReducers],L={...D,...f.sliceCaseReducersByType};return gne(i.initialState,V=>{for(let F in L)V.addCase(F,L[F]);for(let F of f.sliceMatchers)V.addMatcher(F.matcher,F.reducer);for(let F of N)V.addMatcher(F.matcher,F.reducer);U&&V.addDefaultCase(U)})}const g=D=>D,y=new Map,b=new WeakMap;let _;function A(D,N){return _||(_=m()),_(D,N)}function T(){return _||(_=m()),_.getInitialState()}function M(D,N=!1){function U(V){let F=V[D];return typeof F>"u"&&N&&(F=$b(b,U,T)),F}function L(V=g){const F=$b(y,N,()=>new WeakMap);return $b(F,V,()=>{const B={};for(const[z,G]of Object.entries(i.selectors??{}))B[z]=Sne(G,V,()=>$b(b,V,T),N);return B})}return{reducerPath:D,getSelectors:L,get selectors(){return L(U)},selectSlice:U}}const R={name:r,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:T,...M(a),injectInto(D,{reducerPath:N,...U}={}){const L=N??a;return D.inject({reducerPath:L,reducer:A},U),{...R,...M(L,!0)}}};return R}}function Sne(t,e,n,i){function r(a,...o){let u=e(a);return typeof u>"u"&&i&&(u=n()),t(u,...o)}return r.unwrapped=t,r}var Os=_ne();function Mne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ene({type:t,reducerName:e,createNotation:n},i,r){let a,o;if("reducer"in i){if(n&&!Ane(i))throw new Error(Cs(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?lo(t,o):lo(t))}function Tne(t){return t._reducerDefinitionType==="asyncThunk"}function Ane(t){return t._reducerDefinitionType==="reducerWithPrepare"}function wne({type:t,reducerName:e},n,i,r){if(!r)throw new Error(Cs(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:f,settled:d,options:m}=n,g=r(t,a,m);i.exposeAction(e,g),o&&i.addCase(g.fulfilled,o),u&&i.addCase(g.pending,u),f&&i.addCase(g.rejected,f),d&&i.addMatcher(g.settled,d),i.exposeCaseReducer(e,{fulfilled:o||e_,pending:u||e_,rejected:f||e_,settled:d||e_})}function e_(){}var Cne="task",mV="listener",gV="completed",qC="cancelled",Rne=`task-${qC}`,Dne=`task-${gV}`,Gw=`${mV}-${qC}`,Nne=`${mV}-${gV}`,L1=class{constructor(t){this.code=t,this.message=`${Cne} ${qC} (reason: ${t})`}name="TaskAbortError";message},XC=(t,e)=>{if(typeof t!="function")throw new TypeError(Cs(32))},xS=()=>{},vV=(t,e=xS)=>(t.catch(e),t),yV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),od=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ld=t=>{if(t.aborted){const{reason:e}=t;throw new L1(e)}};function xV(t,e){let n=xS;return new Promise((i,r)=>{const a=()=>r(new L1(t.reason));if(t.aborted){a();return}n=yV(t,a),e.finally(()=>n()).then(i,r)}).finally(()=>{n=xS})}var One=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof L1?"cancelled":"rejected",error:n}}finally{e?.()}},bS=t=>e=>vV(xV(t,e).then(n=>(ld(t),n))),bV=t=>{const e=bS(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:pm}=Object,sU={},I1="listenerMiddleware",Pne=(t,e)=>{const n=i=>yV(t,()=>od(i,t.reason));return(i,r)=>{XC(i);const a=new AbortController;n(a);const o=One(async()=>{ld(t),ld(a.signal);const u=await i({pause:bS(a.signal),delay:bV(a.signal),signal:a.signal});return ld(a.signal),u},()=>od(a,Dne));return r?.autoJoin&&e.push(o.catch(xS)),{result:bS(t)(o),cancel(){od(a,Rne)}}}},Une=(t,e)=>{const n=async(i,r)=>{ld(e);let a=()=>{};const u=[new Promise((f,d)=>{let m=t({predicate:i,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});a=()=>{m(),d()}})];r!=null&&u.push(new Promise(f=>setTimeout(f,r,null)));try{const f=await xV(e,Promise.race(u));return ld(e),f}finally{a()}};return(i,r)=>vV(n(i,r))},_V=t=>{let{type:e,actionCreator:n,matcher:i,predicate:r,effect:a}=t;if(e)r=lo(e).match;else if(n)e=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(Cs(21));return XC(a),{predicate:r,type:e,effect:a}},SV=pm(t=>{const{type:e,predicate:n,effect:i}=_V(t);return{id:yne(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Cs(22))}}},{withTypes:()=>SV}),oU=(t,e)=>{const{type:n,effect:i,predicate:r}=_V(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===r)&&a.effect===i)},qw=t=>{t.pending.forEach(e=>{od(e,Gw)})},Lne=t=>()=>{t.forEach(qw),t.clear()},lU=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},MV=pm(lo(`${I1}/add`),{withTypes:()=>MV}),Ine=lo(`${I1}/removeAll`),EV=pm(lo(`${I1}/remove`),{withTypes:()=>EV}),Bne=(...t)=>{console.error(`${I1}/error`,...t)},ly=(t={})=>{const e=new Map,{extra:n,onError:i=Bne}=t;XC(i);const r=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&qw(m)}),a=m=>{const g=oU(e,m)??SV(m);return r(g)};pm(a,{withTypes:()=>a});const o=m=>{const g=oU(e,m);return g&&(g.unsubscribe(),m.cancelActive&&qw(g)),!!g};pm(o,{withTypes:()=>o});const u=async(m,g,y,b)=>{const _=new AbortController,A=Une(a,_.signal),T=[];try{m.pending.add(_),await Promise.resolve(m.effect(g,pm({},y,{getOriginalState:b,condition:(M,R)=>A(M,R).then(Boolean),take:A,delay:bV(_.signal),pause:bS(_.signal),extra:n,signal:_.signal,fork:Pne(_.signal,T),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((M,R,D)=>{M!==_&&(od(M,Gw),D.delete(M))})},cancel:()=>{od(_,Gw),m.pending.delete(_)},throwIfCancelled:()=>{ld(_.signal)}})))}catch(M){M instanceof L1||lU(i,M,{raisedBy:"effect"})}finally{await Promise.all(T),od(_,Nne),m.pending.delete(_)}},f=Lne(e);return{middleware:m=>g=>y=>{if(!rV(y))return g(y);if(MV.match(y))return a(y.payload);if(Ine.match(y)){f();return}if(EV.match(y))return o(y.payload);let b=m.getState();const _=()=>{if(b===sU)throw new Error(Cs(23));return b};let A;try{if(A=g(y),e.size>0){const T=m.getState(),M=Array.from(e.values());for(const R of M){let D=!1;try{D=R.predicate(y,T,b)}catch(N){D=!1,lU(i,N,{raisedBy:"predicate"})}D&&u(R,y,m,_)}}}finally{b=sU}return A},startListening:a,stopListening:o,clearListeners:f}};function Cs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TV=Os({name:"chartLayout",initialState:zne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,i,r,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,t.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Vne,setLayout:Hne,setChartSize:Fne,setScale:jne}=TV.actions,kne=TV.reducer;function uU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function cU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(n),!0).forEach(function(i){Gne(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Gne(t,e,n){return(e=qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qne(t){var e=Xne(t,"string");return typeof e=="symbol"?e:e+""}function Xne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fU=Math.PI/180,_S=t=>t*Math.PI/180,Wne=t=>t*180/Math.PI,Fr=(t,e,n,i)=>({x:t+Math.cos(-fU*i)*n,y:e+Math.sin(-fU*i)*n}),Yne=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},Kne=(t,e)=>{var{x:n,y:i}=t,{x:r,y:a}=e;return Math.sqrt((n-r)**2+(i-a)**2)},Zne=(t,e)=>{var{x:n,y:i}=t,{cx:r,cy:a}=e,o=Kne({x:n,y:i},{x:r,y:a});if(o<=0)return{radius:o,angle:0};var u=(n-r)/o,f=Math.acos(u);return i>a&&(f=2*Math.PI-f),{radius:o,angle:Wne(f),angleInRadian:f}},Qne=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),r=Math.floor(n/360),a=Math.min(i,r);return{startAngle:e-a*360,endAngle:n-a*360}},Jne=(t,e)=>{var{startAngle:n,endAngle:i}=e,r=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(r,a);return t+o*360},$ne=(t,e)=>{var{x:n,y:i}=t,{radius:r,angle:a}=Zne({x:n,y:i},e),{innerRadius:o,outerRadius:u}=e;if(r<o||r>u||r===0)return null;var{startAngle:f,endAngle:d}=Qne(e),m=a,g;if(f<=d){for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}else{for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}return g?cU(cU({},e),{},{radius:r,angle:Jne(m,e)}):null},AV=t=>!H.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function wV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function hU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(n),!0).forEach(function(i){eie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function eie(t,e,n){return(e=tie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tie(t){var e=nie(t,"string");return typeof e=="symbol"?e:e+""}function nie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sa(t,e,n){return ss(t)||ss(e)?n:Rm(e)?I5(t,e,n):typeof e=="function"?e(t):n}var iie=(t,e,n,i,r)=>{var a,o=-1,u=(a=e?.length)!==null&&a!==void 0?a:0;if(u<=1||t==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,m=n[f].coordinate,g=f>=u-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(hf(m-d)!==hf(g-m)){var b=[];if(hf(g-m)===hf(r[1]-r[0])){y=g;var _=m+r[1]-r[0];b[0]=Math.min(_,(_+d)/2),b[1]=Math.max(_,(_+d)/2)}else{y=d;var A=g+r[1]-r[0];b[0]=Math.min(m,(A+m)/2),b[1]=Math.max(m,(A+m)/2)}var T=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>T[0]&&t<=T[1]||t>=b[0]&&t<=b[1]){({index:o}=n[f]);break}}else{var M=Math.min(d,g),R=Math.max(d,g);if(t>(M+m)/2&&t<=(R+m)/2){({index:o}=n[f]);break}}}else if(e){for(var D=0;D<u;D++)if(D===0&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D>0&&D<u-1&&t>(e[D].coordinate+e[D-1].coordinate)/2&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D===u-1&&t>(e[D].coordinate+e[D-1].coordinate)/2){({index:o}=e[D]);break}}return o},rie=(t,e,n)=>{if(e&&n){var{width:i,height:r}=n,{align:a,verticalAlign:o,layout:u}=e;if((u==="vertical"||u==="horizontal"&&o==="middle")&&a!=="center"&&cr(t[a]))return io(io({},t),{},{[a]:t[a]+(i||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&o!=="middle"&&cr(t[o]))return io(io({},t),{},{[o]:t[o]+(r||0)})}return t},Tf=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",dU=1e-4,aie=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,i=t.range(),r=Math.min(i[0],i[1])-dU,a=Math.max(i[0],i[1])+dU,o=t(e[0]),u=t(e[n-1]);(o<r||o>a||u<r||u>a)&&t.domain([e[0],e[n-1]])}},sie=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var r=0,a=0,o=0;o<e;++o){var u=Zo(t[o][n][1])?t[o][n][0]:t[o][n][1];u>=0?(t[o][n][0]=r,t[o][n][1]=r+u,r=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+u,a=t[o][n][1])}},oie=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var r=0,a=0;a<e;++a){var o=Zo(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=r,t[a][n][1]=r+o,r=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},lie={sign:sie,expand:cte,none:Dm,silhouette:fte,wiggle:hte,positive:oie},uie=(t,e,n)=>{var i=lie[n],r=ute().keys(e).value((a,o)=>+sa(a,o,0)).order(Bw).offset(i);return r(t)},cie=t=>{var e=t.flat(2).filter(cr);return[Math.min(...e),Math.max(...e)]},fie=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],hie=(t,e,n)=>{if(t!=null)return fie(Object.keys(t).reduce((i,r)=>{var a=t[r],{stackedData:o}=a,u=o.reduce((f,d)=>{var m=wV(d,e,n),g=cie(m);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]))},pU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gU=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();return i}if(t&&e&&e.length>=2){for(var r=FC(e,m=>m.coordinate),a=1/0,o=1,u=r.length;o<u;o++){var f=r[o],d=r[o-1];a=Math.min((f.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function vU(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:r,name:a}=t;return io(io({},e),{},{dataKey:n,payload:i,value:r,name:a})}function CV(t,e){if(t)return String(t);if(typeof e=="string")return e}function die(t,e,n,i,r){if(n==="horizontal"||n==="vertical"){var a=t>=r.left&&t<=r.left+r.width&&e>=r.top&&e<=r.top+r.height;return a?{x:t,y:e}:null}return i?$ne({x:t,y:e},i):null}var pie=(t,e,n,i)=>{var r=e.find(d=>d&&d.index===n);if(r){if(t==="horizontal")return{x:r.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:r.coordinate};if(t==="centric"){var a=r.coordinate,{radius:o}=i;return io(io(io({},i),Fr(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var u=r.coordinate,{angle:f}=i;return io(io(io({},i),Fr(i.cx,i.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},mie=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ec=t=>t.layout.width,tc=t=>t.layout.height,gie=t=>t.layout.scale,RV=t=>t.layout.margin,B1=Ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),z1=Ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),vie="data-recharts-item-index",yie="data-recharts-item-data-key",uy=60;function yU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(n),!0).forEach(function(i){xie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xie(t,e,n){return(e=bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sie=t=>t.brush.height;function Mie(t){var e=z1(t);return e.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:uy;return n+r}return n},0)}function Eie(t){var e=z1(t);return e.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:uy;return n+r}return n},0)}function Tie(t){var e=B1(t);return e.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function Aie(t){var e=B1(t);return e.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var us=Ae([ec,tc,RV,Sie,Mie,Eie,Tie,Aie,tV,qte],(t,e,n,i,r,a,o,u,f,d)=>{var m={left:(n.left||0)+r,right:(n.right||0)+a},g={top:(n.top||0)+o,bottom:(n.bottom||0)+u},y=t_(t_({},g),m),b=y.bottom;y.bottom+=i,y=rie(y,f,d);var _=t-y.left-y.right,A=e-y.top-y.bottom;return t_(t_({brushBottom:b},y),{},{width:Math.max(_,0),height:Math.max(A,0)})}),wie=Ae(us,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));Ae(ec,tc,(t,e)=>({x:0,y:0,width:t,height:e}));var Cie=H.createContext(null),Af=()=>H.useContext(Cie)!=null,V1=t=>t.brush,H1=Ae([V1,us,RV],(t,e,n)=>({height:t.height,x:cr(t.x)?t.x:e.left,y:cr(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:cr(t.width)?t.width:e.width})),DV=()=>{var t,e=Af(),n=Rn(wie),i=Rn(H1),r=(t=Rn(V1))===null||t===void 0?void 0:t.padding;return!e||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},Rie=()=>Rn(ec),Die=()=>Rn(tc),Ln=t=>t.layout.layoutType,Nie=()=>Rn(Ln),Oie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NV=Os({name:"legend",initialState:Oie,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Vu(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Cpe,setLegendSettings:Rpe,addLegendPayload:Pie,removeLegendPayload:Uie}=NV.actions,Lie=NV.reducer,Iie=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),WC={isSsr:Iie()},Bie=()=>Rn(t=>t.rootProps.accessibilityLayer);function Yu(t){return Number.isFinite(t)}function SS(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function xU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xU(Object(n),!0).forEach(function(i){Vie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Vie(t,e,n){return(e=Hie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hie(t){var e=Fie(t,"string");return typeof e=="symbol"?e:e+""}function Fie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F1(t,e){var n=zie({},t),i=e,r=Object.keys(e),a=r.reduce((o,u)=>(o[u]===void 0&&i[u]!==void 0&&(o[u]=i[u]),o),n);return a}function jie(){}function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function _U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(n),!0).forEach(function(i){kie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function kie(t,e,n){return(e=Gie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gie(t){var e=qie(t,"string");return typeof e=="symbol"?e:e+""}function qie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xie=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(r=>i.includes(r))),U0=(t,e)=>Object.keys(e).reduce((n,i)=>_U(_U({},n),{},{[i]:t(i,e[i])}),{});function SU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(n),!0).forEach(function(i){Wie(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Wie(t,e,n){return(e=Yie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Kie(t,"string");return typeof e=="symbol"?e:e+""}function Kie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MS=(t,e,n)=>t+(e-t)*n,Xw=t=>{var{from:e,to:n}=t;return e!==n},OV=(t,e,n)=>{var i=U0((r,a)=>{if(Xw(a)){var[o,u]=t(a.from,a.to,a.velocity);return Ir(Ir({},a),{},{from:o,velocity:u})}return a},e);return n<1?U0((r,a)=>Xw(a)?Ir(Ir({},a),{},{velocity:MS(a.velocity,i[r].velocity,n),from:MS(a.from,i[r].from,n)}):a,e):OV(t,i,n-1)};function Zie(t,e,n,i,r,a){var o,u=i.reduce((y,b)=>Ir(Ir({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>U0((y,b)=>b.from,u),d=()=>!Object.values(u).filter(Xw).length,m=null,g=y=>{o||(o=y);var b=y-o,_=b/n.dt;u=OV(n,u,_),r(Ir(Ir(Ir({},t),e),f())),o=y,d()||(m=a.setTimeout(g))};return()=>(m=a.setTimeout(g),()=>{m()})}function Qie(t,e,n,i,r,a,o){var u=null,f=r.reduce((g,y)=>Ir(Ir({},g),{},{[y]:[t[y],e[y]]}),{}),d,m=g=>{d||(d=g);var y=(g-d)/i,b=U0((A,T)=>MS(...T,n(y)),f);if(a(Ir(Ir(Ir({},t),e),b)),y<1)u=o.setTimeout(m);else{var _=U0((A,T)=>MS(...T,n(1)),f);a(Ir(Ir(Ir({},t),e),_))}};return()=>(u=o.setTimeout(m),()=>{u()})}const Jie=(t,e,n,i,r,a)=>{var o=Xie(t,e);return n.isStepper===!0?Zie(t,e,n,o,r,a):Qie(t,e,n,i,o,r,a)};var ES=1e-4,PV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],UV=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),MU=(t,e)=>n=>{var i=PV(t,e);return UV(i,n)},$ie=(t,e)=>n=>{var i=PV(t,e),r=[...i.map((a,o)=>a*o).slice(1),0];return UV(r,n)},EU=function(){for(var e,n,i,r,a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[e,i,n,r]=[0,0,1,1];break;case"ease":[e,i,n,r]=[.25,.1,.25,1];break;case"ease-in":[e,i,n,r]=[.42,0,1,1];break;case"ease-out":[e,i,n,r]=[.42,0,.58,1];break;case"ease-in-out":[e,i,n,r]=[0,0,.58,1];break;default:{var f=o[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,i,n,r]=f[1].split(")")[0].split(",").map(_=>parseFloat(_)))}}else o.length===4&&([e,i,n,r]=o);var d=MU(e,n),m=MU(i,r),g=$ie(e,n),y=_=>_>1?1:_<0?0:_,b=_=>{for(var A=_>1?1:_,T=A,M=0;M<8;++M){var R=d(T)-A,D=g(T);if(Math.abs(R-A)<ES||D<ES)return m(T);T=y(T-R/D)}return m(T)};return b.isStepper=!1,b},ere=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=e,a=(o,u,f)=>{var d=-(o-u)*n,m=f*i,g=f+(d-m)*r/1e3,y=f*r/1e3+o;return Math.abs(y-u)<ES&&Math.abs(g)<ES?[u,0]:[y,g]};return a.isStepper=!0,a.dt=r,a},tre=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EU(t);case"spring":return ere();default:if(t.split("(")[0]==="cubic-bezier")return EU(t)}return typeof t=="function"?t:null};function nre(t){var e,n=()=>null,i=!1,r=null,a=o=>{if(!i){if(Array.isArray(o)){if(!o.length)return;var u=o,[f,...d]=u;if(typeof f=="number"){r=t.setTimeout(a.bind(null,d),f);return}a(f),r=t.setTimeout(a.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{i=!0},start:o=>{i=!1,r&&(r(),r=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class ire{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=o=>{o-i>=n?e(o):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{cancelAnimationFrame(r)}}}function rre(){return nre(new ire)}var are=H.createContext(rre);function sre(t,e){var n=H.useContext(are);return H.useMemo(()=>e??n(t),[t,e,n])}var ore={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TU={t:0},uA={t:1};function lre(t){var e=F1(t,ore),{isActive:n,canBegin:i,duration:r,easing:a,begin:o,onAnimationEnd:u,onAnimationStart:f,children:d}=e,m=sre(e.animationId,e.animationManager),[g,y]=H.useState(n?TU:uA),b=H.useRef(null);return H.useEffect(()=>{n||y(uA)},[n]),H.useEffect(()=>{if(!n||!i)return jie;var _=Jie(TU,uA,tre(a),r,y,m.getTimeoutController()),A=()=>{b.current=_()};return m.start([f,o,A,r,u]),()=>{m.stop(),b.current&&b.current(),u()}},[n,i,r,a,o,f,u,m]),d(g.t)}function ure(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=H.useRef(N0(e)),i=H.useRef(t);return i.current!==t&&(n.current=N0(e),i.current=t),n.current}var cA={},fA={},hA={},AU;function cre(){return AU||(AU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$5();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(hA)),hA}var wU;function fre(){return wU||(wU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cre();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(fA)),fA}var CU;function hre(){return CU||(CU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eV(),n=fre();function i(r,a,o){o&&typeof o!="number"&&e.isIterateeCall(r,a,o)&&(a=o=void 0),r=n.toFinite(r),a===void 0?(a=r,r=0):a=n.toFinite(a),o=o===void 0?r<a?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((a-r)/(o||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=r,r+=o;return f}t.range=i})(cA)),cA}var dA,RU;function dre(){return RU||(RU=1,dA=hre().range),dA}var pre=dre();const LV=Jo(pre);function df(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YC(t){let e,n,i;t.length!==2?(e=df,n=(u,f)=>df(t(u),f),i=(u,f)=>t(u)-f):(e=t===df||t===mre?t:gre,n=t,i=t);function r(u,f,d=0,m=u.length){if(d<m){if(e(f,f)!==0)return m;do{const g=d+m>>>1;n(u[g],f)<0?d=g+1:m=g}while(d<m)}return d}function a(u,f,d=0,m=u.length){if(d<m){if(e(f,f)!==0)return m;do{const g=d+m>>>1;n(u[g],f)<=0?d=g+1:m=g}while(d<m)}return d}function o(u,f,d=0,m=u.length){const g=r(u,f,d,m-1);return g>d&&i(u[g-1],f)>-i(u[g],f)?g-1:g}return{left:r,center:o,right:a}}function gre(){return 0}function IV(t){return t===null?NaN:+t}function*vre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const yre=YC(df),cy=yre.right;YC(IV).center;class DU extends Map{constructor(e,n=_re){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(NU(this,e))}has(e){return super.has(NU(this,e))}set(e,n){return super.set(xre(this,e),n)}delete(e){return super.delete(bre(this,e))}}function NU({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function xre({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function bre({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function _re(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Sre(t=df){if(t===df)return BV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function BV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Mre=Math.sqrt(50),Ere=Math.sqrt(10),Tre=Math.sqrt(2);function TS(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=Mre?10:a>=Ere?5:a>=Tre?2:1;let u,f,d;return r<0?(d=Math.pow(10,-r)/o,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,r)*o,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?TS(t,e,n*2):[u,f,d]}function Ww(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,a,o]=i?TS(e,t,n):TS(t,e,n);if(!(a>=r))return[];const u=a-r+1,f=new Array(u);if(i)if(o<0)for(let d=0;d<u;++d)f[d]=(a-d)/-o;else for(let d=0;d<u;++d)f[d]=(a-d)*o;else if(o<0)for(let d=0;d<u;++d)f[d]=(r+d)/-o;else for(let d=0;d<u;++d)f[d]=(r+d)*o;return f}function Yw(t,e,n){return e=+e,t=+t,n=+n,TS(t,e,n)[2]}function Kw(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?Yw(e,t,n):Yw(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function OU(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function PU(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function zV(t,e,n=0,i=1/0,r){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(r=r===void 0?BV:Sre(r);i>n;){if(i-n>600){const f=i-n+1,d=e-n+1,m=Math.log(f),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(f-g)/f)*(d-f/2<0?-1:1),b=Math.max(n,Math.floor(e-d*g/f+y)),_=Math.min(i,Math.floor(e+(f-d)*g/f+y));zV(t,e,b,_,r)}const a=t[e];let o=n,u=i;for(Lv(t,n,e),r(t[i],a)>0&&Lv(t,n,i);o<u;){for(Lv(t,o,u),++o,--u;r(t[o],a)<0;)++o;for(;r(t[u],a)>0;)--u}r(t[n],a)===0?Lv(t,n,u):(++u,Lv(t,u,i)),u<=e&&(n=u+1),e<=u&&(i=u-1)}return t}function Lv(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Are(t,e,n){if(t=Float64Array.from(vre(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return PU(t);if(e>=1)return OU(t);var i,r=(i-1)*e,a=Math.floor(r),o=OU(zV(t,a).subarray(0,a+1)),u=PU(t.subarray(a+1));return o+(u-o)*(r-a)}}function wre(t,e,n=IV){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,a=Math.floor(r),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(r-a)}}function Cre(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(r);++i<r;)a[i]=t+i*n;return a}function fo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function nc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Zw=Symbol("implicit");function KC(){var t=new DU,e=[],n=[],i=Zw;function r(a){let o=t.get(a);if(o===void 0){if(i!==Zw)return i;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return r.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new DU;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return KC(e,n).unknown(i)},fo.apply(r,arguments),r}function ZC(){var t=KC().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,a,o,u=!1,f=0,d=0,m=.5;delete t.unknown;function g(){var y=e().length,b=r<i,_=b?r:i,A=b?i:r;a=(A-_)/Math.max(1,y-f+d*2),u&&(a=Math.floor(a)),_+=(A-_-a*(y-f))*m,o=a*(1-f),u&&(_=Math.round(_),o=Math.round(o));var T=Cre(y).map(function(M){return _+a*M});return n(b?T.reverse():T)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([i,r]=y,i=+i,r=+r,g()):[i,r]},t.rangeRound=function(y){return[i,r]=y,i=+i,r=+r,u=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),g()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},t.paddingOuter=function(y){return arguments.length?(d=+y,g()):d},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},t.copy=function(){return ZC(e(),[i,r]).round(u).paddingInner(f).paddingOuter(d).align(m)},fo.apply(g(),arguments)}function VV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return VV(e())},t}function Rre(){return VV(ZC.apply(null,arguments).paddingInner(1))}function QC(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function HV(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function fy(){}var L0=.7,AS=1/L0,mm="\\s*([+-]?\\d+)\\s*",I0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dre=/^#([0-9a-f]{3,8})$/,Nre=new RegExp(`^rgb\\(${mm},${mm},${mm}\\)$`),Ore=new RegExp(`^rgb\\(${Kl},${Kl},${Kl}\\)$`),Pre=new RegExp(`^rgba\\(${mm},${mm},${mm},${I0}\\)$`),Ure=new RegExp(`^rgba\\(${Kl},${Kl},${Kl},${I0}\\)$`),Lre=new RegExp(`^hsl\\(${I0},${Kl},${Kl}\\)$`),Ire=new RegExp(`^hsla\\(${I0},${Kl},${Kl},${I0}\\)$`),UU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QC(fy,B0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LU,formatHex:LU,formatHex8:Bre,formatHsl:zre,formatRgb:IU,toString:IU});function LU(){return this.rgb().formatHex()}function Bre(){return this.rgb().formatHex8()}function zre(){return FV(this).formatHsl()}function IU(){return this.rgb().formatRgb()}function B0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dre.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?BU(e):n===3?new rs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?n_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?n_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nre.exec(t))?new rs(e[1],e[2],e[3],1):(e=Ore.exec(t))?new rs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pre.exec(t))?n_(e[1],e[2],e[3],e[4]):(e=Ure.exec(t))?n_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Lre.exec(t))?HU(e[1],e[2]/100,e[3]/100,1):(e=Ire.exec(t))?HU(e[1],e[2]/100,e[3]/100,e[4]):UU.hasOwnProperty(t)?BU(UU[t]):t==="transparent"?new rs(NaN,NaN,NaN,0):null}function BU(t){return new rs(t>>16&255,t>>8&255,t&255,1)}function n_(t,e,n,i){return i<=0&&(t=e=n=NaN),new rs(t,e,n,i)}function Vre(t){return t instanceof fy||(t=B0(t)),t?(t=t.rgb(),new rs(t.r,t.g,t.b,t.opacity)):new rs}function Qw(t,e,n,i){return arguments.length===1?Vre(t):new rs(t,e,n,i??1)}function rs(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}QC(rs,Qw,HV(fy,{brighter(t){return t=t==null?AS:Math.pow(AS,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?L0:Math.pow(L0,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rs(ud(this.r),ud(this.g),ud(this.b),wS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zU,formatHex:zU,formatHex8:Hre,formatRgb:VU,toString:VU}));function zU(){return`#${$h(this.r)}${$h(this.g)}${$h(this.b)}`}function Hre(){return`#${$h(this.r)}${$h(this.g)}${$h(this.b)}${$h((isNaN(this.opacity)?1:this.opacity)*255)}`}function VU(){const t=wS(this.opacity);return`${t===1?"rgb(":"rgba("}${ud(this.r)}, ${ud(this.g)}, ${ud(this.b)}${t===1?")":`, ${t})`}`}function wS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ud(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $h(t){return t=ud(t),(t<16?"0":"")+t.toString(16)}function HU(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xo(t,e,n,i)}function FV(t){if(t instanceof Xo)return new Xo(t.h,t.s,t.l,t.opacity);if(t instanceof fy||(t=B0(t)),!t)return new Xo;if(t instanceof Xo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,u=a-r,f=(a+r)/2;return u?(e===a?o=(n-i)/u+(n<i)*6:n===a?o=(i-e)/u+2:o=(e-n)/u+4,u/=f<.5?a+r:2-a-r,o*=60):u=f>0&&f<1?0:o,new Xo(o,u,f,t.opacity)}function Fre(t,e,n,i){return arguments.length===1?FV(t):new Xo(t,e,n,i??1)}function Xo(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}QC(Xo,Fre,HV(fy,{brighter(t){return t=t==null?AS:Math.pow(AS,t),new Xo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?L0:Math.pow(L0,t),new Xo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new rs(pA(t>=240?t-240:t+120,r,i),pA(t,r,i),pA(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Xo(FU(this.h),i_(this.s),i_(this.l),wS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wS(this.opacity);return`${t===1?"hsl(":"hsla("}${FU(this.h)}, ${i_(this.s)*100}%, ${i_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function FU(t){return t=(t||0)%360,t<0?t+360:t}function i_(t){return Math.max(0,Math.min(1,t||0))}function pA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const JC=t=>()=>t;function jre(t,e){return function(n){return t+n*e}}function kre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Gre(t){return(t=+t)==1?jV:function(e,n){return n-e?kre(e,n,t):JC(isNaN(e)?n:e)}}function jV(t,e){var n=e-t;return n?jre(t,n):JC(isNaN(t)?e:t)}const jU=(function t(e){var n=Gre(e);function i(r,a){var o=n((r=Qw(r)).r,(a=Qw(a)).r),u=n(r.g,a.g),f=n(r.b,a.b),d=jV(r.opacity,a.opacity);return function(m){return r.r=o(m),r.g=u(m),r.b=f(m),r.opacity=d(m),r+""}}return i.gamma=t,i})(1);function qre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=t[r]*(1-a)+e[r]*a;return i}}function Xre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wre(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)r[o]=Wm(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<i;++o)a[o]=r[o](u);return a}}function Yre(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function CS(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kre(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=Wm(t[r],e[r]):i[r]=e[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var Jw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mA=new RegExp(Jw.source,"g");function Zre(t){return function(){return t}}function Qre(t){return function(e){return t(e)+""}}function Jre(t,e){var n=Jw.lastIndex=mA.lastIndex=0,i,r,a,o=-1,u=[],f=[];for(t=t+"",e=e+"";(i=Jw.exec(t))&&(r=mA.exec(e));)(a=r.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(i=i[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,f.push({i:o,x:CS(i,r)})),n=mA.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?f[0]?Qre(f[0].x):Zre(e):(e=f.length,function(d){for(var m=0,g;m<e;++m)u[(g=f[m]).i]=g.x(d);return u.join("")})}function Wm(t,e){var n=typeof e,i;return e==null||n==="boolean"?JC(e):(n==="number"?CS:n==="string"?(i=B0(e))?(e=i,jU):Jre:e instanceof B0?jU:e instanceof Date?Yre:Xre(e)?qre:Array.isArray(e)?Wre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kre:CS)(t,e)}function $C(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $re(t,e){e===void 0&&(e=t,t=Wm);for(var n=0,i=e.length-1,r=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(r,r=e[++n]);return function(o){var u=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[u](o-u)}}function eae(t){return function(){return t}}function RS(t){return+t}var kU=[0,1];function Na(t){return t}function $w(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:eae(isNaN(e)?NaN:.5)}function tae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function nae(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return r<i?(i=$w(r,i),a=n(o,a)):(i=$w(i,r),a=n(a,o)),function(u){return a(i(u))}}function iae(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=$w(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var f=cy(t,u,1,i)-1;return a[f](r[f](u))}}function hy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function j1(){var t=kU,e=kU,n=Wm,i,r,a,o=Na,u,f,d;function m(){var y=Math.min(t.length,e.length);return o!==Na&&(o=tae(t[0],t[y-1])),u=y>2?iae:nae,f=d=null,g}function g(y){return y==null||isNaN(y=+y)?a:(f||(f=u(t.map(i),e,n)))(i(o(y)))}return g.invert=function(y){return o(r((d||(d=u(e,t.map(i),CS)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,RS),m()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=$C,m()},g.clamp=function(y){return arguments.length?(o=y?!0:Na,m()):o!==Na},g.interpolate=function(y){return arguments.length?(n=y,m()):n},g.unknown=function(y){return arguments.length?(a=y,g):a},function(y,b){return i=y,r=b,m()}}function eR(){return j1()(Na,Na)}function rae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function DS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Om(t){return t=DS(Math.abs(t)),t?t[1]:NaN}function aae(t,e){return function(n,i){for(var r=n.length,a=[],o=0,u=t[0],f=0;r>0&&u>0&&(f+u+1>i&&(u=Math.max(1,i-f)),a.push(n.substring(r-=u,r+u)),!((f+=u+1)>i));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function sae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var oae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z0(t){if(!(e=oae.exec(t)))throw new Error("invalid format: "+t);var e;return new tR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}z0.prototype=tR.prototype;function tR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lae(t){e:for(var e=t.length,n=1,i=-1,r;n<e;++n)switch(t[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(r+1):t}var kV;function uae(t,e){var n=DS(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(kV=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+DS(t,Math.max(0,e+a-1))[0]}function GU(t,e){var n=DS(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const qU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>GU(t*100,e),r:GU,s:uae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XU(t){return t}var WU=Array.prototype.map,YU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cae(t){var e=t.grouping===void 0||t.thousands===void 0?XU:aae(WU.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",r=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?XU:sae(WU.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(g){g=z0(g);var y=g.fill,b=g.align,_=g.sign,A=g.symbol,T=g.zero,M=g.width,R=g.comma,D=g.precision,N=g.trim,U=g.type;U==="n"?(R=!0,U="g"):qU[U]||(D===void 0&&(D=12),N=!0,U="g"),(T||y==="0"&&b==="=")&&(T=!0,y="0",b="=");var L=A==="$"?n:A==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",V=A==="$"?i:/[%p]/.test(U)?o:"",F=qU[U],B=/[defgprs%]/.test(U);D=D===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function z(G){var ee=L,ie=V,pe,ue,X;if(U==="c")ie=F(G)+ie,G="";else{G=+G;var Q=G<0||1/G<0;if(G=isNaN(G)?f:F(Math.abs(G),D),N&&(G=lae(G)),Q&&+G==0&&_!=="+"&&(Q=!1),ee=(Q?_==="("?_:u:_==="-"||_==="("?"":_)+ee,ie=(U==="s"?YU[8+kV/3]:"")+ie+(Q&&_==="("?")":""),B){for(pe=-1,ue=G.length;++pe<ue;)if(X=G.charCodeAt(pe),48>X||X>57){ie=(X===46?r+G.slice(pe+1):G.slice(pe))+ie,G=G.slice(0,pe);break}}}R&&!T&&(G=e(G,1/0));var $=ee.length+G.length+ie.length,me=$<M?new Array(M-$+1).join(y):"";switch(R&&T&&(G=e(me+G,me.length?M-ie.length:1/0),me=""),b){case"<":G=ee+G+ie+me;break;case"=":G=ee+me+G+ie;break;case"^":G=me.slice(0,$=me.length>>1)+ee+G+ie+me.slice($);break;default:G=me+ee+G+ie;break}return a(G)}return z.toString=function(){return g+""},z}function m(g,y){var b=d((g=z0(g),g.type="f",g)),_=Math.max(-8,Math.min(8,Math.floor(Om(y)/3)))*3,A=Math.pow(10,-_),T=YU[8+_/3];return function(M){return b(A*M)+T}}return{format:d,formatPrefix:m}}var r_,nR,GV;fae({thousands:",",grouping:[3],currency:["$",""]});function fae(t){return r_=cae(t),nR=r_.format,GV=r_.formatPrefix,r_}function hae(t){return Math.max(0,-Om(Math.abs(t)))}function dae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Om(e)/3)))*3-Om(Math.abs(t)))}function pae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Om(e)-Om(t))+1}function qV(t,e,n,i){var r=Kw(t,e,n),a;switch(i=z0(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=dae(r,o))&&(i.precision=a),GV(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=pae(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=hae(r))&&(i.precision=a-(i.type==="%")*2);break}}return nR(i)}function wf(t){var e=t.domain;return t.ticks=function(n){var i=e();return Ww(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return qV(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,a=i.length-1,o=i[r],u=i[a],f,d,m=10;for(u<o&&(d=o,o=u,u=d,d=r,r=a,a=d);m-- >0;){if(d=Yw(o,u,n),d===f)return i[r]=o,i[a]=u,e(i);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function XV(){var t=eR();return t.copy=function(){return hy(t,XV())},fo.apply(t,arguments),wf(t)}function WV(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,RS),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return WV(t).unknown(e)},t=arguments.length?Array.from(t,RS):[0,1],wf(n)}function YV(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],a=t[i],o;return a<r&&(o=n,n=i,i=o,o=r,r=a,a=o),t[n]=e.floor(r),t[i]=e.ceil(a),t}function KU(t){return Math.log(t)}function ZU(t){return Math.exp(t)}function mae(t){return-Math.log(-t)}function gae(t){return-Math.exp(-t)}function vae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yae(t){return t===10?vae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function QU(t){return(e,n)=>-t(-e,n)}function iR(t){const e=t(KU,ZU),n=e.domain;let i=10,r,a;function o(){return r=xae(i),a=yae(i),n()[0]<0?(r=QU(r),a=QU(a),t(mae,gae)):t(KU,ZU),e}return e.base=function(u){return arguments.length?(i=+u,o()):i},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let d=f[0],m=f[f.length-1];const g=m<d;g&&([d,m]=[m,d]);let y=r(d),b=r(m),_,A;const T=u==null?10:+u;let M=[];if(!(i%1)&&b-y<T){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(_=1;_<i;++_)if(A=y<0?_/a(-y):_*a(y),!(A<d)){if(A>m)break;M.push(A)}}else for(;y<=b;++y)for(_=i-1;_>=1;--_)if(A=y>0?_/a(-y):_*a(y),!(A<d)){if(A>m)break;M.push(A)}M.length*2<T&&(M=Ww(d,m,T))}else M=Ww(y,b,Math.min(b-y,T)).map(a);return g?M.reverse():M},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=i===10?"s":","),typeof f!="function"&&(!(i%1)&&(f=z0(f)).precision==null&&(f.trim=!0),f=nR(f)),u===1/0)return f;const d=Math.max(1,i*u/e.ticks().length);return m=>{let g=m/a(Math.round(r(m)));return g*i<i-.5&&(g*=i),g<=d?f(m):""}},e.nice=()=>n(YV(n(),{floor:u=>a(Math.floor(r(u))),ceil:u=>a(Math.ceil(r(u)))})),e}function KV(){const t=iR(j1()).domain([1,10]);return t.copy=()=>hy(t,KV()).base(t.base()),fo.apply(t,arguments),t}function JU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $U(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rR(t){var e=1,n=t(JU(e),$U(e));return n.constant=function(i){return arguments.length?t(JU(e=+i),$U(e)):e},wf(n)}function ZV(){var t=rR(j1());return t.copy=function(){return hy(t,ZV()).constant(t.constant())},fo.apply(t,arguments)}function eL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _ae(t){return t<0?-t*t:t*t}function aR(t){var e=t(Na,Na),n=1;function i(){return n===1?t(Na,Na):n===.5?t(bae,_ae):t(eL(n),eL(1/n))}return e.exponent=function(r){return arguments.length?(n=+r,i()):n},wf(e)}function sR(){var t=aR(j1());return t.copy=function(){return hy(t,sR()).exponent(t.exponent())},fo.apply(t,arguments),t}function Sae(){return sR.apply(null,arguments).exponent(.5)}function tL(t){return Math.sign(t)*t*t}function Mae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function QV(){var t=eR(),e=[0,1],n=!1,i;function r(a){var o=Mae(t(a));return isNaN(o)?i:n?Math.round(o):o}return r.invert=function(a){return t.invert(tL(a))},r.domain=function(a){return arguments.length?(t.domain(a),r):t.domain()},r.range=function(a){return arguments.length?(t.range((e=Array.from(a,RS)).map(tL)),r):e.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(n=!!a,r):n},r.clamp=function(a){return arguments.length?(t.clamp(a),r):t.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return QV(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},fo.apply(r,arguments),wf(r)}function JV(){var t=[],e=[],n=[],i;function r(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=wre(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?i:e[cy(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(df),r()},a.range=function(o){return arguments.length?(e=Array.from(o),r()):e.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return JV().domain(t).range(e).unknown(i)},fo.apply(a,arguments)}function $V(){var t=0,e=1,n=1,i=[.5],r=[0,1],a;function o(f){return f!=null&&f<=f?r[cy(i,f,0,n)]:a}function u(){var f=-1;for(i=new Array(n);++f<n;)i[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(r=Array.from(f)).length-1,u()):r.slice()},o.invertExtent=function(f){var d=r.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,i[0]]:d>=n?[i[n-1],e]:[i[d-1],i[d]]},o.unknown=function(f){return arguments.length&&(a=f),o},o.thresholds=function(){return i.slice()},o.copy=function(){return $V().domain([t,e]).range(r).unknown(a)},fo.apply(wf(o),arguments)}function eH(){var t=[.5],e=[0,1],n,i=1;function r(a){return a!=null&&a<=a?e[cy(t,a,0,i)]:n}return r.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),r):t.slice()},r.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),r):e.slice()},r.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return eH().domain(t).range(e).unknown(n)},fo.apply(r,arguments)}const gA=new Date,vA=new Date;function dr(t,e,n,i){function r(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(t(a=new Date(+a)),a),r.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),r.round=a=>{const o=r(a),u=r.ceil(a);return a-o<u-a?o:u},r.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),r.range=(a,o,u)=>{const f=[];if(a=r.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return f;let d;do f.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<o);return f},r.filter=a=>dr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(r.count=(a,o)=>(gA.setTime(+a),vA.setTime(+o),t(gA),t(vA),Math.floor(n(gA,vA))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?o=>i(o)%a===0:o=>r.count(0,o)%a===0):r)),r}const NS=dr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);NS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):NS);NS.range;const Lu=1e3,ao=Lu*60,Iu=ao*60,Ku=Iu*24,oR=Ku*7,nL=Ku*30,yA=Ku*365,ed=dr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Lu)},(t,e)=>(e-t)/Lu,t=>t.getUTCSeconds());ed.range;const lR=dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lu)},(t,e)=>{t.setTime(+t+e*ao)},(t,e)=>(e-t)/ao,t=>t.getMinutes());lR.range;const uR=dr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ao)},(t,e)=>(e-t)/ao,t=>t.getUTCMinutes());uR.range;const cR=dr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lu-t.getMinutes()*ao)},(t,e)=>{t.setTime(+t+e*Iu)},(t,e)=>(e-t)/Iu,t=>t.getHours());cR.range;const fR=dr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Iu)},(t,e)=>(e-t)/Iu,t=>t.getUTCHours());fR.range;const dy=dr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ao)/Ku,t=>t.getDate()-1);dy.range;const k1=dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ku,t=>t.getUTCDate()-1);k1.range;const tH=dr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ku,t=>Math.floor(t/Ku));tH.range;function Ed(t){return dr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ao)/oR)}const G1=Ed(0),OS=Ed(1),Eae=Ed(2),Tae=Ed(3),Pm=Ed(4),Aae=Ed(5),wae=Ed(6);G1.range;OS.range;Eae.range;Tae.range;Pm.range;Aae.range;wae.range;function Td(t){return dr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/oR)}const q1=Td(0),PS=Td(1),Cae=Td(2),Rae=Td(3),Um=Td(4),Dae=Td(5),Nae=Td(6);q1.range;PS.range;Cae.range;Rae.range;Um.range;Dae.range;Nae.range;const hR=dr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hR.range;const dR=dr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dR.range;const Zu=dr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Zu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Zu.range;const Qu=dr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qu.range;function nH(t,e,n,i,r,a){const o=[[ed,1,Lu],[ed,5,5*Lu],[ed,15,15*Lu],[ed,30,30*Lu],[a,1,ao],[a,5,5*ao],[a,15,15*ao],[a,30,30*ao],[r,1,Iu],[r,3,3*Iu],[r,6,6*Iu],[r,12,12*Iu],[i,1,Ku],[i,2,2*Ku],[n,1,oR],[e,1,nL],[e,3,3*nL],[t,1,yA]];function u(d,m,g){const y=m<d;y&&([d,m]=[m,d]);const b=g&&typeof g.range=="function"?g:f(d,m,g),_=b?b.range(d,+m+1):[];return y?_.reverse():_}function f(d,m,g){const y=Math.abs(m-d)/g,b=YC(([,,T])=>T).right(o,y);if(b===o.length)return t.every(Kw(d/yA,m/yA,g));if(b===0)return NS.every(Math.max(Kw(d,m,g),1));const[_,A]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return _.every(A)}return[u,f]}const[Oae,Pae]=nH(Qu,dR,q1,tH,fR,uR),[Uae,Lae]=nH(Zu,hR,G1,dy,cR,lR);function xA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Iv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Iae(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,a=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,d=Bv(r),m=zv(r),g=Bv(a),y=zv(a),b=Bv(o),_=zv(o),A=Bv(u),T=zv(u),M=Bv(f),R=zv(f),D={a:Q,A:$,b:me,B:Y,c:null,d:lL,e:lL,f:ase,g:mse,G:vse,H:nse,I:ise,j:rse,L:iH,m:sse,M:ose,p:re,q:he,Q:fL,s:hL,S:lse,u:use,U:cse,V:fse,w:hse,W:dse,x:null,X:null,y:pse,Y:gse,Z:yse,"%":cL},N={a:Pe,A:je,b:ot,B:ve,c:null,d:uL,e:uL,f:Sse,g:Ose,G:Use,H:xse,I:bse,j:_se,L:aH,m:Mse,M:Ese,p:ze,q:Ye,Q:fL,s:hL,S:Tse,u:Ase,U:wse,V:Cse,w:Rse,W:Dse,x:null,X:null,y:Nse,Y:Pse,Z:Lse,"%":cL},U={a:z,A:G,b:ee,B:ie,c:pe,d:sL,e:sL,f:Jae,g:aL,G:rL,H:oL,I:oL,j:Yae,L:Qae,m:Wae,M:Kae,p:B,q:Xae,Q:ese,s:tse,S:Zae,u:Fae,U:jae,V:kae,w:Hae,W:Gae,x:ue,X,y:aL,Y:rL,Z:qae,"%":$ae};D.x=L(n,D),D.X=L(i,D),D.c=L(e,D),N.x=L(n,N),N.X=L(i,N),N.c=L(e,N);function L(Oe,Xe){return function(lt){var Le=[],J=-1,De=0,Ue=Oe.length,Ne,we,tt;for(lt instanceof Date||(lt=new Date(+lt));++J<Ue;)Oe.charCodeAt(J)===37&&(Le.push(Oe.slice(De,J)),(we=iL[Ne=Oe.charAt(++J)])!=null?Ne=Oe.charAt(++J):we=Ne==="e"?" ":"0",(tt=Xe[Ne])&&(Ne=tt(lt,we)),Le.push(Ne),De=J+1);return Le.push(Oe.slice(De,J)),Le.join("")}}function V(Oe,Xe){return function(lt){var Le=Iv(1900,void 0,1),J=F(Le,Oe,lt+="",0),De,Ue;if(J!=lt.length)return null;if("Q"in Le)return new Date(Le.Q);if("s"in Le)return new Date(Le.s*1e3+("L"in Le?Le.L:0));if(Xe&&!("Z"in Le)&&(Le.Z=0),"p"in Le&&(Le.H=Le.H%12+Le.p*12),Le.m===void 0&&(Le.m="q"in Le?Le.q:0),"V"in Le){if(Le.V<1||Le.V>53)return null;"w"in Le||(Le.w=1),"Z"in Le?(De=bA(Iv(Le.y,0,1)),Ue=De.getUTCDay(),De=Ue>4||Ue===0?PS.ceil(De):PS(De),De=k1.offset(De,(Le.V-1)*7),Le.y=De.getUTCFullYear(),Le.m=De.getUTCMonth(),Le.d=De.getUTCDate()+(Le.w+6)%7):(De=xA(Iv(Le.y,0,1)),Ue=De.getDay(),De=Ue>4||Ue===0?OS.ceil(De):OS(De),De=dy.offset(De,(Le.V-1)*7),Le.y=De.getFullYear(),Le.m=De.getMonth(),Le.d=De.getDate()+(Le.w+6)%7)}else("W"in Le||"U"in Le)&&("w"in Le||(Le.w="u"in Le?Le.u%7:"W"in Le?1:0),Ue="Z"in Le?bA(Iv(Le.y,0,1)).getUTCDay():xA(Iv(Le.y,0,1)).getDay(),Le.m=0,Le.d="W"in Le?(Le.w+6)%7+Le.W*7-(Ue+5)%7:Le.w+Le.U*7-(Ue+6)%7);return"Z"in Le?(Le.H+=Le.Z/100|0,Le.M+=Le.Z%100,bA(Le)):xA(Le)}}function F(Oe,Xe,lt,Le){for(var J=0,De=Xe.length,Ue=lt.length,Ne,we;J<De;){if(Le>=Ue)return-1;if(Ne=Xe.charCodeAt(J++),Ne===37){if(Ne=Xe.charAt(J++),we=U[Ne in iL?Xe.charAt(J++):Ne],!we||(Le=we(Oe,lt,Le))<0)return-1}else if(Ne!=lt.charCodeAt(Le++))return-1}return Le}function B(Oe,Xe,lt){var Le=d.exec(Xe.slice(lt));return Le?(Oe.p=m.get(Le[0].toLowerCase()),lt+Le[0].length):-1}function z(Oe,Xe,lt){var Le=b.exec(Xe.slice(lt));return Le?(Oe.w=_.get(Le[0].toLowerCase()),lt+Le[0].length):-1}function G(Oe,Xe,lt){var Le=g.exec(Xe.slice(lt));return Le?(Oe.w=y.get(Le[0].toLowerCase()),lt+Le[0].length):-1}function ee(Oe,Xe,lt){var Le=M.exec(Xe.slice(lt));return Le?(Oe.m=R.get(Le[0].toLowerCase()),lt+Le[0].length):-1}function ie(Oe,Xe,lt){var Le=A.exec(Xe.slice(lt));return Le?(Oe.m=T.get(Le[0].toLowerCase()),lt+Le[0].length):-1}function pe(Oe,Xe,lt){return F(Oe,e,Xe,lt)}function ue(Oe,Xe,lt){return F(Oe,n,Xe,lt)}function X(Oe,Xe,lt){return F(Oe,i,Xe,lt)}function Q(Oe){return o[Oe.getDay()]}function $(Oe){return a[Oe.getDay()]}function me(Oe){return f[Oe.getMonth()]}function Y(Oe){return u[Oe.getMonth()]}function re(Oe){return r[+(Oe.getHours()>=12)]}function he(Oe){return 1+~~(Oe.getMonth()/3)}function Pe(Oe){return o[Oe.getUTCDay()]}function je(Oe){return a[Oe.getUTCDay()]}function ot(Oe){return f[Oe.getUTCMonth()]}function ve(Oe){return u[Oe.getUTCMonth()]}function ze(Oe){return r[+(Oe.getUTCHours()>=12)]}function Ye(Oe){return 1+~~(Oe.getUTCMonth()/3)}return{format:function(Oe){var Xe=L(Oe+="",D);return Xe.toString=function(){return Oe},Xe},parse:function(Oe){var Xe=V(Oe+="",!1);return Xe.toString=function(){return Oe},Xe},utcFormat:function(Oe){var Xe=L(Oe+="",N);return Xe.toString=function(){return Oe},Xe},utcParse:function(Oe){var Xe=V(Oe+="",!0);return Xe.toString=function(){return Oe},Xe}}}var iL={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,Bae=/^%/,zae=/[\\^$*+?|[\]().{}]/g;function Dn(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Vae(t){return t.replace(zae,"\\$&")}function Bv(t){return new RegExp("^(?:"+t.map(Vae).join("|")+")","i")}function zv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Hae(t,e,n){var i=Er.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Fae(t,e,n){var i=Er.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function jae(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function kae(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Gae(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function rL(t,e,n){var i=Er.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function aL(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function qae(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Xae(t,e,n){var i=Er.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function Wae(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function sL(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Yae(t,e,n){var i=Er.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function oL(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Kae(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Zae(t,e,n){var i=Er.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Qae(t,e,n){var i=Er.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Jae(t,e,n){var i=Er.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function $ae(t,e,n){var i=Bae.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ese(t,e,n){var i=Er.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function tse(t,e,n){var i=Er.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function lL(t,e){return Dn(t.getDate(),e,2)}function nse(t,e){return Dn(t.getHours(),e,2)}function ise(t,e){return Dn(t.getHours()%12||12,e,2)}function rse(t,e){return Dn(1+dy.count(Zu(t),t),e,3)}function iH(t,e){return Dn(t.getMilliseconds(),e,3)}function ase(t,e){return iH(t,e)+"000"}function sse(t,e){return Dn(t.getMonth()+1,e,2)}function ose(t,e){return Dn(t.getMinutes(),e,2)}function lse(t,e){return Dn(t.getSeconds(),e,2)}function use(t){var e=t.getDay();return e===0?7:e}function cse(t,e){return Dn(G1.count(Zu(t)-1,t),e,2)}function rH(t){var e=t.getDay();return e>=4||e===0?Pm(t):Pm.ceil(t)}function fse(t,e){return t=rH(t),Dn(Pm.count(Zu(t),t)+(Zu(t).getDay()===4),e,2)}function hse(t){return t.getDay()}function dse(t,e){return Dn(OS.count(Zu(t)-1,t),e,2)}function pse(t,e){return Dn(t.getFullYear()%100,e,2)}function mse(t,e){return t=rH(t),Dn(t.getFullYear()%100,e,2)}function gse(t,e){return Dn(t.getFullYear()%1e4,e,4)}function vse(t,e){var n=t.getDay();return t=n>=4||n===0?Pm(t):Pm.ceil(t),Dn(t.getFullYear()%1e4,e,4)}function yse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dn(e/60|0,"0",2)+Dn(e%60,"0",2)}function uL(t,e){return Dn(t.getUTCDate(),e,2)}function xse(t,e){return Dn(t.getUTCHours(),e,2)}function bse(t,e){return Dn(t.getUTCHours()%12||12,e,2)}function _se(t,e){return Dn(1+k1.count(Qu(t),t),e,3)}function aH(t,e){return Dn(t.getUTCMilliseconds(),e,3)}function Sse(t,e){return aH(t,e)+"000"}function Mse(t,e){return Dn(t.getUTCMonth()+1,e,2)}function Ese(t,e){return Dn(t.getUTCMinutes(),e,2)}function Tse(t,e){return Dn(t.getUTCSeconds(),e,2)}function Ase(t){var e=t.getUTCDay();return e===0?7:e}function wse(t,e){return Dn(q1.count(Qu(t)-1,t),e,2)}function sH(t){var e=t.getUTCDay();return e>=4||e===0?Um(t):Um.ceil(t)}function Cse(t,e){return t=sH(t),Dn(Um.count(Qu(t),t)+(Qu(t).getUTCDay()===4),e,2)}function Rse(t){return t.getUTCDay()}function Dse(t,e){return Dn(PS.count(Qu(t)-1,t),e,2)}function Nse(t,e){return Dn(t.getUTCFullYear()%100,e,2)}function Ose(t,e){return t=sH(t),Dn(t.getUTCFullYear()%100,e,2)}function Pse(t,e){return Dn(t.getUTCFullYear()%1e4,e,4)}function Use(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Um(t):Um.ceil(t),Dn(t.getUTCFullYear()%1e4,e,4)}function Lse(){return"+0000"}function cL(){return"%"}function fL(t){return+t}function hL(t){return Math.floor(+t/1e3)}var $p,oH,lH;Ise({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ise(t){return $p=Iae(t),oH=$p.format,$p.parse,lH=$p.utcFormat,$p.utcParse,$p}function Bse(t){return new Date(t)}function zse(t){return t instanceof Date?+t:+new Date(+t)}function pR(t,e,n,i,r,a,o,u,f,d){var m=eR(),g=m.invert,y=m.domain,b=d(".%L"),_=d(":%S"),A=d("%I:%M"),T=d("%I %p"),M=d("%a %d"),R=d("%b %d"),D=d("%B"),N=d("%Y");function U(L){return(f(L)<L?b:u(L)<L?_:o(L)<L?A:a(L)<L?T:i(L)<L?r(L)<L?M:R:n(L)<L?D:N)(L)}return m.invert=function(L){return new Date(g(L))},m.domain=function(L){return arguments.length?y(Array.from(L,zse)):y().map(Bse)},m.ticks=function(L){var V=y();return t(V[0],V[V.length-1],L??10)},m.tickFormat=function(L,V){return V==null?U:d(V)},m.nice=function(L){var V=y();return(!L||typeof L.range!="function")&&(L=e(V[0],V[V.length-1],L??10)),L?y(YV(V,L)):m},m.copy=function(){return hy(m,pR(t,e,n,i,r,a,o,u,f,d))},m}function Vse(){return fo.apply(pR(Uae,Lae,Zu,hR,G1,dy,cR,lR,ed,oH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hse(){return fo.apply(pR(Oae,Pae,Qu,dR,q1,k1,fR,uR,ed,lH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X1(){var t=0,e=1,n,i,r,a,o=Na,u=!1,f;function d(g){return g==null||isNaN(g=+g)?f:o(r===0?.5:(g=(a(g)-n)*r,u?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),i=a(e=+e),r=n===i?0:1/(i-n),d):[t,e]},d.clamp=function(g){return arguments.length?(u=!!g,d):u},d.interpolator=function(g){return arguments.length?(o=g,d):o};function m(g){return function(y){var b,_;return arguments.length?([b,_]=y,o=g(b,_),d):[o(0),o(1)]}}return d.range=m(Wm),d.rangeRound=m($C),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return a=g,n=g(t),i=g(e),r=n===i?0:1/(i-n),d}}function Cf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uH(){var t=wf(X1()(Na));return t.copy=function(){return Cf(t,uH())},nc.apply(t,arguments)}function cH(){var t=iR(X1()).domain([1,10]);return t.copy=function(){return Cf(t,cH()).base(t.base())},nc.apply(t,arguments)}function fH(){var t=rR(X1());return t.copy=function(){return Cf(t,fH()).constant(t.constant())},nc.apply(t,arguments)}function mR(){var t=aR(X1());return t.copy=function(){return Cf(t,mR()).exponent(t.exponent())},nc.apply(t,arguments)}function Fse(){return mR.apply(null,arguments).exponent(.5)}function hH(){var t=[],e=Na;function n(i){if(i!=null&&!isNaN(i=+i))return e((cy(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let r of i)r!=null&&!isNaN(r=+r)&&t.push(r);return t.sort(df),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,r)=>e(r/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,a)=>Are(t,a/i))},n.copy=function(){return hH(e).domain(t)},nc.apply(n,arguments)}function W1(){var t=0,e=.5,n=1,i=1,r,a,o,u,f,d=Na,m,g=!1,y;function b(A){return isNaN(A=+A)?y:(A=.5+((A=+m(A))-a)*(i*A<i*a?u:f),d(g?Math.max(0,Math.min(1,A)):A))}b.domain=function(A){return arguments.length?([t,e,n]=A,r=m(t=+t),a=m(e=+e),o=m(n=+n),u=r===a?0:.5/(a-r),f=a===o?0:.5/(o-a),i=a<r?-1:1,b):[t,e,n]},b.clamp=function(A){return arguments.length?(g=!!A,b):g},b.interpolator=function(A){return arguments.length?(d=A,b):d};function _(A){return function(T){var M,R,D;return arguments.length?([M,R,D]=T,d=$re(A,[M,R,D]),b):[d(0),d(.5),d(1)]}}return b.range=_(Wm),b.rangeRound=_($C),b.unknown=function(A){return arguments.length?(y=A,b):y},function(A){return m=A,r=A(t),a=A(e),o=A(n),u=r===a?0:.5/(a-r),f=a===o?0:.5/(o-a),i=a<r?-1:1,b}}function dH(){var t=wf(W1()(Na));return t.copy=function(){return Cf(t,dH())},nc.apply(t,arguments)}function pH(){var t=iR(W1()).domain([.1,1,10]);return t.copy=function(){return Cf(t,pH()).base(t.base())},nc.apply(t,arguments)}function mH(){var t=rR(W1());return t.copy=function(){return Cf(t,mH()).constant(t.constant())},nc.apply(t,arguments)}function gR(){var t=aR(W1());return t.copy=function(){return Cf(t,gR()).exponent(t.exponent())},nc.apply(t,arguments)}function jse(){return gR.apply(null,arguments).exponent(.5)}const Gv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ZC,scaleDiverging:dH,scaleDivergingLog:pH,scaleDivergingPow:gR,scaleDivergingSqrt:jse,scaleDivergingSymlog:mH,scaleIdentity:WV,scaleImplicit:Zw,scaleLinear:XV,scaleLog:KV,scaleOrdinal:KC,scalePoint:Rre,scalePow:sR,scaleQuantile:JV,scaleQuantize:$V,scaleRadial:QV,scaleSequential:uH,scaleSequentialLog:cH,scaleSequentialPow:mR,scaleSequentialQuantile:hH,scaleSequentialSqrt:Fse,scaleSequentialSymlog:fH,scaleSqrt:Sae,scaleSymlog:ZV,scaleThreshold:eH,scaleTime:Vse,scaleUtc:Hse,tickFormat:qV},Symbol.toStringTag,{value:"Module"}));var Rf=t=>t.chartData,vR=Ae([Rf],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),gH=(t,e,n,i)=>i?vR(t):Rf(t);function Lm(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Yu(e)&&Yu(n))return!0}return!1}function dL(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function kse(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,r,a;if(Yu(n))r=n;else if(typeof n=="function")return;if(Yu(i))a=i;else if(typeof i=="function")return;var o=[r,a];if(Lm(o))return o}}function Gse(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(Lm(i))return dL(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[r,a]=t,o,u;if(r==="auto")e!=null&&(o=Math.min(...e));else if(cr(r))o=r;else if(typeof r=="function")try{e!=null&&(o=r(e?.[0]))}catch{}else if(typeof r=="string"&&pU.test(r)){var f=pU.exec(r);if(f==null||e==null)o=void 0;else{var d=+f[1];o=e[0]-d}}else o=e?.[0];if(a==="auto")e!=null&&(u=Math.max(...e));else if(cr(a))u=a;else if(typeof a=="function")try{e!=null&&(u=a(e?.[1]))}catch{}else if(typeof a=="string"&&mU.test(a)){var m=mU.exec(a);if(m==null||e==null)u=void 0;else{var g=+m[1];u=e[1]+g}}else u=e?.[1];var y=[o,u];if(Lm(y))return e==null?y:dL(y,e,n)}}}var Ym=1e9,qse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xR,hi=!0,uo="[DecimalError] ",cd=uo+"Invalid argument: ",yR=uo+"Exponent out of range: ",Km=Math.floor,qh=Math.pow,Xse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ts,Sr=1e7,si=7,vH=9007199254740991,US=Km(vH/si),St={};St.absoluteValue=St.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};St.comparedTo=St.cmp=function(t){var e,n,i,r,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(i=a.d.length,r=t.d.length,e=0,n=i<r?i:r;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};St.decimalPlaces=St.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*si;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};St.dividedBy=St.div=function(t){return Hu(this,new this.constructor(t))};St.dividedToIntegerBy=St.idiv=function(t){var e=this,n=e.constructor;return $n(Hu(e,new n(t),0,1),n.precision)};St.equals=St.eq=function(t){return!this.cmp(t)};St.exponent=function(){return Zi(this)};St.greaterThan=St.gt=function(t){return this.cmp(t)>0};St.greaterThanOrEqualTo=St.gte=function(t){return this.cmp(t)>=0};St.isInteger=St.isint=function(){return this.e>this.d.length-2};St.isNegative=St.isneg=function(){return this.s<0};St.isPositive=St.ispos=function(){return this.s>0};St.isZero=function(){return this.s===0};St.lessThan=St.lt=function(t){return this.cmp(t)<0};St.lessThanOrEqualTo=St.lte=function(t){return this.cmp(t)<1};St.logarithm=St.log=function(t){var e,n=this,i=n.constructor,r=i.precision,a=r+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(Ts))throw Error(uo+"NaN");if(n.s<1)throw Error(uo+(n.s?"NaN":"-Infinity"));return n.eq(Ts)?new i(0):(hi=!1,e=Hu(V0(n,a),V0(t,a),a),hi=!0,$n(e,r))};St.minus=St.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bH(e,t):yH(e,(t.s=-t.s,t))};St.modulo=St.mod=function(t){var e,n=this,i=n.constructor,r=i.precision;if(t=new i(t),!t.s)throw Error(uo+"NaN");return n.s?(hi=!1,e=Hu(n,t,0,1).times(t),hi=!0,n.minus(e)):$n(new i(n),r)};St.naturalExponential=St.exp=function(){return xH(this)};St.naturalLogarithm=St.ln=function(){return V0(this)};St.negated=St.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};St.plus=St.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yH(e,t):bH(e,(t.s=-t.s,t))};St.precision=St.sd=function(t){var e,n,i,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cd+t);if(e=Zi(r)+1,i=r.d.length-1,n=i*si+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};St.squareRoot=St.sqrt=function(){var t,e,n,i,r,a,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(uo+"NaN")}for(t=Zi(u),hi=!1,r=Math.sqrt(+u),r==0||r==1/0?(e=jl(u.d),(e.length+t)%2==0&&(e+="0"),r=Math.sqrt(e),t=Km((t+1)/2)-(t<0||t%2),r==1/0?e="5e"+t:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new f(e)):i=new f(r.toString()),n=f.precision,r=o=n+3;;)if(a=i,i=a.plus(Hu(u,a,o+2)).times(.5),jl(a.d).slice(0,o)===(e=jl(i.d)).slice(0,o)){if(e=e.slice(o-3,o+1),r==o&&e=="4999"){if($n(a,n+1,0),a.times(a).eq(u)){i=a;break}}else if(e!="9999")break;o+=4}return hi=!0,$n(i,n)};St.times=St.mul=function(t){var e,n,i,r,a,o,u,f,d,m=this,g=m.constructor,y=m.d,b=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,f=y.length,d=b.length,f<d&&(a=y,y=b,b=a,o=f,f=d,d=o),a=[],o=f+d,i=o;i--;)a.push(0);for(i=d;--i>=0;){for(e=0,r=f+i;r>i;)u=a[r]+b[i]*y[r-i-1]+e,a[r--]=u%Sr|0,e=u/Sr|0;a[r]=(a[r]+e)%Sr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,hi?$n(t,g.precision):t};St.toDecimalPlaces=St.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Ql(t,0,Ym),e===void 0?e=i.rounding:Ql(e,0,8),$n(n,t+Zi(n)+1,e))};St.toExponential=function(t,e){var n,i=this,r=i.constructor;return t===void 0?n=xd(i,!0):(Ql(t,0,Ym),e===void 0?e=r.rounding:Ql(e,0,8),i=$n(new r(i),t+1,e),n=xd(i,!0,t+1)),n};St.toFixed=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?xd(r):(Ql(t,0,Ym),e===void 0?e=a.rounding:Ql(e,0,8),i=$n(new a(r),t+Zi(r)+1,e),n=xd(i.abs(),!1,t+Zi(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};St.toInteger=St.toint=function(){var t=this,e=t.constructor;return $n(new e(t),Zi(t)+1,e.rounding)};St.toNumber=function(){return+this};St.toPower=St.pow=function(t){var e,n,i,r,a,o,u=this,f=u.constructor,d=12,m=+(t=new f(t));if(!t.s)return new f(Ts);if(u=new f(u),!u.s){if(t.s<1)throw Error(uo+"Infinity");return u}if(u.eq(Ts))return u;if(i=f.precision,t.eq(Ts))return $n(u,i);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=m<0?-m:m)<=vH){for(r=new f(Ts),e=Math.ceil(i/si+4),hi=!1;n%2&&(r=r.times(u),mL(r.d,e)),n=Km(n/2),n!==0;)u=u.times(u),mL(u.d,e);return hi=!0,t.s<0?new f(Ts).div(r):$n(r,i)}}else if(a<0)throw Error(uo+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,hi=!1,r=t.times(V0(u,i+d)),hi=!0,r=xH(r),r.s=a,r};St.toPrecision=function(t,e){var n,i,r=this,a=r.constructor;return t===void 0?(n=Zi(r),i=xd(r,n<=a.toExpNeg||n>=a.toExpPos)):(Ql(t,1,Ym),e===void 0?e=a.rounding:Ql(e,0,8),r=$n(new a(r),t,e),n=Zi(r),i=xd(r,t<=n||n<=a.toExpNeg,t)),i};St.toSignificantDigits=St.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Ql(t,1,Ym),e===void 0?e=i.rounding:Ql(e,0,8)),$n(new i(n),t,e)};St.toString=St.valueOf=St.val=St.toJSON=St[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zi(t),n=t.constructor;return xd(t,e<=n.toExpNeg||e>=n.toExpPos)};function yH(t,e){var n,i,r,a,o,u,f,d,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),hi?$n(e,g):e;if(f=t.d,d=e.d,o=t.e,r=e.e,f=f.slice(),a=o-r,a){for(a<0?(i=f,a=-a,u=d.length):(i=d,r=o,u=f.length),o=Math.ceil(g/si),u=o>u?o+1:u+1,a>u&&(a=u,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(u=f.length,a=d.length,u-a<0&&(a=u,i=d,d=f,f=i),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/Sr|0,f[a]%=Sr;for(n&&(f.unshift(n),++r),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=r,hi?$n(e,g):e}function Ql(t,e,n){if(t!==~~t||t<e||t>n)throw Error(cd+t)}function jl(t){var e,n,i,r=t.length-1,a="",o=t[0];if(r>0){for(a+=o,e=1;e<r;e++)i=t[e]+"",n=si-i.length,n&&(a+=sf(n)),a+=i;o=t[e],i=o+"",n=si-i.length,n&&(a+=sf(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Hu=(function(){function t(i,r){var a,o=0,u=i.length;for(i=i.slice();u--;)a=i[u]*r+o,i[u]=a%Sr|0,o=a/Sr|0;return o&&i.unshift(o),i}function e(i,r,a,o){var u,f;if(a!=o)f=a>o?1:-1;else for(u=f=0;u<a;u++)if(i[u]!=r[u]){f=i[u]>r[u]?1:-1;break}return f}function n(i,r,a){for(var o=0;a--;)i[a]-=o,o=i[a]<r[a]?1:0,i[a]=o*Sr+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,o){var u,f,d,m,g,y,b,_,A,T,M,R,D,N,U,L,V,F,B=i.constructor,z=i.s==r.s?1:-1,G=i.d,ee=r.d;if(!i.s)return new B(i);if(!r.s)throw Error(uo+"Division by zero");for(f=i.e-r.e,V=ee.length,U=G.length,b=new B(z),_=b.d=[],d=0;ee[d]==(G[d]||0);)++d;if(ee[d]>(G[d]||0)&&--f,a==null?R=a=B.precision:o?R=a+(Zi(i)-Zi(r))+1:R=a,R<0)return new B(0);if(R=R/si+2|0,d=0,V==1)for(m=0,ee=ee[0],R++;(d<U||m)&&R--;d++)D=m*Sr+(G[d]||0),_[d]=D/ee|0,m=D%ee|0;else{for(m=Sr/(ee[0]+1)|0,m>1&&(ee=t(ee,m),G=t(G,m),V=ee.length,U=G.length),N=V,A=G.slice(0,V),T=A.length;T<V;)A[T++]=0;F=ee.slice(),F.unshift(0),L=ee[0],ee[1]>=Sr/2&&++L;do m=0,u=e(ee,A,V,T),u<0?(M=A[0],V!=T&&(M=M*Sr+(A[1]||0)),m=M/L|0,m>1?(m>=Sr&&(m=Sr-1),g=t(ee,m),y=g.length,T=A.length,u=e(g,A,y,T),u==1&&(m--,n(g,V<y?F:ee,y))):(m==0&&(u=m=1),g=ee.slice()),y=g.length,y<T&&g.unshift(0),n(A,g,T),u==-1&&(T=A.length,u=e(ee,A,V,T),u<1&&(m++,n(A,V<T?F:ee,T))),T=A.length):u===0&&(m++,A=[0]),_[d++]=m,u&&A[0]?A[T++]=G[N]||0:(A=[G[N]],T=1);while((N++<U||A[0]!==void 0)&&R--)}return _[0]||_.shift(),b.e=f,$n(b,o?a+Zi(b)+1:a)}})();function xH(t,e){var n,i,r,a,o,u,f=0,d=0,m=t.constructor,g=m.precision;if(Zi(t)>16)throw Error(yR+Zi(t));if(!t.s)return new m(Ts);for(hi=!1,u=g,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(i=Math.log(qh(2,d))/Math.LN10*2+5|0,u+=i,n=r=a=new m(Ts),m.precision=u;;){if(r=$n(r.times(t),u),n=n.times(++f),o=a.plus(Hu(r,n,u)),jl(o.d).slice(0,u)===jl(a.d).slice(0,u)){for(;d--;)a=$n(a.times(a),u);return m.precision=g,e==null?(hi=!0,$n(a,g)):a}a=o}}function Zi(t){for(var e=t.e*si,n=t.d[0];n>=10;n/=10)e++;return e}function _A(t,e,n){if(e>t.LN10.sd())throw hi=!0,n&&(t.precision=n),Error(uo+"LN10 precision limit exceeded");return $n(new t(t.LN10),e)}function sf(t){for(var e="";t--;)e+="0";return e}function V0(t,e){var n,i,r,a,o,u,f,d,m,g=1,y=10,b=t,_=b.d,A=b.constructor,T=A.precision;if(b.s<1)throw Error(uo+(b.s?"NaN":"-Infinity"));if(b.eq(Ts))return new A(0);if(e==null?(hi=!1,d=T):d=e,b.eq(10))return e==null&&(hi=!0),_A(A,d);if(d+=y,A.precision=d,n=jl(_),i=n.charAt(0),a=Zi(b),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)b=b.times(t),n=jl(b.d),i=n.charAt(0),g++;a=Zi(b),i>1?(b=new A("0."+n),a++):b=new A(i+"."+n.slice(1))}else return f=_A(A,d+2,T).times(a+""),b=V0(new A(i+"."+n.slice(1)),d-y).plus(f),A.precision=T,e==null?(hi=!0,$n(b,T)):b;for(u=o=b=Hu(b.minus(Ts),b.plus(Ts),d),m=$n(b.times(b),d),r=3;;){if(o=$n(o.times(m),d),f=u.plus(Hu(o,new A(r),d)),jl(f.d).slice(0,d)===jl(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(_A(A,d+2,T).times(a+""))),u=Hu(u,new A(g),d),A.precision=T,e==null?(hi=!0,$n(u,T)):u;u=f,r+=2}}function pL(t,e){var n,i,r;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,n=n-i-1,t.e=Km(n/si),t.d=[],i=(n+1)%si,n<0&&(i+=si),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=si;i<r;)t.d.push(+e.slice(i,i+=si));e=e.slice(i),i=si-e.length}else i-=r;for(;i--;)e+="0";if(t.d.push(+e),hi&&(t.e>US||t.e<-US))throw Error(yR+n)}else t.s=0,t.e=0,t.d=[0];return t}function $n(t,e,n){var i,r,a,o,u,f,d,m,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(i=e-o,i<0)i+=si,r=e,d=g[m=0];else{if(m=Math.ceil((i+1)/si),a=g.length,m>=a)return t;for(d=a=g[m],o=1;a>=10;a/=10)o++;i%=si,r=i-si+o}if(n!==void 0&&(a=qh(10,o-r-1),u=d/a%10|0,f=e<0||g[m+1]!==void 0||d%a,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(i>0?r>0?d/qh(10,o-r):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(a=Zi(t),g.length=1,e=e-a-1,g[0]=qh(10,(si-e%si)%si),t.e=Km(-e/si)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(i==0?(g.length=m,a=1,m--):(g.length=m+1,a=qh(10,si-i),g[m]=r>0?(d/qh(10,o-r)%qh(10,r)|0)*a:0),f)for(;;)if(m==0){(g[0]+=a)==Sr&&(g[0]=1,++t.e);break}else{if(g[m]+=a,g[m]!=Sr)break;g[m--]=0,a=1}for(i=g.length;g[--i]===0;)g.pop();if(hi&&(t.e>US||t.e<-US))throw Error(yR+Zi(t));return t}function bH(t,e){var n,i,r,a,o,u,f,d,m,g,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),hi?$n(e,b):e;if(f=t.d,g=e.d,i=e.e,d=t.e,f=f.slice(),o=d-i,o){for(m=o<0,m?(n=f,o=-o,u=g.length):(n=g,i=d,u=f.length),r=Math.max(Math.ceil(b/si),u)+2,o>r&&(o=r,n.length=1),n.reverse(),r=o;r--;)n.push(0);n.reverse()}else{for(r=f.length,u=g.length,m=r<u,m&&(u=r),r=0;r<u;r++)if(f[r]!=g[r]){m=f[r]<g[r];break}o=0}for(m&&(n=f,f=g,g=n,e.s=-e.s),u=f.length,r=g.length-u;r>0;--r)f[u++]=0;for(r=g.length;r>o;){if(f[--r]<g[r]){for(a=r;a&&f[--a]===0;)f[a]=Sr-1;--f[a],f[r]+=Sr}f[r]-=g[r]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--i;return f[0]?(e.d=f,e.e=i,hi?$n(e,b):e):new y(0)}function xd(t,e,n){var i,r=Zi(t),a=jl(t.d),o=a.length;return e?(n&&(i=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+sf(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+sf(-r-1)+a,n&&(i=n-o)>0&&(a+=sf(i))):r>=o?(a+=sf(r+1-o),n&&(i=n-r-1)>0&&(a=a+"."+sf(i))):((i=r+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-o)>0&&(r+1===o&&(a+="."),a+=sf(i))),t.s<0?"-"+a:a}function mL(t,e){if(t.length>e)return t.length=e,!0}function _H(t){var e,n,i;function r(a){var o=this;if(!(o instanceof r))return new r(a);if(o.constructor=r,a instanceof r){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(cd+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return pL(o,a.toString())}else if(typeof a!="string")throw Error(cd+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Xse.test(a))pL(o,a);else throw Error(cd+a)}if(r.prototype=St,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=_H,r.config=r.set=Wse,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return r.config(t),r}function Wse(t){if(!t||typeof t!="object")throw Error(uo+"Object expected");var e,n,i,r=["precision",1,Ym,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=t[n=r[e]])!==void 0)if(Km(i)===i&&i>=r[e+1]&&i<=r[e+2])this[n]=i;else throw Error(cd+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(cd+n+": "+i);return this}var xR=_H(qse);Ts=new xR(1);const Fn=xR;var Yse=t=>t,SH={},MH=t=>t===SH,gL=t=>function e(){return arguments.length===0||arguments.length===1&&MH(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},EH=(t,e)=>t===1?e:gL(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=i.filter(o=>o!==SH).length;return a>=t?e(...i):EH(t-a,gL(function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];var d=i.map(m=>MH(m)?u.shift():m);return e(...d,...u)}))}),Y1=t=>EH(t.length,t),e2=(t,e)=>{for(var n=[],i=t;i<e;++i)n[i-t]=i;return n},Kse=Y1((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Zse=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return Yse;var r=n.reverse(),a=r[0],o=r.slice(1);return function(){return o.reduce((u,f)=>f(u),a(...arguments))}},t2=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),TH=t=>{var e=null,n=null;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e&&r.every((o,u)=>{var f;return o===((f=e)===null||f===void 0?void 0:f[u])})||(e=r,n=t(...r)),n}};function AH(t){var e;return t===0?e=1:e=Math.floor(new Fn(t).abs().log(10).toNumber())+1,e}function wH(t,e,n){for(var i=new Fn(t),r=0,a=[];i.lt(e)&&r<1e5;)a.push(i.toNumber()),i=i.add(n),r++;return a}Y1((t,e,n)=>{var i=+t,r=+e;return i+n*(r-i)});Y1((t,e,n)=>{var i=e-+t;return i=i||1/0,(n-t)/i});Y1((t,e,n)=>{var i=e-+t;return i=i||1/0,Math.max(0,Math.min(1,(n-t)/i))});var CH=t=>{var[e,n]=t,[i,r]=[e,n];return e>n&&([i,r]=[n,e]),[i,r]},RH=(t,e,n)=>{if(t.lte(0))return new Fn(0);var i=AH(t.toNumber()),r=new Fn(10).pow(i),a=t.div(r),o=i!==1?.05:.1,u=new Fn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),f=u.mul(r);return e?new Fn(f.toNumber()):new Fn(Math.ceil(f.toNumber()))},Qse=(t,e,n)=>{var i=new Fn(1),r=new Fn(t);if(!r.isint()&&n){var a=Math.abs(t);a<1?(i=new Fn(10).pow(AH(t)-1),r=new Fn(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new Fn(Math.floor(t)))}else t===0?r=new Fn(Math.floor((e-1)/2)):n||(r=new Fn(Math.floor(t)));var o=Math.floor((e-1)/2),u=Zse(Kse(f=>r.add(new Fn(f-o).mul(i)).toNumber()),e2);return u(0,e)},DH=function(e,n,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new Fn(0),tickMin:new Fn(0),tickMax:new Fn(0)};var o=RH(new Fn(n).sub(e).div(i-1),r,a),u;e<=0&&n>=0?u=new Fn(0):(u=new Fn(e).add(n).div(2),u=u.sub(new Fn(u).mod(o)));var f=Math.ceil(u.sub(e).div(o).toNumber()),d=Math.ceil(new Fn(n).sub(u).div(o).toNumber()),m=f+d+1;return m>i?DH(e,n,i,r,a+1):(m<i&&(d=n>0?d+(i-m):d,f=n>0?f:f+(i-m)),{step:o,tickMin:u.sub(new Fn(f).mul(o)),tickMax:u.add(new Fn(d).mul(o))})};function Jse(t){var[e,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,u]=CH([e,n]);if(o===-1/0||u===1/0){var f=u===1/0?[o,...e2(0,i-1).map(()=>1/0)]:[...e2(0,i-1).map(()=>-1/0),u];return e>n?t2(f):f}if(o===u)return Qse(o,i,r);var{step:d,tickMin:m,tickMax:g}=DH(o,u,a,r,0),y=wH(m,g.add(new Fn(.1).mul(d)),d);return e>n?t2(y):y}function $se(t,e){var[n,i]=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=CH([n,i]);if(a===-1/0||o===1/0)return[n,i];if(a===o)return[a];var u=Math.max(e,2),f=RH(new Fn(o).sub(a).div(u-1),r,0),d=[...wH(new Fn(a),new Fn(o),f),o];return r===!1&&(d=d.map(m=>Math.round(m))),n>i?t2(d):d}var eoe=TH(Jse),toe=TH($se),noe=t=>t.rootProps.barCategoryGap,py=t=>t.rootProps.stackOffset,NH=t=>t.options.chartName,OH=t=>t.rootProps.syncId,ioe=t=>t.rootProps.syncMethod,PH=t=>t.options.eventEmitter,zl={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},es={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},K1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},roe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zl.angleAxisId,includeHidden:!1,name:void 0,reversed:zl.reversed,scale:zl.scale,tick:zl.tick,tickCount:void 0,ticks:void 0,type:zl.type,unit:void 0},aoe={allowDataOverflow:es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:es.tickCount,ticks:void 0,type:es.type,unit:void 0},soe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zl.scale,tick:zl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ooe={allowDataOverflow:es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:es.tickCount,ticks:void 0,type:"category",unit:void 0},Zm=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?soe:roe,my=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?ooe:aoe,Z1=t=>t.polarOptions,bR=Ae([ec,tc,us],Yne),UH=Ae([Z1,bR],(t,e)=>{if(t!=null)return gd(t.innerRadius,e,0)}),LH=Ae([Z1,bR],(t,e)=>{if(t!=null)return gd(t.outerRadius,e,e*.8)}),loe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},IH=Ae([Z1],loe),uoe=Ae([Zm,IH],K1),BH=Ae([bR,UH,LH],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),coe=Ae([my,BH],K1),Qm=Ae([Ln,Z1,UH,LH,ec,tc],(t,e,n,i,r,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:o,cy:u,startAngle:f,endAngle:d}=e;return{cx:gd(o,r,r/2),cy:gd(u,a,a/2),innerRadius:n,outerRadius:i,startAngle:f,endAngle:d,clockWise:!1}}}),ei=(t,e)=>e,gy=(t,e,n)=>n;function zH(t){return t?.id}var pr=t=>{var e=Ln(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Jm=t=>t.tooltip.settings.axisId,kr=t=>{var e=pr(t),n=Jm(t);return tg(t,e,n)},VH=Ae([kr],t=>t?.dataKey);function HH(t,e,n){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:a}=n,o=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:i;if(!(d==null||d.length===0)){var m=zH(u);d.forEach((g,y)=>{var b=a==null||r?y:String(sa(g,a,null)),_=sa(g,u.dataKey,0),A;o.has(b)?A=o.get(b):A={},Object.assign(A,{[m]:_}),o.set(b,A)})}}),Array.from(o.values())}function _R(t){return t.stackId!=null&&t.dataKey!=null}function vL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function LS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vL(Object(n),!0).forEach(function(i){foe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function foe(t,e,n){return(e=hoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=doe(t,"string");return typeof e=="symbol"?e:e+""}function doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n2=[0,"auto"],poe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},moe=(t,e)=>t.cartesianAxis.xAxis[e],$m=(t,e)=>{var n=moe(t,e);return n??poe},goe={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:n2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:uy},voe=(t,e)=>t.cartesianAxis.yAxis[e],eg=(t,e)=>{var n=voe(t,e);return n??goe},yoe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},SR=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??yoe},Fi=(t,e,n)=>{switch(e){case"xAxis":return $m(t,n);case"yAxis":return eg(t,n);case"zAxis":return SR(t,n);case"angleAxis":return Zm(t,n);case"radiusAxis":return my(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xoe=(t,e,n)=>{switch(e){case"xAxis":return $m(t,n);case"yAxis":return eg(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tg=(t,e,n)=>{switch(e){case"xAxis":return $m(t,n);case"yAxis":return eg(t,n);case"angleAxis":return Zm(t,n);case"radiusAxis":return my(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},FH=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function MR(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var boe=t=>t.graphicalItems.cartesianItems,_oe=Ae([ei,gy],MR),ER=(t,e,n)=>t.filter(n).filter(i=>e?.includeHidden===!0?!0:!i.hide),vy=Ae([boe,Fi,_oe],ER),jH=Ae([vy],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(_R)),kH=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),GH=Ae([vy],kH),TR=t=>t.map(e=>e.data).filter(Boolean).flat(1),Soe=Ae([vy],TR),AR=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=e;return t.length>0?t:n.slice(i,r+1)},wR=Ae([Soe,gH],AR),CR=(t,e,n)=>e?.dataKey!=null?t.map(i=>({value:sa(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(r=>({value:sa(r,i)}))):t.map(i=>({value:i})),Q1=Ae([wR,Fi,vy],CR);function qH(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ad(t){return t.filter(e=>Rm(e)||e instanceof Date).map(Number).filter(e=>Zo(e)===!1)}function Moe(t,e,n){return!n||typeof e!="number"||Zo(e)?[]:n.length?Ad(n.flatMap(i=>{var r=sa(t,i.dataKey),a,o;if(Array.isArray(r)?[a,o]=r:a=o=r,!(!Yu(a)||!Yu(o)))return[e-a,e+o]})):[]}var Eoe=Ae([jH,gH,kr],HH),XH=(t,e,n)=>{var i={},r=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(r).map(a=>{var[o,u]=a,f=u.map(zH);return[o,{stackedData:uie(t,f,n),graphicalItems:u}]}))},Toe=Ae([Eoe,jH,py],XH),WH=(t,e,n)=>{var{dataStartIndex:i,dataEndIndex:r}=e;if(n!=="zAxis"){var a=hie(t,i,r);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Aoe=Ae([Toe,Rf,ei],WH),YH=(t,e,n,i,r)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var u,f,d=(u=i[o.id])===null||u===void 0?void 0:u.filter(g=>qH(r,g)),m=sa(a,(f=e.dataKey)!==null&&f!==void 0?f:o.dataKey);return{value:m,errorDomain:Moe(a,m,d)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:sa(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),J1=t=>t.errorBars,KH=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>qH(n,i));Ae([GH,J1,ei],KH);var woe=Ae([wR,Fi,GH,J1,ei],YH);function Coe(t){var{value:e}=t;if(Rm(e)||e instanceof Date)return e}var yL=t=>{var e=t.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=Ad(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Roe=(t,e,n)=>{var i=t.map(Coe).filter(r=>r!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&B5(i))?LV(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},RR=t=>{var e;if(t==null||!("domain"in t))return n2;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ad(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:n2},IS=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var a=r.flat(),o=Math.min(...a),u=Math.max(...a);return[o,u]}},ZH=t=>t.referenceElements.dots,ng=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),Doe=Ae([ZH,ei,gy],ng),QH=t=>t.referenceElements.areas,Noe=Ae([QH,ei,gy],ng),JH=t=>t.referenceElements.lines,Ooe=Ae([JH,ei,gy],ng),$H=(t,e)=>{var n=Ad(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Poe=Ae(Doe,ei,$H),eF=(t,e)=>{var n=Ad(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Uoe=Ae([Noe,ei],eF),tF=(t,e)=>{var n=Ad(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Loe=Ae(Ooe,ei,tF),Ioe=Ae(Poe,Loe,Uoe,(t,e,n)=>IS(t,n,e)),nF=Ae([Fi],RR),DR=(t,e,n,i,r,a,o)=>{var u=kse(e,t.allowDataOverflow);if(u!=null)return u;var f=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=f?IS(n,r,yL(i)):IS(r,yL(i));return Gse(e,d,t.allowDataOverflow)},Boe=Ae([Fi,nF,Aoe,woe,Ioe,Ln,ei],DR),zoe=[0,1],NR=(t,e,n,i,r,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:u,type:f}=t,d=Tf(e,a);return d&&u==null?LV(0,n.length):f==="category"?Roe(i,t,d):r==="expand"?zoe:o}},OR=Ae([Fi,Ln,wR,Q1,py,ei,Boe],NR),iF=(t,e,n,i,r)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":o==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var u="scale".concat(z5(a));return u in Gv?u:"point"}}},Df=Ae([Fi,Ln,FH,NH,ei],iF);function Voe(t){if(t!=null){if(t in Gv)return Gv[t]();var e="scale".concat(z5(t));if(e in Gv)return Gv[e]()}}function $1(t,e,n,i){if(!(n==null||i==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(i);var r=Voe(e);if(r!=null){var a=r.domain(n).range(i);return aie(a),a}}}var PR=(t,e,n)=>{var i=RR(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Lm(t))return eoe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Lm(t))return toe(t,e.tickCount,e.allowDecimals)}},UR=Ae([OR,tg,Df],PR),LR=(t,e,n,i)=>{if(i!=="angleAxis"&&t?.type==="number"&&Lm(e)&&Array.isArray(n)&&n.length>0){var r=e[0],a=n[0],o=e[1],u=n[n.length-1];return[Math.min(r,a),Math.max(o,u)]}return e},Hoe=Ae([Fi,OR,UR,ei],LR),Foe=Ae(Q1,Fi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(Ad(t.map(u=>u.value))).sort((u,f)=>u-f);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var a=0;a<i.length-1;a++){var o=i[a+1]-i[a];n=Math.min(n,o)}return n/r}}),rF=Ae(Foe,Ln,noe,us,(t,e,n,i)=>i,(t,e,n,i,r)=>{if(!Yu(t))return 0;var a=e==="vertical"?i.height:i.width;if(r==="gap")return t*a/2;if(r==="no-gap"){var o=gd(n,t*a),u=t*a/2;return u-o-(u-o)/a*o}return 0}),joe=(t,e)=>{var n=$m(t,e);return n==null||typeof n.padding!="string"?0:rF(t,"xAxis",e,n.padding)},koe=(t,e)=>{var n=eg(t,e);return n==null||typeof n.padding!="string"?0:rF(t,"yAxis",e,n.padding)},Goe=Ae($m,joe,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:r}=t;return typeof r=="string"?{left:e,right:e}:{left:((n=r.left)!==null&&n!==void 0?n:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),qoe=Ae(eg,koe,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:r}=t;return typeof r=="string"?{top:e,bottom:e}:{top:((n=r.top)!==null&&n!==void 0?n:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),Xoe=Ae([us,Goe,H1,V1,(t,e,n)=>n],(t,e,n,i,r)=>{var{padding:a}=i;return r?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Woe=Ae([us,Ln,qoe,H1,V1,(t,e,n)=>n],(t,e,n,i,r,a)=>{var{padding:o}=r;return a?[i.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),yy=(t,e,n,i)=>{var r;switch(e){case"xAxis":return Xoe(t,n,i);case"yAxis":return Woe(t,n,i);case"zAxis":return(r=SR(t,n))===null||r===void 0?void 0:r.range;case"angleAxis":return IH(t);case"radiusAxis":return BH(t,n);default:return}},aF=Ae([Fi,yy],K1),eM=Ae([Fi,Df,Hoe,aF],$1);Ae([vy,J1,ei],KH);function sF(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var tM=(t,e)=>e,nM=(t,e,n)=>n,Yoe=Ae(B1,tM,nM,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(sF)),Koe=Ae(z1,tM,nM,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(sF)),oF=(t,e)=>({width:t.width,height:e.height}),Zoe=(t,e)=>{var n=typeof e.width=="number"?e.width:uy;return{width:n,height:t.height}};Ae(us,$m,oF);var Qoe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Joe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}};Ae(tc,us,Yoe,tM,nM,(t,e,n,i,r)=>{var a={},o;return n.forEach(u=>{var f=oF(e,u);o==null&&(o=Qoe(e,i,t));var d=i==="top"&&!r||i==="bottom"&&r;a[u.id]=o-Number(d)*f.height,o+=(d?-1:1)*f.height}),a});Ae(ec,us,Koe,tM,nM,(t,e,n,i,r)=>{var a={},o;return n.forEach(u=>{var f=Zoe(e,u);o==null&&(o=Joe(e,i,t));var d=i==="left"&&!r||i==="right"&&r;a[u.id]=o-Number(d)*f.width,o+=(d?-1:1)*f.width}),a});Ae(us,eg,(t,e)=>{var n=typeof e.width=="number"?e.width:uy;return{width:n,height:t.height}});var lF=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:a,dataKey:o}=n,u=Tf(t,i),f=e.map(d=>d.value);if(o&&u&&a==="category"&&r&&B5(f))return f}},xy=Ae([Ln,Q1,Fi,ei],lF),IR=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:a}=n,o=Tf(t,i);if(o&&(r==="number"||a!=="auto"))return e.map(u=>u.value)}},BR=Ae([Ln,Q1,tg,ei],IR);Ae([Ln,xoe,Df,eM,xy,BR,yy,UR,ei],(t,e,n,i,r,a,o,u,f)=>{if(e==null)return null;var d=Tf(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:r,isCategorical:d,niceTicks:u,range:o,realScaleType:n,scale:i}});var uF=(t,e,n,i,r,a,o,u,f)=>{if(!(e==null||i==null)){var d=Tf(t,f),{type:m,ticks:g,tickCount:y}=e,b=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,_=m==="category"&&i.bandwidth?i.bandwidth()/b:0;_=f==="angleAxis"&&a!=null&&a.length>=2?hf(a[0]-a[1])*2*_:_;var A=g||r;if(A){var T=A.map((M,R)=>{var D=o?o.indexOf(M):M;return{index:R,coordinate:i(D)+_,value:M,offset:_}});return T.filter(M=>!Zo(M.coordinate))}return d&&u?u.map((M,R)=>({coordinate:i(M)+_,value:M,index:R,offset:_})):i.ticks?i.ticks(y).map(M=>({coordinate:i(M)+_,value:M,offset:_})):i.domain().map((M,R)=>({coordinate:i(M)+_,value:o?o[M]:M,index:R,offset:_}))}};Ae([Ln,tg,Df,eM,UR,yy,xy,BR,ei],uF);var cF=(t,e,n,i,r,a,o)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var u=Tf(t,o),{tickCount:f}=e,d=0;return d=o==="angleAxis"&&i?.length>=2?hf(i[0]-i[1])*2*d:d,u&&a?a.map((m,g)=>({coordinate:n(m)+d,value:m,index:g,offset:d})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+d,value:m,offset:d})):n.domain().map((m,g)=>({coordinate:n(m)+d,value:r?r[m]:m,index:g,offset:d}))}};Ae([Ln,tg,eM,yy,xy,BR,ei],cF);Ae(Fi,eM,(t,e)=>{if(!(t==null||e==null))return LS(LS({},t),{},{scale:e})});var $oe=Ae([Fi,Df,OR,aF],$1);Ae((t,e,n)=>SR(t,n),$oe,(t,e)=>{if(!(t==null||e==null))return LS(LS({},t),{},{scale:e})});var ele=Ae([Ln,B1,z1],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fF=t=>t.options.defaultTooltipEventType,hF=t=>t.options.validateTooltipEventTypes;function dF(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function pF(t,e){var n=fF(t),i=hF(t);return dF(e,n,i)}var mF=(t,e)=>{var n,i=Number(e);if(!(Zo(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},tle=t=>t.tooltip.settings,cf={active:!1,index:null,dataKey:void 0,coordinate:void 0},nle={itemInteraction:{click:cf,hover:cf},axisInteraction:{click:cf,hover:cf},keyboardInteraction:cf,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gF=Os({name:"tooltip",initialState:nle,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Vu(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:ile,removeTooltipEntrySettings:rle,setTooltipSettingsState:Dpe,setActiveMouseOverItemIndex:ale,mouseLeaveItem:Npe,mouseLeaveChart:vF,setActiveClickItemIndex:Ope,setMouseOverAxisIndex:yF,setMouseClickAxisIndex:sle,setSyncInteraction:xL,setKeyboardInteraction:i2}=gF.actions,ole=gF.reducer;function bL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function a_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(n),!0).forEach(function(i){lle(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function lle(t,e,n){return(e=ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ule(t){var e=cle(t,"string");return typeof e=="symbol"?e:e+""}function cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fle(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function hle(t){return t.index!=null}var xF=(t,e,n,i)=>{if(e==null)return cf;var r=fle(t,e,n);if(r==null)return cf;if(r.active)return r;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(hle(r)){if(a)return a_(a_({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return a_(a_({},cf),{},{coordinate:r.coordinate})},zR=(t,e)=>{var n=t?.index;if(n==null)return null;var i=Number(n);if(!Yu(i))return n;var r=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(r,Math.min(i,a)))},bF=(t,e,n,i,r,a,o,u)=>{if(!(a==null||u==null)){var f=o[0],d=f==null?void 0:u(f.positions,a);if(d!=null)return d;var m=r?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(i.top+e)/2};default:return{x:(i.left+t)/2,y:m.coordinate}}}},_F=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var r;return n==="hover"?r=t.itemInteraction.hover.dataKey:r=t.itemInteraction.click.dataKey,r==null&&i!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===r})},by=t=>t.options.tooltipPayloadSearcher,_y=t=>t.tooltip;function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function SL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(i){dle(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function dle(t,e,n){return(e=ple(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ple(t){var e=mle(t,"string");return typeof e=="symbol"?e:e+""}function mle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gle(t,e){return t??e}var SF=(t,e,n,i,r,a,o)=>{if(!(e==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:m}=n,g=[];return t.reduce((y,b)=>{var _,{dataDefinedOnItem:A,settings:T}=b,M=gle(A,u),R=Array.isArray(M)?wV(M,d,m):M,D=(_=T?.dataKey)!==null&&_!==void 0?_:i,N=T?.nameKey,U;if(i&&Array.isArray(R)&&!Array.isArray(R[0])&&o==="axis"?U=Wee(R,i,r):U=a(R,e,f,N),Array.isArray(U))U.forEach(V=>{var F=SL(SL({},T),{},{name:V.name,unit:V.unit,color:void 0,fill:void 0});y.push(vU({tooltipEntrySettings:F,dataKey:V.dataKey,payload:V.payload,value:sa(V.payload,V.dataKey),name:V.name}))});else{var L;y.push(vU({tooltipEntrySettings:T,dataKey:D,payload:U,value:sa(U,D),name:(L=sa(U,N))!==null&&L!==void 0?L:T?.name}))}return y},g)}},VR=Ae([kr,Ln,FH,NH,pr],iF),vle=Ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),yle=Ae([pr,Jm],MR),Sy=Ae([vle,kr,yle],ER),xle=Ae([Sy],t=>t.filter(_R)),ble=Ae([Sy],TR),ig=Ae([ble,Rf],AR),_le=Ae([xle,Rf,kr],HH),HR=Ae([ig,kr,Sy],CR),Sle=Ae([kr],RR),Mle=Ae([Sy],t=>t.filter(_R)),Ele=Ae([_le,Mle,py],XH),Tle=Ae([Ele,Rf,pr],WH),Ale=Ae([Sy],kH),wle=Ae([ig,kr,Ale,J1,pr],YH),Cle=Ae([ZH,pr,Jm],ng),Rle=Ae([Cle,pr],$H),Dle=Ae([QH,pr,Jm],ng),Nle=Ae([Dle,pr],eF),Ole=Ae([JH,pr,Jm],ng),Ple=Ae([Ole,pr],tF),Ule=Ae([Rle,Ple,Nle],IS),Lle=Ae([kr,Sle,Tle,wle,Ule,Ln,pr],DR),MF=Ae([kr,Ln,ig,HR,py,pr,Lle],NR),Ile=Ae([MF,kr,VR],PR),Ble=Ae([kr,MF,Ile,pr],LR),EF=t=>{var e=pr(t),n=Jm(t),i=!1;return yy(t,e,n,i)},TF=Ae([kr,EF],K1),zle=Ae([kr,VR,Ble,TF],$1),Vle=Ae([Ln,HR,kr,pr],lF),Hle=Ae([Ln,HR,kr,pr],IR),Fle=(t,e,n,i,r,a,o,u)=>{if(e){var{type:f}=e,d=Tf(t,u);if(i){var m=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=f==="category"&&i.bandwidth?i.bandwidth()/m:0;return g=u==="angleAxis"&&r!=null&&r?.length>=2?hf(r[0]-r[1])*2*g:g,d&&o?o.map((y,b)=>({coordinate:i(y)+g,value:y,index:b,offset:g})):i.domain().map((y,b)=>({coordinate:i(y)+g,value:a?a[y]:y,index:b,offset:g}))}}},Nf=Ae([Ln,kr,VR,zle,EF,Vle,Hle,pr],Fle),FR=Ae([fF,hF,tle],(t,e,n)=>dF(n.shared,t,e)),AF=t=>t.tooltip.settings.trigger,jR=t=>t.tooltip.settings.defaultIndex,iM=Ae([_y,FR,AF,jR],xF),H0=Ae([iM,ig],zR),wF=Ae([Nf,H0],mF),jle=Ae([iM],t=>{if(t)return t.dataKey}),CF=Ae([_y,FR,AF,jR],_F),kle=Ae([ec,tc,Ln,us,Nf,jR,CF,by],bF),Gle=Ae([iM,kle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),qle=Ae([iM],t=>t.active),Xle=Ae([CF,H0,Rf,VH,wF,by,FR],SF),Wle=Ae([Xle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}}),kR=(t,e)=>e,RF=(t,e,n)=>n,GR=(t,e,n,i)=>i,Yle=Ae(Nf,t=>FC(t,e=>e.coordinate)),qR=Ae([_y,kR,RF,GR],xF),DF=Ae([qR,ig],zR),NF=Ae([_y,kR,RF,GR],_F),BS=Ae([ec,tc,Ln,us,Nf,GR,NF,by],bF);Ae([qR,BS],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e});var Kle=Ae(Nf,DF,mF);Ae([NF,DF,Rf,VH,Kle,by,kR],SF);Ae([qR],t=>({isActive:t.active,activeIndex:t.index}));var Zle=(t,e,n,i,r,a,o,u)=>{if(!(!t||!e||!i||!r||!a)){var f=die(t.chartX,t.chartY,e,n,u);if(f){var d=mie(f,e),m=iie(d,o,a,i,r),g=pie(e,a,m,f);return{activeIndex:String(m),activeCoordinate:g}}}},Qle=H.createContext(null),SA={exports:{}},ML;function Jle(){return ML||(ML=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function a(f,d,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new r(m,g||f,y),_=n?n+d:d;return f._events[_]?f._events[_].fn?f._events[_]=[f._events[_],b]:f._events[_].push(b):(f._events[_]=b,f._eventsCount++),f}function o(f,d){--f._eventsCount===0?f._events=new i:delete f._events[d]}function u(){this._events=new i,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],m,g;if(this._eventsCount===0)return d;for(g in m=this._events)e.call(m,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},u.prototype.listeners=function(d){var m=n?n+d:d,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,_=new Array(b);y<b;y++)_[y]=g[y].fn;return _},u.prototype.listenerCount=function(d){var m=n?n+d:d,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(d,m,g,y,b,_){var A=n?n+d:d;if(!this._events[A])return!1;var T=this._events[A],M=arguments.length,R,D;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),M){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,g),!0;case 4:return T.fn.call(T.context,m,g,y),!0;case 5:return T.fn.call(T.context,m,g,y,b),!0;case 6:return T.fn.call(T.context,m,g,y,b,_),!0}for(D=1,R=new Array(M-1);D<M;D++)R[D-1]=arguments[D];T.fn.apply(T.context,R)}else{var N=T.length,U;for(D=0;D<N;D++)switch(T[D].once&&this.removeListener(d,T[D].fn,void 0,!0),M){case 1:T[D].fn.call(T[D].context);break;case 2:T[D].fn.call(T[D].context,m);break;case 3:T[D].fn.call(T[D].context,m,g);break;case 4:T[D].fn.call(T[D].context,m,g,y);break;default:if(!R)for(U=1,R=new Array(M-1);U<M;U++)R[U-1]=arguments[U];T[D].fn.apply(T[D].context,R)}}return!0},u.prototype.on=function(d,m,g){return a(this,d,m,g,!1)},u.prototype.once=function(d,m,g){return a(this,d,m,g,!0)},u.prototype.removeListener=function(d,m,g,y){var b=n?n+d:d;if(!this._events[b])return this;if(!m)return o(this,b),this;var _=this._events[b];if(_.fn)_.fn===m&&(!y||_.once)&&(!g||_.context===g)&&o(this,b);else{for(var A=0,T=[],M=_.length;A<M;A++)(_[A].fn!==m||y&&!_[A].once||g&&_[A].context!==g)&&T.push(_[A]);T.length?this._events[b]=T.length===1?T[0]:T:o(this,b)}return this},u.prototype.removeAllListeners=function(d){var m;return d?(m=n?n+d:d,this._events[m]&&o(this,m)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(SA)),SA.exports}var $le=Jle();const eue=Jo($le);var zS=new eue,EL="recharts.syncEvent.tooltip",TL="recharts.syncEvent.brush";function tue(t,e){if(e){var n=Number.parseInt(e,10);if(!Zo(n))return t?.[n]}}var nue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},OF=Os({name:"options",initialState:nue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),iue=OF.reducer,{createEventEmitter:rue}=OF.actions,aue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PF=Os({name:"chartData",initialState:aue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:AL,setDataStartEndIndexes:sue,setComputedData:Ppe}=PF.actions,oue=PF.reducer,lue=["x","y"];function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Hh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(i){uue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function uue(t,e,n){return(e=cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=fue(t,"string");return typeof e=="symbol"?e:e+""}function fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hue(t,e){if(t==null)return{};var n,i,r=due(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function due(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var UF=()=>{};function pue(){var t=Rn(OH),e=Rn(PH),n=ls(),i=Rn(ioe),r=Rn(Nf),a=Nie(),o=DV(),u=Rn(f=>f.rootProps.className);H.useEffect(()=>{if(t==null)return UF;var f=(d,m,g)=>{if(e!==g&&t===d){if(i==="index"){var y;if(o&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate){var b=m.payload.coordinate,{x:_,y:A}=b,T=hue(b,lue),M=Hh(Hh(Hh({},T),typeof _=="number"&&{x:Math.max(o.x,Math.min(_,o.x+o.width))}),typeof A=="number"&&{y:Math.max(o.y,Math.min(A,o.y+o.height))}),R=Hh(Hh({},m),{},{payload:Hh(Hh({},m.payload),{},{coordinate:M})});n(R)}else n(m);return}if(r!=null){var D;if(typeof i=="function"){var N={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},U=i(r,N);D=r[U]}else i==="value"&&(D=r.find(ie=>String(ie.value)===m.payload.label));var{coordinate:L}=m.payload;if(D==null||m.payload.active===!1||L==null||o==null){n(xL({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:V,y:F}=L,B=Math.min(V,o.x+o.width),z=Math.min(F,o.y+o.height),G={x:a==="horizontal"?D.coordinate:B,y:a==="horizontal"?z:D.coordinate},ee=xL({active:m.payload.active,coordinate:G,dataKey:m.payload.dataKey,index:String(D.index),label:m.payload.label});n(ee)}}};return zS.on(EL,f),()=>{zS.off(EL,f)}},[u,n,e,t,i,r,a,o])}function mue(){var t=Rn(OH),e=Rn(PH),n=ls();H.useEffect(()=>{if(t==null)return UF;var i=(r,a,o)=>{e!==o&&t===r&&n(sue(a))};return zS.on(TL,i),()=>{zS.off(TL,i)}},[n,e,t])}function gue(){var t=ls();H.useEffect(()=>{t(rue())},[t]),pue(),mue()}var MA={},EA={},TA={},CL;function vue(){return CL||(CL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:r,edges:a}={}){let o,u=null;const f=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),m=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},g=()=>{d&&m(),A()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},i)},_=()=>{y!==null&&(clearTimeout(y),y=null)},A=()=>{_(),o=void 0,u=null},T=()=>{m()},M=function(...R){if(r?.aborted)return;o=this,u=R;const D=y==null;b(),f&&D&&m()};return M.schedule=b,M.cancel=A,M.flush=T,r?.addEventListener("abort",A,{once:!0}),M}t.debounce=e})(TA)),TA}var RL;function yue(){return RL||(RL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vue();function n(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:u=!0,maxWait:f}=a,d=Array(2);o&&(d[0]="leading"),u&&(d[1]="trailing");let m,g=null;const y=e.debounce(function(...A){m=i.apply(this,A),g=null},r,{edges:d}),b=function(...A){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(m=i.apply(this,A),g=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,A),m)},_=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=_,b}t.debounce=n})(EA)),EA}var DL;function xue(){return DL||(DL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yue();function n(i,r=0,a={}){const{leading:o=!0,trailing:u=!0}=a;return e.debounce(i,r,{leading:o,maxWait:r,trailing:u})}t.throttle=n})(MA)),MA}var AA,NL;function bue(){return NL||(NL=1,AA=xue().throttle),AA}var _ue=bue();const Sue=Jo(_ue);var wA=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a]};function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(i){Mue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Mue(t,e,n){return(e=Eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aue=H.forwardRef((t,e)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:r="100%",height:a="100%",minWidth:o=0,minHeight:u,maxHeight:f,children:d,debounce:m=0,id:g,className:y,onResize:b,style:_={}}=t,A=H.useRef(null),T=H.useRef();T.current=b,H.useImperativeHandle(e,()=>A.current);var[M,R]=H.useState({containerWidth:i.width,containerHeight:i.height}),D=H.useCallback((U,L)=>{R(V=>{var F=Math.round(U),B=Math.round(L);return V.containerWidth===F&&V.containerHeight===B?V:{containerWidth:F,containerHeight:B}})},[]);H.useEffect(()=>{var U=B=>{var z,{width:G,height:ee}=B[0].contentRect;D(G,ee),(z=T.current)===null||z===void 0||z.call(T,G,ee)};m>0&&(U=Sue(U,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(U),{width:V,height:F}=A.current.getBoundingClientRect();return D(V,F),L.observe(A.current),()=>{L.disconnect()}},[D,m]);var N=H.useMemo(()=>{var{containerWidth:U,containerHeight:L}=M;if(U<0||L<0)return null;wA(Jh(r)||Jh(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,r,a),wA(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Jh(r)?U:r,F=Jh(a)?L:a;return n&&n>0&&(V?F=V/n:F&&(V=F*n),f&&F>f&&(F=f)),wA(V>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,F,r,a,o,u,n),H.Children.map(d,B=>H.cloneElement(B,{width:V,height:F,style:CA({width:V,height:F},B.props.style)}))},[n,d,a,f,u,o,M,r]);return H.createElement("div",{id:g?"".concat(g):void 0,className:jr("recharts-responsive-container",y),style:CA(CA({},_),{},{width:r,height:a,minWidth:o,minHeight:u,maxHeight:f}),ref:A},H.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))});function wue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Rue(t,"string");return typeof e=="symbol"?e:e+""}function Rue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Due{constructor(e){wue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Nue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(i){Oue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Oue(t,e,n){return(e=Pue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lue={cacheSize:2e3,enableCache:!0},LF=Nue({},Lue),UL=new Due(LF.cacheSize),Iue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LL="recharts_measurement_span";function Bue(t,e){var n=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(u)}var IL=(t,e)=>{try{var n=document.getElementById(LL);n||(n=document.createElement("span"),n.setAttribute("id",LL),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Iue,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},BL=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||WC.isSsr)return{width:0,height:0};if(!LF.enableCache)return IL(e,n);var i=Bue(e,n),r=UL.get(i);if(r)return r;var a=IL(e,n);return UL.set(i,a),a},zL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hue=Object.keys(IF),cm="NaN";function Fue(t,e){return t*IF[e]}class Ja{static parse(e){var n,[,i,r]=(n=Vue.exec(e))!==null&&n!==void 0?n:[];return new Ja(parseFloat(i),r??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Zo(e)&&(this.unit=""),n!==""&&!zue.test(n)&&(this.num=NaN,this.unit=""),Hue.includes(n)&&(this.num=Fue(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Ja(NaN,""):new Ja(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ja(NaN,""):new Ja(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ja(NaN,""):new Ja(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ja(NaN,""):new Ja(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zo(this.num)}}function BF(t){if(t.includes(cm))return cm;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,r,a]=(n=zL.exec(e))!==null&&n!==void 0?n:[],o=Ja.parse(i??""),u=Ja.parse(a??""),f=r==="*"?o.multiply(u):o.divide(u);if(f.isNaN())return cm;e=e.replace(zL,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,m,g,y]=(d=VL.exec(e))!==null&&d!==void 0?d:[],b=Ja.parse(m??""),_=Ja.parse(y??""),A=g==="+"?b.add(_):b.subtract(_);if(A.isNaN())return cm;e=e.replace(VL,A.toString())}return e}var HL=/\(([^()]*)\)/;function jue(t){for(var e=t,n;(n=HL.exec(e))!=null;){var[,i]=n;e=e.replace(HL,BF(i))}return e}function kue(t){var e=t.replace(/\s+/g,"");return e=jue(e),e=BF(e),e}function Gue(t){try{return kue(t)}catch{return cm}}function RA(t){var e=Gue(t.slice(5,-1));return e===cm?"":e}var que=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Xue=["dx","dy","angle","className","breakAll"];function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r2.apply(null,arguments)}function FL(t,e){if(t==null)return{};var n,i,r=Wue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wue(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var zF=/[ \f\n\r\t\v\u2028\u2029]+/,VF=t=>{var{children:e,breakAll:n,style:i}=t;try{var r=[];ss(e)||(n?r=e.toString().split(""):r=e.toString().split(zF));var a=r.map(u=>({word:u,width:BL(u,i).width})),o=n?0:BL(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Yue=(t,e,n,i,r)=>{var{maxLines:a,children:o,style:u,breakAll:f}=t,d=cr(a),m=o,g=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce((ee,ie)=>{var{word:pe,width:ue}=ie,X=ee[ee.length-1];if(X&&(i==null||r||X.width+ue+n<Number(i)))X.words.push(pe),X.width+=ue+n;else{var Q={words:[pe],width:ue};ee.push(Q)}return ee},[])},y=g(e),b=z=>z.reduce((G,ee)=>G.width>ee.width?G:ee);if(!d||r)return y;var _=y.length>a||b(y).width>Number(i);if(!_)return y;for(var A="…",T=z=>{var G=m.slice(0,z),ee=VF({breakAll:f,style:u,children:G+A}).wordsWithComputedWidth,ie=g(ee),pe=ie.length>a||b(ie).width>Number(i);return[pe,ie]},M=0,R=m.length-1,D=0,N;M<=R&&D<=m.length-1;){var U=Math.floor((M+R)/2),L=U-1,[V,F]=T(L),[B]=T(U);if(!V&&!B&&(M=U+1),V&&B&&(R=U-1),!V&&B){N=F;break}D++}return N||y},jL=t=>{var e=ss(t)?[]:t.toString().split(zF);return[{words:e}]},Kue=t=>{var{width:e,scaleToFit:n,children:i,style:r,breakAll:a,maxLines:o}=t;if((e||n)&&!WC.isSsr){var u,f,d=VF({breakAll:a,children:i,style:r});if(d){var{wordsWithComputedWidth:m,spaceWidth:g}=d;u=m,f=g}else return jL(i);return Yue({breakAll:a,children:i,maxLines:o,style:r},u,f,e,n)}return jL(i)},kL="#808080",rM=H.forwardRef((t,e)=>{var{x:n=0,y:i=0,lineHeight:r="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:f="end",fill:d=kL}=t,m=FL(t,que),g=H.useMemo(()=>Kue({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:o,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,o,m.style,m.width]),{dx:y,dy:b,angle:_,className:A,breakAll:T}=m,M=FL(m,Xue);if(!Rm(n)||!Rm(i)||g.length===0)return null;var R=n+(cr(y)?y:0),D=i+(cr(b)?b:0),N;switch(f){case"start":N=RA("calc(".concat(a,")"));break;case"middle":N=RA("calc(".concat((g.length-1)/2," * -").concat(r," + (").concat(a," / 2))"));break;default:N=RA("calc(".concat(g.length-1," * -").concat(r,")"));break}var U=[];if(o){var L=g[0].width,{width:V}=m;U.push("scale(".concat(cr(V)?V/L:1,")"))}return _&&U.push("rotate(".concat(_,", ").concat(R,", ").concat(D,")")),U.length&&(M.transform=U.join(" ")),H.createElement("text",r2({},Br(M,!0),{ref:e,x:R,y:D,className:jr("recharts-text",A),textAnchor:u,fill:d.includes("url")?kL:d}),g.map((F,B)=>{var z=F.words.join(T?"":" ");return H.createElement("tspan",{x:R,dy:B===0?N:r,key:"".concat(z,"-").concat(B)},z)}))});rM.displayName="Text";var Zue=["labelRef"];function Que(t,e){if(t==null)return{};var n,i,r=Jue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jue(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function GL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(n),!0).forEach(function(i){$ue(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $ue(t,e,n){return(e=ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t){var e=tce(t,"string");return typeof e=="symbol"?e:e+""}function tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Uu.apply(null,arguments)}var nce=H.createContext(null),ice=()=>{var t=H.useContext(nce),e=DV();return t||e},HF=H.createContext(null),rce=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:a,endAngle:o,clockWise:u,children:f}=t,d=H.useMemo(()=>({cx:e,cy:n,innerRadius:i,outerRadius:r,startAngle:a,endAngle:o,clockWise:u}),[e,n,i,r,a,o,u]);return H.createElement(HF.Provider,{value:d},f)},FF=()=>{var t=H.useContext(HF),e=Rn(Qm);return t||e},ace=t=>{var{value:e,formatter:n}=t,i=ss(t.children)?e:t.children;return typeof n=="function"?n(i):i},jF=t=>t!=null&&typeof t=="function",sce=(t,e)=>{var n=hf(e-t),i=Math.min(Math.abs(e-t),360);return n*i},oce=(t,e,n,i,r)=>{var{offset:a,className:o}=t,{cx:u,cy:f,innerRadius:d,outerRadius:m,startAngle:g,endAngle:y,clockWise:b}=r,_=(d+m)/2,A=sce(g,y),T=A>=0?1:-1,M,R;switch(e){case"insideStart":M=g+T*a,R=b;break;case"insideEnd":M=y-T*a,R=!b;break;case"end":M=y+T*a,R=b;break;default:throw new Error("Unsupported position ".concat(e))}R=A<=0?R:!R;var D=Fr(u,f,_,M),N=Fr(u,f,_,M+(R?1:-1)*359),U="M".concat(D.x,",").concat(D.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(R?0:1,`,
    `).concat(N.x,",").concat(N.y),L=ss(t.id)?N0("recharts-radial-line-"):t.id;return H.createElement("text",Uu({},i,{dominantBaseline:"central",className:jr("recharts-radial-bar-label",o)}),H.createElement("defs",null,H.createElement("path",{id:L,d:U})),H.createElement("textPath",{xlinkHref:"#".concat(L)},n))},lce=(t,e,n)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:o,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:m,y:g}=Fr(i,r,o+e,d);return{x:m,y:g,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:b,y:_}=Fr(i,r,y,d);return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},kF=t=>"cx"in t&&cr(t.cx),uce=(t,e)=>{var{parentViewBox:n,offset:i,position:r}=t,a;n!=null&&!kF(n)&&(a=n);var{x:o,y:u,width:f,height:d}=e,m=d>=0?1:-1,g=m*i,y=m>0?"end":"start",b=m>0?"start":"end",_=f>=0?1:-1,A=_*i,T=_>0?"end":"start",M=_>0?"start":"end";if(r==="top"){var R={x:o+f/2,y:u-m*i,textAnchor:"middle",verticalAnchor:y};return Vi(Vi({},R),a?{height:Math.max(u-a.y,0),width:f}:{})}if(r==="bottom"){var D={x:o+f/2,y:u+d+g,textAnchor:"middle",verticalAnchor:b};return Vi(Vi({},D),a?{height:Math.max(a.y+a.height-(u+d),0),width:f}:{})}if(r==="left"){var N={x:o-A,y:u+d/2,textAnchor:T,verticalAnchor:"middle"};return Vi(Vi({},N),a?{width:Math.max(N.x-a.x,0),height:d}:{})}if(r==="right"){var U={x:o+f+A,y:u+d/2,textAnchor:M,verticalAnchor:"middle"};return Vi(Vi({},U),a?{width:Math.max(a.x+a.width-U.x,0),height:d}:{})}var L=a?{width:f,height:d}:{};return r==="insideLeft"?Vi({x:o+A,y:u+d/2,textAnchor:M,verticalAnchor:"middle"},L):r==="insideRight"?Vi({x:o+f-A,y:u+d/2,textAnchor:T,verticalAnchor:"middle"},L):r==="insideTop"?Vi({x:o+f/2,y:u+g,textAnchor:"middle",verticalAnchor:b},L):r==="insideBottom"?Vi({x:o+f/2,y:u+d-g,textAnchor:"middle",verticalAnchor:y},L):r==="insideTopLeft"?Vi({x:o+A,y:u+g,textAnchor:M,verticalAnchor:b},L):r==="insideTopRight"?Vi({x:o+f-A,y:u+g,textAnchor:T,verticalAnchor:b},L):r==="insideBottomLeft"?Vi({x:o+A,y:u+d-g,textAnchor:M,verticalAnchor:y},L):r==="insideBottomRight"?Vi({x:o+f-A,y:u+d-g,textAnchor:T,verticalAnchor:y},L):r&&typeof r=="object"&&(cr(r.x)||Jh(r.x))&&(cr(r.y)||Jh(r.y))?Vi({x:o+gd(r.x,f),y:u+gd(r.y,d),textAnchor:"end",verticalAnchor:"end"},L):Vi({x:o+f/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},L)},cce={offset:5};function of(t){var e=F1(t,cce),{viewBox:n,position:i,value:r,children:a,content:o,className:u="",textBreakAll:f,labelRef:d}=e,m=FF(),g=ice(),y=i==="center"?g:m??g,b=n||y;if(!b||ss(r)&&ss(a)&&!H.isValidElement(o)&&typeof o!="function")return null;var _=Vi(Vi({},e),{},{viewBox:b});if(H.isValidElement(o)){var{labelRef:A}=_,T=Que(_,Zue);return H.cloneElement(o,T)}var M;if(typeof o=="function"){if(M=H.createElement(o,_),H.isValidElement(M))return M}else M=ace(e);var R=kF(b),D=Br(e,!0);if(R&&(i==="insideStart"||i==="insideEnd"||i==="end"))return oce(e,i,M,D,b);var N=R?lce(b,e.offset,e.position):uce(e,b);return H.createElement(rM,Uu({ref:d,className:jr("recharts-label",u)},D,N,{breakAll:f}),M)}of.displayName="Label";var fce=(t,e,n)=>{if(!t)return null;var i={viewBox:e,labelRef:n};return t===!0?H.createElement(of,Uu({key:"label-implicit"},i)):Rm(t)?H.createElement(of,Uu({key:"label-implicit",value:t},i)):H.isValidElement(t)?t.type===of?H.cloneElement(t,Vi({key:"label-implicit"},i)):H.createElement(of,Uu({key:"label-implicit",content:t},i)):jF(t)?H.createElement(of,Uu({key:"label-implicit",content:t},i)):t&&typeof t=="object"?H.createElement(of,Uu({},t,{key:"label-implicit"},i)):null};function hce(t){var{label:e}=t,n=FF();return fce(e,n)||null}var DA={},NA={},qL;function dce(){return qL||(qL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(NA)),NA}var OA={},XL;function pce(){return XL||(XL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(OA)),OA}var WL;function mce(){return WL||(WL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dce(),n=pce(),i=k5();function r(a){if(i.isArrayLike(a))return e.last(n.toArray(a))}t.last=r})(DA)),DA}var PA,YL;function gce(){return YL||(YL=1,PA=mce().last),PA}var vce=gce();const GF=Jo(vce);var yce=["valueAccessor"],xce=["dataKey","clockWise","id","textBreakAll"];function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},VS.apply(null,arguments)}function KL(t,e){if(t==null)return{};var n,i,r=bce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bce(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var _ce=t=>Array.isArray(t.value)?GF(t.value):t.value,qF=H.createContext(void 0),Sce=qF.Provider,XF=H.createContext(void 0);XF.Provider;function Mce(){return H.useContext(qF)}function Ece(){return H.useContext(XF)}function g_(t){var{valueAccessor:e=_ce}=t,n=KL(t,yce),{dataKey:i,clockWise:r,id:a,textBreakAll:o}=n,u=KL(n,xce),f=Mce(),d=Ece(),m=f||d;return!m||!m.length?null:H.createElement(Qo,{className:"recharts-label-list"},m.map((g,y)=>{var b,_=ss(i)?e(g,y):sa(g&&g.payload,i),A=ss(a)?{}:{id:"".concat(a,"-").concat(y)};return H.createElement(of,VS({},Br(g,!0),u,A,{fill:(b=n.fill)!==null&&b!==void 0?b:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:o,viewBox:g.viewBox,key:"label-".concat(y),index:y}))}))}g_.displayName="LabelList";function Tce(t){var{label:e}=t;return e?e===!0?H.createElement(g_,{key:"labelList-implicit"}):H.isValidElement(e)||jF(e)?H.createElement(g_,{key:"labelList-implicit",content:e}):typeof e=="object"?H.createElement(g_,VS({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Ace=["points","className","baseLinePoints","connectNulls"];function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fm.apply(null,arguments)}function wce(t,e){if(t==null)return{};var n,i,r=Cce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cce(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var ZL=t=>t&&t.x===+t.x&&t.y===+t.y,Rce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(i=>{ZL(i)?n[n.length-1].push(i):n[n.length-1].length>0&&n.push([])}),ZL(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},s0=(t,e)=>{var n=Rce(t);e&&(n=[n.reduce((r,a)=>[...r,...a],[])]);var i=n.map(r=>r.reduce((a,o,u)=>"".concat(a).concat(u===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(i,"Z"):i},Dce=(t,e,n)=>{var i=s0(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(s0(Array.from(e).reverse(),n).slice(1))},WF=t=>{var{points:e,className:n,baseLinePoints:i,connectNulls:r}=t,a=wce(t,Ace);if(!e||!e.length)return null;var o=jr("recharts-polygon",n);if(i&&i.length){var u=a.stroke&&a.stroke!=="none",f=Dce(e,i,r);return H.createElement("g",{className:o},H.createElement("path",fm({},Br(a,!0),{fill:f.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:f})),u?H.createElement("path",fm({},Br(a,!0),{fill:"none",d:s0(e,r)})):null,u?H.createElement("path",fm({},Br(a,!0),{fill:"none",d:s0(i,r)})):null)}var d=s0(e,r);return H.createElement("path",fm({},Br(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function a2(){return a2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a2.apply(null,arguments)}var XR=t=>{var{cx:e,cy:n,r:i,className:r}=t,a=jr("recharts-dot",r);return e===+e&&n===+n&&i===+i?H.createElement("circle",a2({},eu(t),V5(t),{className:a,cx:e,cy:n,r:i})):null},YF=t=>t.graphicalItems.polarItems,Nce=Ae([ei,gy],MR),WR=Ae([YF,Fi,Nce],ER),Oce=Ae([WR],TR),YR=Ae([Oce,vR],AR),KF=Ae([YR,Fi,WR],CR),Pce=Ae([YR,Fi,WR],(t,e,n)=>n.length>0?t.flatMap(i=>n.flatMap(r=>{var a,o=sa(i,(a=e.dataKey)!==null&&a!==void 0?a:r.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(i=>({value:sa(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]}))),QL=()=>{},Uce=Ae([Fi,nF,QL,Pce,QL,Ln,ei],DR),ZF=Ae([Fi,Ln,YR,KF,py,ei,Uce],NR),QF=Ae([ZF,Fi,Df],PR),Lce=Ae([Fi,ZF,QF,ei],LR),KR=(t,e,n)=>{switch(e){case"angleAxis":return Zm(t,n);case"radiusAxis":return my(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ZR=(t,e,n)=>{switch(e){case"angleAxis":return uoe(t,n);case"radiusAxis":return coe(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rg=Ae([KR,Df,Lce,ZR],$1),JF=Ae([Ln,KF,tg,ei],IR),ag=Ae([Ln,KR,Df,rg,QF,ZR,xy,JF,ei],uF);Ae([Ln,KR,rg,ZR,xy,JF,ei],cF);var Ice=(t,e)=>ag(t,"angleAxis",e,!1),Bce=Ae([Ice],t=>{if(t)return t.map(e=>e.coordinate)}),zce=(t,e)=>ag(t,"radiusAxis",e,!1),Vce=Ae([zce],t=>{if(t)return t.map(e=>e.coordinate)}),Hce=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function Fce(t,e){if(t==null)return{};var n,i,r=jce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jce(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Yo.apply(null,arguments)}function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function aM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(i){kce(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function kce(t,e,n){return(e=Gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gce(t){var e=qce(t,"string");return typeof e=="symbol"?e:e+""}function qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xce=(t,e,n,i)=>{var r="";return i.forEach((a,o)=>{var u=Fr(e,n,t,a);o?r+="L ".concat(u.x,",").concat(u.y):r+="M ".concat(u.x,",").concat(u.y)}),r+="Z",r},Wce=t=>{var{cx:e,cy:n,innerRadius:i,outerRadius:r,polarAngles:a,radialLines:o}=t;if(!a||!a.length||!o)return null;var u=aM({stroke:"#ccc"},eu(t));return H.createElement("g",{className:"recharts-polar-grid-angle"},a.map(f=>{var d=Fr(e,n,i,f),m=Fr(e,n,r,f);return H.createElement("line",Yo({},u,{key:"line-".concat(f),x1:d.x,y1:d.y,x2:m.x,y2:m.y}))}))},$L=t=>{var{cx:e,cy:n,radius:i}=t,r=aM({stroke:"#ccc",fill:"none"},eu(t));return H.createElement("circle",Yo({},r,{className:jr("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:n,r:i}))},eI=t=>{var{radius:e}=t,n=aM({stroke:"#ccc",fill:"none"},eu(t));return H.createElement("path",Yo({},n,{className:jr("recharts-polar-grid-concentric-polygon",t.className),d:Xce(e,t.cx,t.cy,t.polarAngles)}))},Yce=t=>{var{polarRadius:e,gridType:n}=t;if(!e||!e.length)return null;var i=Math.max(...e),r=t.fill&&t.fill!=="none";return H.createElement("g",{className:"recharts-polar-grid-concentric"},r&&n==="circle"&&H.createElement($L,Yo({},t,{radius:i})),r&&n!=="circle"&&H.createElement(eI,Yo({},t,{radius:i})),e.map((a,o)=>{var u=o;return n==="circle"?H.createElement($L,Yo({key:u},t,{fill:"none",radius:a})):H.createElement(eI,Yo({key:u},t,{fill:"none",radius:a}))}))},$F=t=>{var e,n,i,r,a,o,u,f,{gridType:d="polygon",radialLines:m=!0,angleAxisId:g=0,radiusAxisId:y=0,cx:b,cy:_,innerRadius:A,outerRadius:T}=t,M=Fce(t,Hce),R=Rn(Qm),D=aM({cx:(e=(n=R?.cx)!==null&&n!==void 0?n:b)!==null&&e!==void 0?e:0,cy:(i=(r=R?.cy)!==null&&r!==void 0?r:_)!==null&&i!==void 0?i:0,innerRadius:(a=(o=R?.innerRadius)!==null&&o!==void 0?o:A)!==null&&a!==void 0?a:0,outerRadius:(u=(f=R?.outerRadius)!==null&&f!==void 0?f:T)!==null&&u!==void 0?u:0},M),{polarAngles:N,polarRadius:U,outerRadius:L}=D,V=Rn(G=>Bce(G,g)),F=Rn(G=>Vce(G,y)),B=Array.isArray(N)?N:V,z=Array.isArray(U)?U:F;return L<=0||B==null||z==null?null:H.createElement("g",{className:"recharts-polar-grid"},H.createElement(Yce,Yo({gridType:d,radialLines:m},D,{polarAngles:B,polarRadius:z})),H.createElement(Wce,Yo({gridType:d,radialLines:m},D,{polarAngles:B,polarRadius:z})))};$F.displayName="PolarGrid";var UA={},LA={},tI;function Kce(){return tI||(tI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){if(n.length===0)return;let r=n[0],a=i(r);for(let o=1;o<n.length;o++){const u=n[o],f=i(u);f>a&&(a=f,r=u)}return r}t.maxBy=e})(LA)),LA}var nI;function Zce(){return nI||(nI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kce(),n=zC(),i=Q5();function r(a,o){if(a!=null)return e.maxBy(Array.from(a),i.iteratee(o??n.identity))}t.maxBy=r})(UA)),UA}var IA,iI;function Qce(){return iI||(iI=1,IA=Zce().maxBy),IA}var Jce=Qce();const $ce=Jo(Jce);var BA={},zA={},rI;function efe(){return rI||(rI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){if(n.length===0)return;let r=n[0],a=i(r);for(let o=1;o<n.length;o++){const u=n[o],f=i(u);f<a&&(a=f,r=u)}return r}t.minBy=e})(zA)),zA}var aI;function tfe(){return aI||(aI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=efe(),n=zC(),i=Q5();function r(a,o){if(a!=null)return e.minBy(Array.from(a),i.iteratee(o??n.identity))}t.minBy=r})(BA)),BA}var VA,sI;function nfe(){return sI||(sI=1,VA=tfe().minBy),VA}var ife=nfe();const rfe=Jo(ife);var afe={radiusAxis:{},angleAxis:{}},e6=Os({name:"polarAxis",initialState:afe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:sfe,removeRadiusAxis:ofe,addAngleAxis:lfe,removeAngleAxis:ufe}=e6.actions,cfe=e6.reducer,ffe=["cx","cy","angle","axisLine"],hfe=["angle","tickFormatter","stroke","tick"];function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},F0.apply(null,arguments)}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(i){sM(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function sM(t,e,n){return(e=dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=pfe(t,"string");return typeof e=="symbol"?e:e+""}function pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t6(t,e){if(t==null)return{};var n,i,r=mfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mfe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var n6="radiusAxis";function gfe(t){var e=ls();return H.useEffect(()=>(e(sfe(t)),()=>{e(ofe(t))})),null}var vfe=(t,e,n,i)=>{var{coordinate:r}=t;return Fr(n,i,r,e)},yfe=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},xfe=(t,e,n,i)=>{var r=$ce(i,o=>o.coordinate||0),a=rfe(i,o=>o.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:a.coordinate||0,outerRadius:r.coordinate||0,clockWise:!1}},bfe=(t,e)=>{var{cx:n,cy:i,angle:r,axisLine:a}=t,o=t6(t,ffe),u=e.reduce((g,y)=>[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)],[1/0,-1/0]),f=Fr(n,i,u[0],r),d=Fr(n,i,u[1],r),m=kl(kl(kl({},eu(o)),{},{fill:"none"},Br(a,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return H.createElement("line",F0({className:"recharts-polar-radius-axis-line"},m))},_fe=(t,e,n)=>{var i;return H.isValidElement(t)?i=H.cloneElement(t,e):typeof t=="function"?i=t(e):i=H.createElement(rM,F0({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),i},Sfe=(t,e)=>{var{angle:n,tickFormatter:i,stroke:r,tick:a}=t,o=t6(t,hfe),u=yfe(t.orientation),f=eu(o),d=Br(a,!1),m=e.map((g,y)=>{var b=vfe(g,t.angle,t.cx,t.cy),_=kl(kl(kl(kl({textAnchor:u,transform:"rotate(".concat(90-n,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:r},d),{},{index:y},b),{},{payload:g});return H.createElement(Qo,F0({className:jr("recharts-polar-radius-axis-tick",AV(a)),key:"tick-".concat(g.coordinate)},H5(t,g,y)),_fe(a,_,i?i(g.value,y):g.value))});return H.createElement(Qo,{className:"recharts-polar-radius-axis-ticks"},m)},Mfe=t=>{var{radiusAxisId:e}=t,n=Rn(Qm),i=Rn(f=>rg(f,"radiusAxis",e)),r=Rn(f=>ag(f,"radiusAxis",e,!1));if(n==null||!r||!r.length)return null;var a=kl(kl(kl({},t),{},{scale:i},n),{},{radius:n.outerRadius}),{tick:o,axisLine:u}=a;return H.createElement(Qo,{className:jr("recharts-polar-radius-axis",n6,a.className)},u&&bfe(a,r),o&&Sfe(a,r),H.createElement(rce,xfe(a.angle,a.cx,a.cy,r),H.createElement(hce,{label:a.label}),a.children))};class oM extends H.PureComponent{render(){return H.createElement(H.Fragment,null,H.createElement(gfe,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),H.createElement(Mfe,this.props))}}sM(oM,"displayName","PolarRadiusAxis");sM(oM,"axisType",n6);sM(oM,"defaultProps",es);var Efe=["children"];function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ju.apply(null,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Vl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(i){lM(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function lM(t,e,n){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Afe(t,"string");return typeof e=="symbol"?e:e+""}function Afe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wfe(t,e){if(t==null)return{};var n,i,r=Cfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cfe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var uI=1e-5,Rfe=Math.cos(_S(45)),i6="angleAxis";function Dfe(t){var e=ls(),n=H.useMemo(()=>{var{children:a}=t,o=wfe(t,Efe);return o},[t]),i=Rn(a=>Zm(a,n.id)),r=n===i;return H.useEffect(()=>(e(lfe(n)),()=>{e(ufe(n))}),[e,n]),r?t.children:null}var Nfe=(t,e)=>{var{cx:n,cy:i,radius:r,orientation:a,tickSize:o}=e,u=o||8,f=Fr(n,i,r,t.coordinate),d=Fr(n,i,r+(a==="inner"?-1:1)*u,t.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}},Ofe=(t,e)=>{var n=Math.cos(_S(-t.coordinate));return n>uI?e==="outer"?"start":"end":n<-uI?e==="outer"?"end":"start":"middle"},Pfe=t=>{var e=Math.cos(_S(-t.coordinate)),n=Math.sin(_S(-t.coordinate));return Math.abs(e)<=Rfe?n>0?"start":"end":"middle"},Ufe=t=>{var{cx:e,cy:n,radius:i,axisLineType:r,axisLine:a,ticks:o}=t;if(!a)return null;var u=Vl(Vl({},eu(t)),{},{fill:"none"},Br(a,!1));if(r==="circle")return H.createElement(XR,Ju({className:"recharts-polar-angle-axis-line"},u,{cx:e,cy:n,r:i}));var f=o.map(d=>Fr(e,n,i,d.coordinate));return H.createElement(WF,Ju({className:"recharts-polar-angle-axis-line"},u,{points:f}))},Lfe=t=>{var{tick:e,tickProps:n,value:i}=t;return e?H.isValidElement(e)?H.cloneElement(e,n):typeof e=="function"?e(n):H.createElement(rM,Ju({},n,{className:"recharts-polar-angle-axis-tick-value"}),i):null},Ife=t=>{var{tick:e,tickLine:n,tickFormatter:i,stroke:r,ticks:a}=t,o=eu(t),u=Br(e,!1),f=Vl(Vl({},o),{},{fill:"none"},Br(n,!1)),d=a.map((m,g)=>{var y=Nfe(m,t),b=Ofe(m,t.orientation),_=Pfe(m),A=Vl(Vl(Vl({},o),{},{textAnchor:b,verticalAnchor:_,stroke:"none",fill:r},u),{},{index:g,payload:m,x:y.x2,y:y.y2});return H.createElement(Qo,Ju({className:jr("recharts-polar-angle-axis-tick",AV(e)),key:"tick-".concat(m.coordinate)},H5(t,m,g)),n&&H.createElement("line",Ju({className:"recharts-polar-angle-axis-tick-line"},f,y)),H.createElement(Lfe,{tick:e,tickProps:A,value:i?i(m.value,g):m.value}))});return H.createElement(Qo,{className:"recharts-polar-angle-axis-ticks"},d)},Bfe=t=>{var{angleAxisId:e}=t,n=Rn(Qm),i=Rn(u=>rg(u,"angleAxis",e)),r=Af(),a=Rn(u=>ag(u,"angleAxis",e,r));if(n==null||!a||!a.length)return null;var o=Vl(Vl(Vl({},t),{},{scale:i},n),{},{radius:n.outerRadius});return H.createElement(Qo,{className:jr("recharts-polar-angle-axis",i6,o.className)},H.createElement(Ufe,Ju({},o,{ticks:a})),H.createElement(Ife,Ju({},o,{ticks:a})))};class uM extends H.PureComponent{render(){return this.props.radius<=0?null:H.createElement(Dfe,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},H.createElement(Bfe,this.props))}}lM(uM,"displayName","PolarAngleAxis");lM(uM,"axisType",i6);lM(uM,"defaultProps",zl);function zfe(t){var{fn:e,args:n}=t,i=ls(),r=Af();return H.useEffect(()=>{if(!r){var a=e(n);return i(ile(a)),()=>{i(rle(a))}}},[e,n,i,r]),null}var Vfe=()=>{};function Hfe(t){var{legendPayload:e}=t,n=ls(),i=Rn(Ln);return H.useEffect(()=>i!=="centric"&&i!=="radial"?Vfe:(n(Pie(e)),()=>{n(Uie(e))}),[n,i,e]),null}var HA,Ffe=()=>{var[t]=H.useState(()=>N0("uid-"));return t},jfe=(HA=d8.useId)!==null&&HA!==void 0?HA:Ffe;function kfe(t,e){var n=jfe();return e||(t?"".concat(t,"-").concat(n):n)}var Gfe=H.createContext(void 0),qfe=t=>{var{id:e,type:n,children:i}=t,r=kfe("recharts-".concat(n),e);return H.createElement(Gfe.Provider,{value:r},i(r))},Xfe={cartesianItems:[],polarItems:[]},r6=Os({name:"graphicalItems",initialState:Xfe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:i}=e.payload,r=Vu(t).cartesianItems.indexOf(n);r>-1&&(t.cartesianItems[r]=i)},removeCartesianGraphicalItem(t,e){var n=Vu(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Vu(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Upe,replaceCartesianGraphicalItem:Lpe,removeCartesianGraphicalItem:Ipe,addPolarGraphicalItem:Wfe,removePolarGraphicalItem:Yfe}=r6.actions,Kfe=r6.reducer;function Zfe(t){var e=ls();return H.useEffect(()=>(e(Wfe(t)),()=>{e(Yfe(t))}),[e,t]),null}function cI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(n),!0).forEach(function(i){Qfe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Qfe(t,e,n){return(e=Jfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jfe(t){var e=$fe(t,"string");return typeof e=="symbol"?e:e+""}function $fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ehe={xAxis:{},yAxis:{},zAxis:{}},a6=Os({name:"cartesianAxis",initialState:ehe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload;t.yAxis[n]&&(t.yAxis[n]=fI(fI({},t.yAxis[n]),{},{width:i}))}}}),{addXAxis:Bpe,removeXAxis:zpe,addYAxis:Vpe,removeYAxis:Hpe,addZAxis:Fpe,removeZAxis:jpe,updateYAxisWidth:kpe}=a6.actions,the=a6.reducer,nhe=Ae([us],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),ihe=Ae([nhe,ec,tc],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),rhe=()=>Rn(ihe),ahe=()=>Rn(Wle);function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function dI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(i){she(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function she(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uhe=t=>{var{point:e,childIndex:n,mainColor:i,activeDot:r,dataKey:a}=t;if(r===!1||e.x==null||e.y==null)return null;var o=dI(dI({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Br(r,!1)),V5(r)),u;return H.isValidElement(r)?u=H.cloneElement(r,o):typeof r=="function"?u=r(o):u=H.createElement(XR,o),H.createElement(Qo,{className:"recharts-active-dot"},u)};function che(t){var{points:e,mainColor:n,activeDot:i,itemDataKey:r}=t,a=Rn(H0),o=ahe();if(e==null||o==null)return null;var u=e.find(f=>o.includes(f.payload));return ss(u)?null:uhe({point:u,childIndex:Number(a),mainColor:n,dataKey:r,activeDot:i})}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(i){fhe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function fhe(t,e,n){return(e=hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hhe(t){var e=dhe(t,"string");return typeof e=="symbol"?e:e+""}function dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s6=(t,e)=>rg(t,"radiusAxis",e),phe=Ae([s6],t=>{if(t!=null)return{scale:t}}),mhe=Ae([my,s6],(t,e)=>{if(!(t==null||e==null))return HS(HS({},t),{},{scale:e})}),ghe=(t,e,n,i)=>ag(t,"radiusAxis",e,i),o6=(t,e,n)=>Zm(t,n),l6=(t,e,n)=>rg(t,"angleAxis",n),vhe=Ae([o6,l6],(t,e)=>{if(!(t==null||e==null))return HS(HS({},t),{},{scale:e})}),yhe=(t,e,n,i)=>ag(t,"angleAxis",n,i),xhe=Ae([o6,l6,Qm],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),bhe=(t,e,n,i,r)=>r,_he=Ae([Ln,mhe,ghe,vhe,yhe],(t,e,n,i,r)=>Tf(t,"radiusAxis")?gU(e,n,!1):gU(i,r,!1)),She=Ae([YF,bhe],(t,e)=>{if(t!=null){var n=t.find(i=>i.type==="radar"&&e===i.id);return n?.dataKey}}),Mhe=Ae([phe,xhe,vR,She,_he],(t,e,n,i,r)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:u}=n;if(!(t==null||e==null||a==null||r==null||i==null)){var f=a.slice(o,u+1);return Ohe({radiusAxis:t,angleAxis:e,displayedData:f,dataKey:i,bandSize:r})}}),Ehe=["id"];function The(t,e){if(t==null)return{};var n,i,r=Ahe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ahe(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(i){QR(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function QR(t,e,n){return(e=whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=Che(t,"string");return typeof e=="symbol"?e:e+""}function Che(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Im.apply(null,arguments)}function JR(t,e){return t&&t!=="none"?t:e}var Rhe=t=>{var{dataKey:e,name:n,stroke:i,fill:r,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:JR(i,r),value:CV(n,e),payload:t}]};function Dhe(t){var{dataKey:e,stroke:n,strokeWidth:i,fill:r,name:a,hide:o,tooltipType:u}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:r,nameKey:void 0,dataKey:e,name:CV(a,e),hide:o,type:u,color:JR(n,r),unit:""}}}function Nhe(t,e){var n;return H.isValidElement(t)?n=H.cloneElement(t,e):typeof t=="function"?n=t(e):n=H.createElement(XR,Im({},e,{className:jr("recharts-radar-dot",typeof t!="boolean"?t.className:"")})),n}function Ohe(t){var{radiusAxis:e,angleAxis:n,displayedData:i,dataKey:r,bandSize:a}=t,{cx:o,cy:u}=n,f=!1,d=[],m=n.type!=="number"?a??0:0;i.forEach((y,b)=>{var _=sa(y,n.dataKey,b),A=sa(y,r),T=n.scale(_)+m,M=Array.isArray(A)?GF(A):A,R=ss(M)?void 0:e.scale(M);Array.isArray(A)&&A.length>=2&&(f=!0),d.push(zr(zr({},Fr(o,u,R,T)),{},{name:_,value:A,cx:o,cy:u,radius:R,angle:T,payload:y}))});var g=[];return f&&d.forEach(y=>{if(Array.isArray(y.value)){var b=y.value[0],_=ss(b)?void 0:e.scale(b);g.push(zr(zr({},y),{},{radius:_},Fr(o,u,_,y.angle)))}else g.push(y)}),{points:d,isRange:f,baseLinePoints:g}}function Phe(t){var{points:e,props:n}=t,{dot:i,dataKey:r}=n;if(!i)return null;var{id:a}=n,o=The(n,Ehe),u=eu(o),f=Br(i,!0),d=e.map((m,g)=>{var y=zr(zr(zr({key:"dot-".concat(g),r:3},u),f),{},{dataKey:r,cx:m.x,cy:m.y,index:g,payload:m});return Nhe(i,y)});return H.createElement(Qo,{className:"recharts-radar-dots"},d)}function Uhe(t){var{showLabels:e,points:n,children:i}=t,r=n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return zr(zr({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return H.createElement(Sce,{value:e?r:null},i)}function Lhe(t){var{points:e,baseLinePoints:n,props:i}=t;if(e==null)return null;var{shape:r,isRange:a,connectNulls:o}=i,u=m=>{var{onMouseEnter:g}=i;g&&g(i,m)},f=m=>{var{onMouseLeave:g}=i;g&&g(i,m)},d;return H.isValidElement(r)?d=H.cloneElement(r,zr(zr({},i),{},{points:e})):typeof r=="function"?d=r(zr(zr({},i),{},{points:e})):d=H.createElement(WF,Im({},Br(i,!0),{onMouseEnter:u,onMouseLeave:f,points:e,baseLinePoints:a?n:null,connectNulls:o})),H.createElement(Qo,{className:"recharts-radar-polygon"},d,H.createElement(Phe,{props:i,points:e}))}var gI=(t,e,n)=>(i,r)=>{var a=t&&t[Math.floor(r*e)];return a?zr(zr({},i),{},{x:Kb(a.x,i.x,n),y:Kb(a.y,i.y,n)}):zr(zr({},i),{},{x:Kb(i.cx,i.x,n),y:Kb(i.cy,i.y,n)})};function Ihe(t){var{props:e,previousPointsRef:n,previousBaseLinePointsRef:i}=t,{points:r,baseLinePoints:a,isAnimationActive:o,animationBegin:u,animationDuration:f,animationEasing:d,onAnimationEnd:m,onAnimationStart:g}=e,y=n.current,b=i.current,_=y&&y.length/r.length,A=b&&b.length/a.length,T=ure(e,"recharts-radar-"),[M,R]=H.useState(!1),D=!M,N=H.useCallback(()=>{typeof m=="function"&&m(),R(!1)},[m]),U=H.useCallback(()=>{typeof g=="function"&&g(),R(!0)},[g]);return H.createElement(Uhe,{showLabels:D,points:r},H.createElement(lre,{animationId:T,begin:u,duration:f,isActive:o,easing:d,key:"radar-".concat(T),onAnimationEnd:N,onAnimationStart:U},L=>{var V=L===1?r:r.map(gI(y,_,L)),F=L===1?a:a?.map(gI(b,A,L));return L>0&&(n.current=V,i.current=F),H.createElement(Lhe,{points:V,baseLinePoints:F,props:e})}),H.createElement(Tce,{label:e.label}),e.children)}function Bhe(t){var e=H.useRef(void 0),n=H.useRef(void 0);return H.createElement(Ihe,{props:t,previousPointsRef:e,previousBaseLinePointsRef:n})}var zhe={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!WC.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class Vhe extends H.PureComponent{render(){var{hide:e,className:n,points:i}=this.props;if(e||i==null)return null;var r=jr("recharts-radar",n);return H.createElement(H.Fragment,null,H.createElement(Qo,{className:r},H.createElement(Bhe,this.props)),H.createElement(che,{points:i,mainColor:JR(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function Hhe(t){var e=Af(),n=Rn(i=>Mhe(i,t.radiusAxisId,t.angleAxisId,e,t.id));return H.createElement(Vhe,Im({},t,{points:n?.points,baseLinePoints:n?.baseLinePoints,isRange:n?.isRange}))}class $R extends H.PureComponent{render(){return H.createElement(qfe,{id:this.props.id,type:"radar"},e=>H.createElement(H.Fragment,null,H.createElement(Zfe,{type:"radar",id:e,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),H.createElement(Hfe,{legendPayload:Rhe(this.props)}),H.createElement(zfe,{fn:Dhe,args:this.props}),H.createElement(Hhe,Im({},this.props,{id:e}))))}}QR($R,"displayName","Radar");QR($R,"defaultProps",zhe);var Fhe={},u6=Os({name:"errorBars",initialState:Fhe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:i,next:r}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:Gpe,replaceErrorBar:qpe,removeErrorBar:Xpe}=u6.actions,jhe=u6.reducer,khe=t=>{var{chartData:e}=t,n=ls(),i=Af();return H.useEffect(()=>i?()=>{}:(n(AL(e)),()=>{n(AL(void 0))}),[e,n,i]),null},vI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},c6=Os({name:"brush",initialState:vI,reducers:{setBrushSettings(t,e){return e.payload==null?vI:e.payload}}}),{setBrushSettings:Wpe}=c6.actions,Ghe=c6.reducer,qhe={dots:[],areas:[],lines:[]},f6=Os({name:"referenceElements",initialState:qhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Vu(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Vu(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Vu(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Ype,removeDot:Kpe,addArea:Zpe,removeArea:Qpe,addLine:Jpe,removeLine:$pe}=f6.actions,Xhe=f6.reducer,Whe=H.createContext(void 0),Yhe=t=>{var{children:e}=t,[n]=H.useState("".concat(N0("recharts"),"-clip")),i=rhe();if(i==null)return null;var{x:r,y:a,width:o,height:u}=i;return H.createElement(Whe.Provider,{value:n},H.createElement("defs",null,H.createElement("clipPath",{id:n},H.createElement("rect",{x:r,y:a,height:u,width:o}))),e)},FA={exports:{}},jA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function Khe(){if(yI)return jA;yI=1;var t=bd();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,r=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return jA.useSyncExternalStoreWithSelector=function(f,d,m,g,y){var b=r(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=o(function(){function T(U){if(!M){if(M=!0,R=U,U=g(U),y!==void 0&&_.hasValue){var L=_.value;if(y(L,U))return D=L}return D=U}if(L=D,n(R,U))return L;var V=g(U);return y!==void 0&&y(L,V)?(R=U,L):(R=U,D=V)}var M=!1,R,D,N=m===void 0?null:m;return[function(){return T(d())},N===null?void 0:function(){return T(N())}]},[d,m,g,y]);var A=i(f,b[0],b[1]);return a(function(){_.hasValue=!0,_.value=A},[A]),u(A),A},jA}var xI;function Zhe(){return xI||(xI=1,FA.exports=Khe()),FA.exports}Zhe();function Qhe(t){t()}function Jhe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Qhe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var bI={notify(){},get:()=>[]};function $he(t,e){let n,i=bI,r=0,a=!1;function o(A){m();const T=i.subscribe(A);let M=!1;return()=>{M||(M=!0,T(),g())}}function u(){i.notify()}function f(){_.onStateChange&&_.onStateChange()}function d(){return a}function m(){r++,n||(n=t.subscribe(f),i=Jhe())}function g(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=bI)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,g())}const _={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>i};return _}var ede=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tde=ede(),nde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ide=nde(),rde=()=>tde||ide?H.useLayoutEffect:H.useEffect,ade=rde(),sde=Symbol.for("react-redux-context"),ode=typeof globalThis<"u"?globalThis:{};function lde(){if(!H.createContext)return{};const t=ode[sde]??=new Map;let e=t.get(H.createContext);return e||(e=H.createContext(null),t.set(H.createContext,e)),e}var ude=lde();function cde(t){const{children:e,context:n,serverState:i,store:r}=t,a=H.useMemo(()=>{const f=$he(r);return{store:r,subscription:f,getServerState:i?()=>i:void 0}},[r,i]),o=H.useMemo(()=>r.getState(),[r]);ade(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==r.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,o]);const u=n||ude;return H.createElement(u.Provider,{value:a},e)}var fde=cde,hde=(t,e)=>e,eD=Ae([hde,Ln,Qm,pr,TF,Nf,Yle,us],Zle),tD=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},h6=lo("mouseClick"),d6=ly();d6.startListening({actionCreator:h6,effect:(t,e)=>{var n=t.payload,i=eD(e.getState(),tD(n));i?.activeIndex!=null&&e.dispatch(sle({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var s2=lo("mouseMove"),p6=ly();p6.startListening({actionCreator:s2,effect:(t,e)=>{var n=t.payload,i=e.getState(),r=pF(i,i.tooltip.settings.shared),a=eD(i,tD(n));r==="axis"&&(a?.activeIndex!=null?e.dispatch(yF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(vF()))}});function dde(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var _I={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},m6=Os({name:"rootProps",initialState:_I,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:_I.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),pde=m6.reducer,{updateOptions:mde}=m6.actions,g6=Os({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:gde}=g6.actions,vde=g6.reducer,v6=lo("keyDown"),y6=lo("focus"),nD=ly();nD.startListening({actionCreator:v6,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(zR(r,ig(n))),u=Nf(n);if(a==="Enter"){var f=BS(n,"axis","hover",String(r.index));e.dispatch(i2({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:f}));return}var d=ele(n),m=d==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,y=o+g*m;if(!(u==null||y>=u.length||y<0)){var b=BS(n,"axis","hover",String(y));e.dispatch(i2({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});nD.startListening({actionCreator:y6,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var a="0",o=BS(n,"axis","hover",String(a));e.dispatch(i2({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var to=lo("externalEvent"),x6=ly();x6.startListening({actionCreator:to,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),i={activeCoordinate:Gle(n),activeDataKey:jle(n),activeIndex:H0(n),activeLabel:wF(n),activeTooltipIndex:H0(n),isTooltipActive:qle(n)};t.payload.handler(i,t.payload.reactEvent)}}});var yde=Ae([_y],t=>t.tooltipItemPayloads),xde=Ae([yde,by,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,i)=>{var r=t.find(u=>u.settings.dataKey===i);if(r!=null){var{positions:a}=r;if(a!=null){var o=e(a,n);return o}}}),b6=lo("touchMove"),_6=ly();_6.startListening({actionCreator:b6,effect:(t,e)=>{var n=t.payload,i=e.getState(),r=pF(i,i.tooltip.settings.shared);if(r==="axis"){var a=eD(i,tD({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(yF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(r==="item"){var o,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(vie),m=(o=f.getAttribute(yie))!==null&&o!==void 0?o:void 0,g=xde(e.getState(),d,m);e.dispatch(ale({activeDataKey:m,activeIndex:d,activeCoordinate:g}))}}});var bde=iV({brush:Ghe,cartesianAxis:the,chartData:oue,errorBars:jhe,graphicalItems:Kfe,layout:kne,legend:Lie,options:iue,polarAxis:cfe,polarOptions:vde,referenceElements:Xhe,rootProps:pde,tooltip:ole}),_de=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return pne({reducer:bde,preloadedState:e,middleware:i=>i({serializableCheck:!1}).concat([d6.middleware,p6.middleware,nD.middleware,x6.middleware,_6.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:dde},name:"recharts-".concat(n)}})};function Sde(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,r=Af(),a=H.useRef(null);if(r)return n;a.current==null&&(a.current=_de(e,i));var o=HC;return H.createElement(fde,{context:o,store:a.current},n)}function Mde(t){var{layout:e,width:n,height:i,margin:r}=t,a=ls(),o=Af();return H.useEffect(()=>{o||(a(Hne(e)),a(Fne({width:n,height:i})),a(Vne(r)))},[a,o,e,n,i,r]),null}function Ede(t){var e=ls();return H.useEffect(()=>{e(mde(t))},[e,t]),null}var Tde=["children"];function Ade(t,e){if(t==null)return{};var n,i,r=wde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wde(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},FS.apply(null,arguments)}var Cde={width:"100%",height:"100%"},Rde=H.forwardRef((t,e)=>{var n=Rie(),i=Die(),r=Bie();if(!SS(n)||!SS(i))return null;var{children:a,otherAttributes:o,title:u,desc:f}=t,d,m;return typeof o.tabIndex=="number"?d=o.tabIndex:d=r?0:void 0,typeof o.role=="string"?m=o.role:m=r?"application":void 0,H.createElement(j5,FS({},o,{title:u,desc:f,role:m,tabIndex:d,width:n,height:i,style:Cde,ref:e}),a)}),Dde=t=>{var{children:e}=t,n=Rn(H1);if(!n)return null;var{width:i,height:r,y:a,x:o}=n;return H.createElement(j5,{width:i,height:r,x:o,y:a},e)},SI=H.forwardRef((t,e)=>{var{children:n}=t,i=Ade(t,Tde),r=Af();return r?H.createElement(Dde,null,n):H.createElement(Rde,FS({ref:e},i),n)});function Nde(){var t=ls(),[e,n]=H.useState(null),i=Rn(gie);return H.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),a=r.width/e.offsetWidth;Yu(a)&&a!==i&&t(jne(a))}},[e,t,i]),n}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Ode(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(i){Pde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Pde(t,e,n){return(e=Ude(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ude(t){var e=Lde(t,"string");return typeof e=="symbol"?e:e+""}function Lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ide=H.forwardRef((t,e)=>{var{children:n,className:i,height:r,onClick:a,onContextMenu:o,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:_,onTouchStart:A,style:T,width:M}=t,R=ls(),[D,N]=H.useState(null),[U,L]=H.useState(null);gue();var V=Nde(),F=H.useCallback(he=>{V(he),typeof e=="function"&&e(he),N(he),L(he)},[V,e,N,L]),B=H.useCallback(he=>{R(h6(he)),R(to({handler:a,reactEvent:he}))},[R,a]),z=H.useCallback(he=>{R(s2(he)),R(to({handler:d,reactEvent:he}))},[R,d]),G=H.useCallback(he=>{R(vF()),R(to({handler:m,reactEvent:he}))},[R,m]),ee=H.useCallback(he=>{R(s2(he)),R(to({handler:g,reactEvent:he}))},[R,g]),ie=H.useCallback(()=>{R(y6())},[R]),pe=H.useCallback(he=>{R(v6(he.key))},[R]),ue=H.useCallback(he=>{R(to({handler:o,reactEvent:he}))},[R,o]),X=H.useCallback(he=>{R(to({handler:u,reactEvent:he}))},[R,u]),Q=H.useCallback(he=>{R(to({handler:f,reactEvent:he}))},[R,f]),$=H.useCallback(he=>{R(to({handler:y,reactEvent:he}))},[R,y]),me=H.useCallback(he=>{R(to({handler:A,reactEvent:he}))},[R,A]),Y=H.useCallback(he=>{R(b6(he)),R(to({handler:_,reactEvent:he}))},[R,_]),re=H.useCallback(he=>{R(to({handler:b,reactEvent:he}))},[R,b]);return H.createElement(Qle.Provider,{value:D},H.createElement(ate.Provider,{value:U},H.createElement("div",{className:jr("recharts-wrapper",i),style:Ode({position:"relative",cursor:"default",width:M,height:r},T),onClick:B,onContextMenu:ue,onDoubleClick:X,onFocus:ie,onKeyDown:pe,onMouseDown:Q,onMouseEnter:z,onMouseLeave:G,onMouseMove:ee,onMouseUp:$,onTouchEnd:re,onTouchMove:Y,onTouchStart:me,ref:F},n)))}),Bde=["children","className","width","height","style","compact","title","desc"];function zde(t,e){if(t==null)return{};var n,i,r=Vde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vde(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Hde=H.forwardRef((t,e)=>{var{children:n,className:i,width:r,height:a,style:o,compact:u,title:f,desc:d}=t,m=zde(t,Bde),g=eu(m);return u?H.createElement(SI,{otherAttributes:g,title:f,desc:d},n):H.createElement(Ide,{className:i,style:o,width:r,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},H.createElement(SI,{otherAttributes:g,title:f,desc:d,ref:e},H.createElement(Yhe,null,n)))});function Fde(t){var e=ls();return H.useEffect(()=>{e(gde(t))},[e,t]),null}var jde=["width","height","layout"];function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o2.apply(null,arguments)}function kde(t,e){if(t==null)return{};var n,i,r=Gde(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gde(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var qde={top:5,right:5,bottom:5,left:5},Xde={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Wde=H.forwardRef(function(e,n){var i,r=F1(e.categoricalChartProps,Xde),{width:a,height:o,layout:u}=r,f=kde(r,jde);if(!SS(a)||!SS(o))return null;var{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:y}=e,b={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:y,eventEmitter:void 0};return H.createElement(Sde,{preloadedState:{options:b},reduxStoreName:(i=r.id)!==null&&i!==void 0?i:d},H.createElement(khe,{chartData:r.data}),H.createElement(Mde,{width:a,height:o,layout:u,margin:r.margin}),H.createElement(Ede,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),H.createElement(Fde,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),H.createElement(Hde,o2({width:a,height:o},f,{ref:n})))}),Yde=["axis"],Kde={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zde=H.forwardRef((t,e)=>{var n=F1(t,Kde);return H.createElement(Wde,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yde,tooltipPayloadSearcher:tue,categoricalChartProps:n,ref:e})});const EI=[{category:"Frontend",value:90,color:"#38bdf8"},{category:"Backend",value:85,color:"#10b981"},{category:"Database",value:80,color:"#f59e0b"},{category:"Testing",value:75,color:"#ef4444"},{category:"DevOps",value:70,color:"#8b5cf6"},{category:"UI/UX",value:85,color:"#ec4899"}],Qde={frontend:[{name:"React/Next.js",level:90,years:2},{name:"TypeScript",level:85,years:1.5},{name:"Tailwind CSS",level:95,years:2},{name:"Framer Motion",level:80,years:1},{name:"HTML/CSS",level:95,years:3}],backend:[{name:"Node.js",level:85,years:2},{name:"Java",level:80,years:2},{name:"Python",level:75,years:1.5},{name:"C#",level:70,years:1},{name:"REST APIs",level:85,years:2}],database:[{name:"PostgreSQL",level:85,years:2},{name:"MySQL",level:80,years:2},{name:"Convex DB",level:85,years:1},{name:"Prisma ORM",level:90,years:1.5},{name:"Drizzle ORM",level:85,years:1}],testing:[{name:"Selenium",level:85,years:1},{name:"Jest",level:75,years:1},{name:"Cucumber",level:80,years:1},{name:"Unit Testing",level:80,years:1.5},{name:"E2E Testing",level:75,years:1}]},Jde=({skill:t,index:e})=>P.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:e*.1},className:"glass p-4 rounded-lg",children:[P.jsxs("div",{className:"flex justify-between items-center mb-2",children:[P.jsx("h4",{className:"text-white font-medium",children:t.name}),P.jsxs("span",{className:"text-primary-400 text-sm",children:[t.years,"y"]})]}),P.jsxs("div",{className:"space-y-2",children:[P.jsxs("div",{className:"flex justify-between text-sm",children:[P.jsx("span",{className:"text-gray-400",children:"Proficiency"}),P.jsxs("span",{className:"text-white",children:[t.level,"%"]})]}),P.jsx("div",{className:"w-full bg-dark-700 rounded-full h-2",children:P.jsx(dt.div,{className:"bg-gradient-to-r from-primary-400 to-primary-600 h-2 rounded-full",initial:{width:0},whileInView:{width:`${t.level}%`},transition:{duration:1,delay:e*.1}})})]})]}),$de=()=>{const[t,e]=H.useState("frontend"),n=[{id:"frontend",label:"Frontend",icon:m7},{id:"backend",label:"Backend",icon:f3},{id:"database",label:"Database",icon:f3},{id:"testing",label:"Testing",icon:L7}];return P.jsx("section",{id:"skills",className:"py-20 lg:py-32 bg-dark-900",children:P.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[P.jsxs(Di,{className:"text-center mb-16",children:[P.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["My ",P.jsx("span",{className:"text-gradient",children:"Skills"})]}),P.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"A comprehensive overview of my technical expertise and proficiency levels"})]}),P.jsx(Di,{className:"mb-20",children:P.jsxs("div",{className:"glass p-8 rounded-2xl",children:[P.jsxs("h3",{className:"text-2xl font-bold text-white mb-8 text-center",children:["Skills ",P.jsx("span",{className:"text-gradient",children:"Overview"})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[P.jsx(dt.div,{className:"h-80",variants:gf,initial:"hidden",whileInView:"visible",children:P.jsx(Aue,{width:"100%",height:"100%",children:P.jsxs(Zde,{data:EI,children:[P.jsx($F,{stroke:"#374151",strokeWidth:1}),P.jsx(uM,{dataKey:"category",tick:{fill:"#9ca3af",fontSize:12}}),P.jsx(oM,{angle:90,domain:[0,100],tick:{fill:"#9ca3af",fontSize:10},tickCount:6}),P.jsx($R,{name:"Skills",dataKey:"value",stroke:"#38bdf8",fill:"#38bdf8",fillOpacity:.1,strokeWidth:2,dot:{fill:"#38bdf8",strokeWidth:2,r:4}})]})})}),P.jsx("div",{className:"space-y-4",children:EI.map((i,r)=>P.jsxs(dt.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{delay:r*.1},className:"flex items-center justify-between p-3 rounded-lg bg-dark-800/30",children:[P.jsx("span",{className:"text-white font-medium",children:i.category}),P.jsxs("div",{className:"flex items-center space-x-3",children:[P.jsx("div",{className:"w-24 bg-dark-700 rounded-full h-2",children:P.jsx(dt.div,{className:"h-2 rounded-full",style:{backgroundColor:i.color},initial:{width:0},whileInView:{width:`${i.value}%`},transition:{duration:1,delay:r*.1}})}),P.jsxs("span",{className:"text-gray-400 text-sm w-8",children:[i.value,"%"]})]})]},i.category))})]})]})}),P.jsx(Di,{children:P.jsxs("div",{className:"glass p-8 rounded-2xl",children:[P.jsxs("h3",{className:"text-2xl font-bold text-white mb-8 text-center",children:["Detailed ",P.jsx("span",{className:"text-gradient",children:"Breakdown"})]}),P.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:n.map(i=>{const r=i.icon;return P.jsxs(Rs,{variant:t===i.id?"primary":"ghost",size:"md",onClick:()=>e(i.id),className:"flex items-center space-x-2",children:[P.jsx(r,{className:"w-4 h-4"}),P.jsx("span",{children:i.label})]},i.id)})}),P.jsx(kS,{mode:"wait",children:P.jsx(dt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Qde[t].map((i,r)=>P.jsx(Jde,{skill:i,index:r},i.name))},t)})]})}),P.jsx(Di,{className:"text-center mt-16",children:P.jsxs(dt.div,{variants:Go,className:"glass p-8 rounded-2xl max-w-2xl mx-auto",children:[P.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Ready to ",P.jsx("span",{className:"text-gradient",children:"Collaborate"}),"?"]}),P.jsx("p",{className:"text-gray-400 mb-6",children:"I'm always excited to work on new projects and learn cutting-edge technologies. Let's build something amazing together!"}),P.jsx(Rs,{variant:"primary",size:"lg",onClick:()=>{const i=document.querySelector("#contact");i&&i.scrollIntoView({behavior:"smooth"})},children:"Get In Touch"})]})})]})})},iD=[{id:1,title:"Horizon",description:"Collaborative Note-taking Web App with real-time editing, user authentication, and seamless document sharing across teams.",technologies:["Next.js","Convex DB","Tailwind CSS","Clerk","TypeScript"],github:"https://github.com/paulkamani9/horizon",link:"https://horizon.vercel.app",featured:!0},{id:2,title:"Console.log Champions",description:"🥈 First Runner-Up at IEEE MDXTHON Hackathon 2025 - Innovative solution for modern development challenges.",technologies:["React","Next.js","WebSockets","TypeScript","Zego Cloud"],github:"https://github.com/ieeemumsb/Console.log-Champions-",featured:!0},{id:3,title:"Portfolio Website",description:"Modern, animated portfolio showcasing projects and skills with stunning 3D effects and smooth interactions.",technologies:["React","TypeScript","Framer Motion","Three.js","Tailwind CSS"],github:"https://github.com/paulkamani9/portfolio",link:"https://paulkamani.dev",featured:!0}],epe=iD.filter(t=>t.featured),tpe=({project:t,featured:e=!1})=>P.jsx(um,{children:P.jsxs(dt.div,{variants:Y0,whileHover:"hover",whileTap:"tap",className:`glass rounded-xl overflow-hidden ${e?"lg:col-span-2 lg:row-span-1":""}`,children:[P.jsxs("div",{className:`relative bg-gradient-to-br from-primary-500/20 to-primary-600/20 ${e?"h-48":"h-40"}`,children:[P.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:P.jsx("div",{className:"w-16 h-16 bg-primary-500/30 rounded-full flex items-center justify-center backdrop-blur-sm",children:P.jsx("span",{className:"text-2xl font-bold text-white",children:t.title.charAt(0)})})}),e&&P.jsxs(dt.div,{className:"absolute top-4 right-4 flex items-center space-x-1 bg-yellow-500/20 backdrop-blur-sm px-3 py-1 rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:.3},children:[P.jsx(uz,{className:"w-4 h-4 text-yellow-400 fill-current"}),P.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Featured"})]})]}),P.jsxs("div",{className:"p-6",children:[P.jsxs("div",{className:"space-y-3 mb-6",children:[P.jsx("h3",{className:`font-bold text-white ${e?"text-2xl":"text-xl"}`,children:t.title}),P.jsx("p",{className:"text-gray-400 leading-relaxed",children:t.description})]}),P.jsxs("div",{className:"space-y-3 mb-6",children:[P.jsx("h4",{className:"text-sm font-medium text-primary-400 uppercase tracking-wider",children:"Technologies"}),P.jsx("div",{className:"flex flex-wrap gap-2",children:t.technologies.map(n=>P.jsx(dt.span,{whileHover:{scale:1.05},className:"px-3 py-1 bg-dark-800/60 text-gray-300 text-sm rounded-full border border-dark-700/50",children:n},n))})]}),P.jsxs("div",{className:"flex space-x-3",children:[t.github&&P.jsxs(Rs,{variant:"secondary",size:"sm",onClick:()=>window.open(t.github,"_blank"),className:"flex items-center space-x-2",children:[P.jsx(W0,{className:"w-4 h-4"}),P.jsx("span",{children:"Code"})]}),t.link&&P.jsxs(Rs,{variant:"primary",size:"sm",onClick:()=>window.open(t.link,"_blank"),className:"flex items-center space-x-2",children:[P.jsx(WS,{className:"w-4 h-4"}),P.jsx("span",{children:"Live Demo"})]})]})]})]})}),TI=({projects:t,title:e,description:n})=>P.jsxs(Di,{className:"mb-20",children:[P.jsxs("div",{className:"text-center mb-12",children:[P.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:e}),P.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:n})]}),P.jsx(UC,{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(i=>P.jsx(tpe,{project:i,featured:i.featured},i.id))})]}),npe=()=>{const t=[{label:"Projects Completed",value:iD.length,suffix:"+"},{label:"Technologies Used",value:15,suffix:"+"},{label:"Years of Experience",value:2,suffix:"+"},{label:"Hackathon Awards",value:1,suffix:""}];return P.jsx(Di,{className:"mb-20",children:P.jsx(dt.div,{className:"glass p-8 rounded-2xl",variants:gf,initial:"hidden",whileInView:"visible",children:P.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,n)=>P.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:n*.1},className:"text-center",children:[P.jsxs(dt.div,{className:"text-3xl lg:text-4xl font-bold text-gradient mb-2",initial:{scale:0},whileInView:{scale:1},transition:{delay:n*.1+.2,type:"spring",stiffness:100},children:[e.value,e.suffix]}),P.jsx("div",{className:"text-gray-400 text-sm uppercase tracking-wider",children:e.label})]},e.label))})})})},ipe=()=>P.jsx("section",{id:"projects",className:"py-20 lg:py-32 bg-gradient-to-b from-dark-800 to-dark-900",children:P.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[P.jsxs(Di,{className:"text-center mb-16",children:[P.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["My ",P.jsx("span",{className:"text-gradient",children:"Projects"})]}),P.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"A showcase of my work - from hackathon winners to personal experiments, each project tells a story of learning and innovation"})]}),P.jsx(npe,{}),P.jsx(TI,{projects:epe,title:"🌟 Featured Projects",description:"Highlighting my most impactful and technically challenging work"}),P.jsx(TI,{projects:iD.filter(t=>!t.featured),title:"Other Projects",description:"Additional projects showcasing diverse skills and experimentation"}),P.jsx(Di,{className:"text-center",children:P.jsxs(dt.div,{variants:gf,initial:"hidden",whileInView:"visible",className:"glass p-8 rounded-2xl max-w-2xl mx-auto",children:[P.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Like What You See?"}),P.jsx("p",{className:"text-gray-400 mb-6",children:"I'm always working on new projects and exploring cutting-edge technologies. Check out my GitHub for the latest updates!"}),P.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[P.jsxs(Rs,{variant:"primary",size:"lg",onClick:()=>window.open("https://github.com/paulkamani9","_blank"),className:"flex items-center space-x-2",children:[P.jsx(W0,{className:"w-5 h-5"}),P.jsx("span",{children:"View All Projects"})]}),P.jsx(Rs,{variant:"secondary",size:"lg",onClick:()=>{const t=document.querySelector("#contact");t&&t.scrollIntoView({behavior:"smooth"})},children:"Let's Collaborate"})]})]})})]})}),rD=[{id:1,role:"Intern Software Test Engineer",company:"Dayforce Mauritius",duration:"June 2025 – September 2025",location:"Mauritius",details:["Created automated UI test cases with Selenium WebDriver and Java","Worked in Agile sprints and participated in defect triaging sessions","Collaborated with development teams to ensure quality deliverables","Implemented test automation frameworks improving testing efficiency by 40%"],technologies:["Selenium","Java","TestNG","Jenkins","Git"],type:"work"},{id:2,role:"BSc (Hons) Computer Science",company:"Middlesex University Mauritius",duration:"2023 – 2026",location:"Mauritius",details:["Currently in Year 2 with consistent academic performance","Focus on full-stack web development and software engineering","Active participation in hackathons and coding competitions","Relevant coursework: Data Structures, Algorithms, Web Technologies"],type:"education"},{id:3,role:"First Runner-Up",company:"IEEE MDXTHON Hackathon 2025",duration:"2025",location:"Mauritius",details:["🥈 Secured second place in prestigious university hackathon","Developed innovative solution addressing real-world challenges","Collaborated effectively in team environment under time constraints","Demonstrated strong problem-solving and technical skills"],technologies:["React","Node.js","PostgreSQL","Express"],type:"achievement"}],rpe=rD.filter(t=>t.type==="work"),ape=rD.filter(t=>t.type==="education"),spe=rD.filter(t=>t.type==="achievement"),ope=t=>{switch(t){case"work":return fw;case"education":return k2;case"achievement":return j2;default:return fw}},lpe=t=>{switch(t){case"work":return"bg-primary-500";case"education":return"bg-green-500";case"achievement":return"bg-yellow-500";default:return"bg-primary-500"}},upe=({experience:t,index:e})=>{const{ref:n,inView:i}=O5({threshold:.3}),r=ope(t.type),a=e%2===0;return P.jsxs(dt.div,{ref:n,className:"relative flex items-center",initial:"hidden",animate:i?"visible":"hidden",variants:a?H7:F7,transition:{delay:.2},children:[P.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-px bg-dark-600 h-full"}),P.jsx(dt.div,{className:`absolute left-1/2 transform -translate-x-1/2 w-12 h-12 ${lpe(t.type)} rounded-full flex items-center justify-center z-10 shadow-lg`,variants:gf,initial:"hidden",animate:i?"visible":"hidden",transition:{delay:.1},children:P.jsx(r,{className:"w-6 h-6 text-white"})}),P.jsx("div",{className:`w-full flex ${a?"justify-start pr-8":"justify-end pl-8"}`,children:P.jsxs(dt.div,{className:`glass p-6 rounded-xl max-w-md ${a?"mr-8":"ml-8"}`,whileHover:{scale:1.02,y:-5},transition:{type:"spring",stiffness:300},children:[P.jsxs("div",{className:"space-y-2 mb-4",children:[P.jsx("h3",{className:"text-xl font-bold text-white",children:t.role}),P.jsx("h4",{className:"text-lg text-primary-400 font-medium",children:t.company}),P.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-400",children:[P.jsxs("div",{className:"flex items-center space-x-1",children:[P.jsx(o7,{className:"w-4 h-4"}),P.jsx("span",{children:t.duration})]}),t.location&&P.jsxs("div",{className:"flex items-center space-x-1",children:[P.jsx(KS,{className:"w-4 h-4"}),P.jsx("span",{children:t.location})]})]})]}),P.jsx("div",{className:"space-y-3",children:t.details.map((o,u)=>P.jsxs(dt.div,{initial:{opacity:0,x:a?-10:10},animate:i?{opacity:1,x:0}:{opacity:0,x:a?-10:10},transition:{delay:.3+u*.1},className:"flex items-start space-x-3",children:[P.jsx(f7,{className:"w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0"}),P.jsx("span",{className:"text-gray-300 text-sm leading-relaxed",children:o})]},u))}),t.technologies&&P.jsx(dt.div,{initial:{opacity:0},animate:i?{opacity:1}:{opacity:0},transition:{delay:.5},className:"mt-4 pt-4 border-t border-dark-700/50",children:P.jsx("div",{className:"flex flex-wrap gap-2",children:t.technologies.map(o=>P.jsx("span",{className:"px-2 py-1 bg-dark-800/60 text-primary-300 text-xs rounded-md border border-dark-600/50",children:o},o))})})]})})]})},kA=({title:t,experiences:e,icon:n,description:i})=>P.jsxs(Di,{className:"mb-20",children:[P.jsxs("div",{className:"text-center mb-12",children:[P.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[P.jsx(n,{className:"w-8 h-8 text-primary-400"}),P.jsx("h3",{className:"text-3xl font-bold text-white",children:t})]}),P.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:i})]}),P.jsx("div",{className:"relative space-y-16",children:e.map((r,a)=>P.jsx(upe,{experience:r,index:a},r.id))})]}),cpe=()=>P.jsx("section",{id:"experience",className:"py-20 lg:py-32 bg-dark-900",children:P.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[P.jsxs(Di,{className:"text-center mb-16",children:[P.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["My ",P.jsx("span",{className:"text-gradient",children:"Journey"})]}),P.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"From academic pursuits to professional experiences - a timeline of growth, learning, and achievements that shaped my career"})]}),P.jsx(kA,{title:"🏆 Recent Achievements",experiences:spe,icon:j2,description:"Recognition and milestones that mark significant career moments"}),P.jsx(kA,{title:"💼 Professional Experience",experiences:rpe,icon:fw,description:"Real-world experience applying technical skills in professional environments"}),P.jsx(kA,{title:"🎓 Education",experiences:ape,icon:k2,description:"Academic foundation building the knowledge base for my technical career"}),P.jsx(Di,{className:"mt-20",children:P.jsxs(dt.div,{className:"glass p-8 rounded-2xl text-center",variants:gf,initial:"hidden",whileInView:"visible",children:[P.jsxs("h3",{className:"text-2xl font-bold text-white mb-6",children:["Journey ",P.jsx("span",{className:"text-gradient",children:"Summary"})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[P.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.1},children:[P.jsx("div",{className:"text-3xl font-bold text-gradient mb-2",children:"2+"}),P.jsx("div",{className:"text-gray-400 text-sm uppercase tracking-wider",children:"Years in Tech"})]}),P.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2},children:[P.jsx("div",{className:"text-3xl font-bold text-gradient mb-2",children:"3"}),P.jsx("div",{className:"text-gray-400 text-sm uppercase tracking-wider",children:"Years Academic"})]}),P.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.3},children:[P.jsx("div",{className:"text-3xl font-bold text-gradient mb-2",children:"1"}),P.jsx("div",{className:"text-gray-400 text-sm uppercase tracking-wider",children:"Hackathon Award"})]})]}),P.jsx(dt.p,{className:"mt-6 text-gray-400 italic",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.5},children:'"Every experience is a stepping stone to the next level of growth and innovation."'})]})})]})}),fpe=[{id:1,title:"IEEE MDXTHON Hackathon 2025",subtitle:"First Runner-Up 🥈",description:"Secured second place in the prestigious IEEE MDXTHON Hackathon 2025 at Middlesex University Mauritius",details:["Collaborated with a team to develop an innovative solution within 48 hours","Demonstrated strong problem-solving and technical skills under pressure","Presented to a panel of industry experts and judges","Showcased expertise in full-stack development and team collaboration"],technologies:["React","Node.js","PostgreSQL","Express"],date:"2025",type:"hackathon",certificate:"/certificate.png",projectLink:"https://github.com/ieeemumsb/Console.log-Champions-",icon:B7,color:"from-yellow-400 to-orange-500"},{id:2,title:"Academic Excellence",subtitle:"Consistent Performance",description:"Maintaining strong academic performance throughout Computer Science degree program",details:["Year 2 Computer Science student with consistent performance","Active participation in university projects and assignments","Strong foundation in programming fundamentals and algorithms","Engaged in extracurricular tech activities and learning"],date:"2023-2026",type:"academic",icon:j2,color:"from-blue-400 to-purple-500"},{id:3,title:"Self-Driven Learning",subtitle:"Continuous Growth",description:"Demonstrated commitment to continuous learning and skill development beyond formal education",details:["Self-taught modern web development technologies","Built multiple personal projects showcasing diverse skills","Active contributor to open-source learning resources","Passionate about staying current with industry trends"],date:"Ongoing",type:"personal",icon:uz,color:"from-green-400 to-teal-500"}],hpe=({achievement:t,isOpen:e,onClose:n})=>{if(!t)return null;const i=t.icon;return P.jsx(kS,{children:e&&P.jsxs(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:n,children:[P.jsx(dt.div,{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),P.jsxs(dt.div,{variants:W7,initial:"hidden",animate:"visible",exit:"exit",className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto glass rounded-2xl p-8",onClick:r=>r.stopPropagation(),children:[P.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-dark-800 rounded-full transition-colors",children:P.jsx(cz,{className:"w-5 h-5 text-gray-400"})}),P.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[P.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${t.color}`,children:P.jsx(i,{className:"w-8 h-8 text-white"})}),P.jsxs("div",{className:"flex-1",children:[P.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:t.title}),P.jsx("p",{className:"text-lg text-primary-400 font-medium mb-2",children:t.subtitle}),P.jsx("p",{className:"text-gray-400 text-sm",children:t.date})]})]}),P.jsxs("div",{className:"mb-6",children:[P.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:t.description}),P.jsx("div",{className:"space-y-2",children:t.details.map((r,a)=>P.jsxs("div",{className:"flex items-start space-x-3",children:[P.jsx("div",{className:"w-1.5 h-1.5 bg-primary-400 rounded-full mt-2 flex-shrink-0"}),P.jsx("span",{className:"text-gray-300 text-sm",children:r})]},a))})]}),t.technologies&&P.jsxs("div",{className:"mb-6",children:[P.jsx("h4",{className:"text-white font-medium mb-3",children:"Technologies Used"}),P.jsx("div",{className:"flex flex-wrap gap-2",children:t.technologies.map(r=>P.jsx("span",{className:"px-3 py-1 bg-dark-800/60 text-primary-300 text-sm rounded-full border border-dark-600/50",children:r},r))})]}),t.certificate&&P.jsxs("div",{className:"mb-6",children:[P.jsx("h4",{className:"text-white font-medium mb-3",children:"Certificate"}),P.jsx("div",{className:"relative rounded-lg overflow-hidden glass p-4",children:P.jsx("img",{src:`/paulkamani/${t.certificate.replace(/^\//,"")}`,alt:"Achievement Certificate",className:"w-full h-auto rounded-lg"})})]}),P.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.projectLink&&P.jsxs(Rs,{variant:"primary",onClick:()=>window.open(t.projectLink,"_blank"),className:"flex items-center space-x-2",children:[P.jsx(WS,{className:"w-4 h-4"}),P.jsx("span",{children:"View Project"})]}),P.jsx(Rs,{variant:"secondary",onClick:n,children:"Close"})]})]})]})})},dpe=({achievement:t,onClick:e})=>{const n=t.icon;return P.jsx(um,{children:P.jsxs(dt.div,{variants:Y0,whileHover:"hover",whileTap:"tap",className:"glass p-6 rounded-xl cursor-pointer",onClick:e,children:[P.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[P.jsx(dt.div,{className:`p-3 rounded-xl bg-gradient-to-br ${t.color}`,whileHover:{rotate:5,scale:1.05},children:P.jsx(n,{className:"w-6 h-6 text-white"})}),P.jsxs("div",{className:"flex-1",children:[P.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t.title}),P.jsx("p",{className:"text-primary-400 font-medium text-sm mb-1",children:t.subtitle}),P.jsx("p",{className:"text-gray-400 text-xs",children:t.date})]})]}),P.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-4 line-clamp-3",children:t.description}),P.jsxs("div",{className:"flex justify-between items-center",children:[P.jsx("span",{className:"text-primary-400 text-sm font-medium",children:"Click to view details"}),P.jsx(WS,{className:"w-4 h-4 text-primary-400"})]})]})})},ppe=()=>{const[t,e]=H.useState(null);return P.jsxs("section",{id:"achievements",className:"py-20 lg:py-32 bg-gradient-to-b from-dark-900 to-dark-800",children:[P.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[P.jsxs(Di,{className:"text-center mb-16",children:[P.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["My ",P.jsx("span",{className:"text-gradient",children:"Achievements"})]}),P.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"Milestones and recognitions that mark my journey of growth, learning, and contribution to the tech community"})]}),P.jsx(Di,{className:"mb-16",children:P.jsx(dt.div,{className:"glass p-8 rounded-2xl",variants:gf,initial:"hidden",whileInView:"visible",children:P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[P.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.1},children:[P.jsx("div",{className:"text-4xl font-bold text-gradient mb-2",children:"🥈"}),P.jsx("div",{className:"text-white font-medium",children:"Hackathon Runner-Up"}),P.jsx("div",{className:"text-gray-400 text-sm",children:"IEEE MDXTHON 2025"})]}),P.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2},children:[P.jsx("div",{className:"text-4xl font-bold text-gradient mb-2",children:"📚"}),P.jsx("div",{className:"text-white font-medium",children:"Academic Excellence"}),P.jsx("div",{className:"text-gray-400 text-sm",children:"Consistent Performance"})]}),P.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.3},children:[P.jsx("div",{className:"text-4xl font-bold text-gradient mb-2",children:"🚀"}),P.jsx("div",{className:"text-white font-medium",children:"Self-Driven Growth"}),P.jsx("div",{className:"text-gray-400 text-sm",children:"Continuous Learning"})]})]})})}),P.jsx(UC,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:fpe.map(n=>P.jsx(dpe,{achievement:n,onClick:()=>e(n)},n.id))}),P.jsx(Di,{className:"text-center",children:P.jsxs(dt.div,{variants:gf,initial:"hidden",whileInView:"visible",className:"glass p-8 rounded-2xl max-w-2xl mx-auto",children:[P.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["The Journey ",P.jsx("span",{className:"text-gradient",children:"Continues"})]}),P.jsx("p",{className:"text-gray-400 mb-6",children:"These achievements are just the beginning. I'm always looking for new challenges and opportunities to grow, learn, and make a meaningful impact."}),P.jsx(Rs,{variant:"primary",size:"lg",onClick:()=>{const n=document.querySelector("#contact");n&&n.scrollIntoView({behavior:"smooth"})},children:"Let's Build Something Together"})]})})]}),P.jsx(hpe,{achievement:t,isOpen:!!t,onClose:()=>e(null)})]})},j0={_origin:"https://api.emailjs.com"},mpe=(t,e="https://api.emailjs.com")=>{j0._userID=t,j0._origin=e},S6=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class AI{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const M6=(t,e,n={})=>new Promise((i,r)=>{const a=new XMLHttpRequest;a.addEventListener("load",({target:o})=>{const u=new AI(o);u.status===200||u.text==="OK"?i(u):r(u)}),a.addEventListener("error",({target:o})=>{r(new AI(o))}),a.open("POST",j0._origin+t,!0),Object.keys(n).forEach(o=>{a.setRequestHeader(o,n[o])}),a.send(e)}),gpe=(t,e,n,i)=>{const r=i||j0._userID;return S6(r,t,e),M6("/api/v1.0/email/send",JSON.stringify({lib_version:"3.12.1",user_id:r,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},vpe=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},ype=(t,e,n,i)=>{const r=i||j0._userID,a=vpe(n);S6(r,t,e);const o=new FormData(a);return o.append("lib_version","3.12.1"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",r),M6("/api/v1.0/email/send-form",o)},xpe={init:mpe,send:gpe,sendForm:ype},bpe=[{icon:YS,label:"Email",value:"paulkamani9@gmail.com",link:"mailto:paulkamani9@gmail.com",color:"from-blue-400 to-blue-600"},{icon:lz,label:"Phone",value:"+230 57475246",link:"tel:+23057475246",color:"from-green-400 to-green-600"},{icon:KS,label:"Location",value:"Flic en Flac, Mauritius",link:null,color:"from-purple-400 to-purple-600"}],_pe=[{icon:W0,label:"GitHub",username:"paulkamani9",link:"https://github.com/paulkamani9",color:"from-gray-400 to-gray-600"},{icon:oz,label:"LinkedIn",username:"paulkamani",link:"https://linkedin.com/in/paulkamani",color:"from-blue-400 to-blue-600"}],Spe=()=>{const[t,e]=H.useState({name:"",email:"",message:""}),[n,i]=H.useState(!1),[r,a]=H.useState(!1),o=f=>{const{name:d,value:m}=f.target;e(g=>({...g,[d]:m}))},u=async f=>{f.preventDefault(),i(!0);const d="service_f2cmu3r",m="template_1xqakv8",g="gx69yNageAVrn-Kee";try{const y={from_name:t.name,from_email:t.email,message:t.message};await xpe.send(d,m,y,g),a(!0),setTimeout(()=>{a(!1),e({name:"",email:"",message:""})},3e3)}catch(y){console.error("EmailJS send error:",y)}finally{i(!1),r&&setTimeout(()=>{a(!1),e({name:"",email:"",message:""})},3e3)}};return P.jsx("section",{id:"contact",className:"py-20 lg:py-32 bg-dark-900",children:P.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[P.jsxs(Di,{className:"text-center mb-16",children:[P.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Let's ",P.jsx("span",{className:"text-gradient",children:"Connect"})]}),P.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto leading-relaxed",children:"Ready to collaborate on your next project? I'd love to hear from you! Whether it's a job opportunity, project collaboration, or just a friendly chat about tech."})]}),P.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[P.jsx(Di,{children:P.jsxs("div",{className:"space-y-8",children:[P.jsxs("div",{children:[P.jsxs("h3",{className:"text-2xl font-bold text-white mb-6",children:["Get ",P.jsx("span",{className:"text-gradient",children:"In Touch"})]}),P.jsx("p",{className:"text-gray-400 leading-relaxed mb-8",children:"I'm always excited to discuss new opportunities, innovative projects, and ways to contribute to meaningful solutions. Feel free to reach out!"})]}),P.jsx("div",{className:"space-y-4",children:bpe.map(f=>{const d=f.icon,m=P.jsxs(dt.div,{variants:Y0,whileHover:"hover",className:"flex items-center space-x-4 glass p-4 rounded-xl",children:[P.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-br ${f.color}`,children:P.jsx(d,{className:"w-5 h-5 text-white"})}),P.jsxs("div",{children:[P.jsx("div",{className:"text-sm text-gray-400 uppercase tracking-wider",children:f.label}),P.jsx("div",{className:"text-white font-medium",children:f.value})]})]});return f.link?P.jsx(dt.a,{href:f.link,initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:.1},className:"block",children:m},f.label):P.jsx(dt.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:.1},children:m},f.label)})}),P.jsxs("div",{children:[P.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Find Me Online"}),P.jsx("div",{className:"flex space-x-4",children:_pe.map(f=>{const d=f.icon;return P.jsx(dt.a,{href:f.link,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.95},className:`p-4 rounded-xl bg-gradient-to-br ${f.color} group`,children:P.jsx(d,{className:"w-6 h-6 text-white"})},f.label)})})]})]})}),P.jsx(Di,{children:P.jsxs(dt.div,{className:"glass p-8 rounded-2xl",variants:gf,initial:"hidden",whileInView:"visible",children:[P.jsxs("h3",{className:"text-2xl font-bold text-white mb-6",children:["Send a ",P.jsx("span",{className:"text-gradient",children:"Message"})]}),r?P.jsxs(dt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-12",children:[P.jsx(dt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:P.jsx(d7,{className:"w-8 h-8 text-white"})}),P.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Message Sent!"}),P.jsx("p",{className:"text-gray-400",children:"Thanks for reaching out! I'll get back to you as soon as possible."})]}):P.jsxs("form",{onSubmit:u,className:"space-y-6",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name *"}),P.jsx("input",{type:"text",name:"name",value:t.name,onChange:o,required:!0,className:"w-full px-4 py-3 bg-dark-800/60 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"Your full name"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),P.jsx("input",{type:"email",name:"email",value:t.email,onChange:o,required:!0,className:"w-full px-4 py-3 bg-dark-800/60 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",placeholder:"your.email@example.com"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message *"}),P.jsx("textarea",{name:"message",value:t.message,onChange:o,required:!0,rows:5,className:"w-full px-4 py-3 bg-dark-800/60 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all resize-none",placeholder:"Tell me about your project, opportunity, or just say hello!"})]}),P.jsx(Rs,{type:"submit",variant:"primary",size:"lg",disabled:n,className:"w-full flex items-center justify-center space-x-2",children:n?P.jsxs(P.Fragment,{children:[P.jsx(dt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),P.jsx("span",{children:"Sending..."})]}):P.jsxs(P.Fragment,{children:[P.jsx(O7,{className:"w-5 h-5"}),P.jsx("span",{children:"Send Message"})]})})]})]})})]}),P.jsx(Di,{className:"text-center mt-16",children:P.jsxs(dt.div,{variants:Go,className:"glass p-6 rounded-xl max-w-2xl mx-auto",children:[P.jsx("p",{className:"text-gray-400 italic",children:`"The best projects come from great collaborations. Let's create something amazing together!"`}),P.jsx("p",{className:"text-primary-400 font-medium mt-2",children:"— Paul Kamani"})]})})]})})};function Mpe(){return P.jsxs(J7,{children:[P.jsx(Fee,{}),P.jsx(jee,{}),P.jsx($de,{}),P.jsx(ipe,{}),P.jsx(cpe,{}),P.jsx(ppe,{}),P.jsx(Spe,{})]})}b8.createRoot(document.getElementById("root")).render(P.jsx(H.StrictMode,{children:P.jsx(Mpe,{})}));
